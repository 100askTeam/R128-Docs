"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3143],{8095:(e,l,d)=>{d.r(l),d.d(l,{assets:()=>_,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>h});var n=d(5893),c=d(1151);const i={},s="SPI LCD \u663e\u793a\u9a71\u52a8",r={id:"developer-guide/part1/chapter5",title:"SPI LCD \u663e\u793a\u9a71\u52a8",description:"\u7b80\u4ecb",source:"@site/docs/developer-guide/part1/chapter5.md",sourceDirName:"developer-guide/part1",slug:"/developer-guide/part1/chapter5",permalink:"/en/developer-guide/part1/chapter5",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/R128-Docs/tree/main/docs/developer-guide/part1/chapter5.md",tags:[],version:"current",frontMatter:{},sidebar:"classpartoneSidebar",previous:{title:"\u663e\u793a\u4e0e\u5c4f\u5e55\u9a71\u52a8",permalink:"/en/developer-guide/part1/chapter4"},next:{title:"GUI \u56fe\u5f62\u7cfb\u7edf",permalink:"/en/developer-guide/part1/chapter6"}},_={},h=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u6a21\u5757\u9a71\u52a8",id:"\u6a21\u5757\u9a71\u52a8",level:2},{value:"menuconfig\u914d\u7f6e\u8bf4\u660e",id:"menuconfig\u914d\u7f6e\u8bf4\u660e",level:3},{value:"\u6e90\u7801\u7ed3\u6784\u4ecb\u7ecd",id:"\u6e90\u7801\u7ed3\u6784\u4ecb\u7ecd",level:3},{value:"\u6a21\u5757\u53c2\u6570\u914d\u7f6e",id:"\u6a21\u5757\u53c2\u6570\u914d\u7f6e",level:2},{value:"\u4f7f\u7528 sys_config.fex \u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e",id:"\u4f7f\u7528-sys_configfex-\u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e",level:3},{value:"lcd_driver_name",id:"lcd_driver_name",level:4},{value:"lcd_model_name",id:"lcd_model_name",level:4},{value:"lcd_if",id:"lcd_if",level:4},{value:"lcd_dbi_if",id:"lcd_dbi_if",level:4},{value:"lcd_dbi_fmt",id:"lcd_dbi_fmt",level:4},{value:"lcd_dbi_te",id:"lcd_dbi_te",level:4},{value:"lcd_dbi_clk_mode",id:"lcd_dbi_clk_mode",level:4},{value:"lcd_rgb_order",id:"lcd_rgb_order",level:4},{value:"lcd_x",id:"lcd_x",level:4},{value:"lcd_y",id:"lcd_y",level:4},{value:"lcd_data_speed",id:"lcd_data_speed",level:4},{value:"lcd_fps",id:"lcd_fps",level:4},{value:"lcd_pwm_used",id:"lcd_pwm_used",level:4},{value:"lcd_pwm_ch",id:"lcd_pwm_ch",level:4},{value:"lcd_pwm_freq",id:"lcd_pwm_freq",level:4},{value:"lcd_pwm_pol",id:"lcd_pwm_pol",level:4},{value:"lcd_pwm_max_limit",id:"lcd_pwm_max_limit",level:4},{value:"lcd_backlight",id:"lcd_backlight",level:4},{value:"lcd_bl_en",id:"lcd_bl_en",level:4},{value:"lcd_spi_dc_pin",id:"lcd_spi_dc_pin",level:4},{value:"lcd_gpio_x",id:"lcd_gpio_x",level:4},{value:"lcd_spi_bus_num",id:"lcd_spi_bus_num",level:4},{value:"lcd_pixel_fmt",id:"lcd_pixel_fmt",level:4},{value:"fb_buffer_num",id:"fb_buffer_num",level:4},{value:"\u6a21\u5757 sys_config.fex \u914d\u7f6e\u6848\u4f8b",id:"\u6a21\u5757-sys_configfex-\u914d\u7f6e\u6848\u4f8b",level:3},{value:"\u5178\u578b2 data lane\u914d\u7f6e",id:"\u5178\u578b2-data-lane\u914d\u7f6e",level:4},{value:"\u539fSPI\u63a5\u53e3\u5c4f\u914d\u7f6e",id:"\u539fspi\u63a5\u53e3\u5c4f\u914d\u7f6e",level:4},{value:"\u5e26te\u811a\u7684\u5c4f",id:"\u5e26te\u811a\u7684\u5c4f",level:4},{value:"\u6a2a\u7ad6\u5c4f\u65cb\u8f6c",id:"\u6a2a\u7ad6\u5c4f\u65cb\u8f6c",level:4},{value:"\u5e27\u7387\u63a7\u5236",id:"\u5e27\u7387\u63a7\u5236",level:4},{value:"\u80cc\u5149\u63a7\u5236",id:"\u80cc\u5149\u63a7\u5236",level:4},{value:"\u50cf\u7d20\u683c\u5f0f\u76f8\u5173",id:"\u50cf\u7d20\u683c\u5f0f\u76f8\u5173",level:4},{value:"\u7535\u6e90\u914d\u7f6e",id:"\u7535\u6e90\u914d\u7f6e",level:4},{value:"GPIO\u914d\u7f6e\u8bf4\u660e",id:"gpio\u914d\u7f6e\u8bf4\u660e",level:4},{value:"\u591a\u4e2a\u663e\u793a",id:"\u591a\u4e2a\u663e\u793a",level:4},{value:"\u4f9d\u8d56\u9a71\u52a8\u914d\u7f6e",id:"\u4f9d\u8d56\u9a71\u52a8\u914d\u7f6e",level:4},{value:"\u4f7f\u7528\u663e\u793a\u79c1\u6709\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e",id:"\u4f7f\u7528\u663e\u793a\u79c1\u6709\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e",level:3},{value:"\u7f16\u5199\u5c4f\u9a71\u52a8",id:"\u7f16\u5199\u5c4f\u9a71\u52a8",level:2},{value:"\u5f00\u5173\u5c4f\u6d41\u7a0b\u51fd\u6570\u89e3\u6790",id:"\u5f00\u5173\u5c4f\u6d41\u7a0b\u51fd\u6570\u89e3\u6790",level:3},{value:"LCD_open_flow",id:"lcd_open_flow",level:4},{value:"LCD_close_flow",id:"lcd_close_flow",level:4},{value:"LCD_OPEN_FUNC",id:"lcd_open_func",level:4},{value:"LCD_power_on",id:"lcd_power_on",level:4},{value:"LCD_panel_init",id:"lcd_panel_init",level:4},{value:"lcd_fb_black_screen",id:"lcd_fb_black_screen",level:4},{value:"LCD_bl_open",id:"lcd_bl_open",level:4},{value:"LCD_bl_close",id:"lcd_bl_close",level:4},{value:"LCD_power_off",id:"lcd_power_off",level:4},{value:"sunxi_lcd_delay_ms",id:"sunxi_lcd_delay_ms",level:4},{value:"sunxi_lcd_backlight_enable",id:"sunxi_lcd_backlight_enable",level:4},{value:"sunxi_lcd_pwm_enable",id:"sunxi_lcd_pwm_enable",level:4},{value:"sunxi_lcd_power_enable",id:"sunxi_lcd_power_enable",level:4},{value:"sunxi_lcd_cmd_write",id:"sunxi_lcd_cmd_write",level:4},{value:"sunxi_lcd_para_write",id:"sunxi_lcd_para_write",level:4},{value:"sunxi_lcd_gpio_set_value",id:"sunxi_lcd_gpio_set_value",level:4},{value:"sunxi_lcd_gpio_set_direction",id:"sunxi_lcd_gpio_set_direction",level:4},{value:"\u6a21\u5757\u6d4b\u8bd5\u7528\u4f8b",id:"\u6a21\u5757\u6d4b\u8bd5\u7528\u4f8b",level:2},{value:"FAQ",id:"faq",level:2},{value:"\u600e\u4e48\u5224\u65ad\u5c4f\u521d\u59cb\u5316\u6210\u529f",id:"\u600e\u4e48\u5224\u65ad\u5c4f\u521d\u59cb\u5316\u6210\u529f",level:3},{value:"\u9ed1\u5c4f-\u65e0\u80cc\u5149",id:"\u9ed1\u5c4f-\u65e0\u80cc\u5149",level:3},{value:"\u9001\u56fe\u65e0\u663e\u793a",id:"\u9001\u56fe\u65e0\u663e\u793a",level:3},{value:"\u95ea\u5c4f",id:"\u95ea\u5c4f",level:3},{value:"\u753b\u9762\u504f\u79fb",id:"\u753b\u9762\u504f\u79fb",level:3},{value:"\u5c4f\u5e55\u767d\u5c4f",id:"\u5c4f\u5e55\u767d\u5c4f",level:3},{value:"\u5c4f\u5e55\u82b1\u5c4f",id:"\u5c4f\u5e55\u82b1\u5c4f",level:3},{value:"LVGL \u5c4f\u5e55\u989c\u8272\u4e0d\u6b63\u786e",id:"lvgl-\u5c4f\u5e55\u989c\u8272\u4e0d\u6b63\u786e",level:3},{value:"\u663e\u793a\u53cd\u8272",id:"\u663e\u793a\u53cd\u8272",level:3},{value:"LVGL \u51fa\u73b0 DMA Over Size",id:"lvgl-\u51fa\u73b0-dma-over-size",level:3},{value:"\u51fa\u73b0\u90e8\u5206\u82b1\u5c4f",id:"\u51fa\u73b0\u90e8\u5206\u82b1\u5c4f",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"SPI LCD \u989c\u8272\u76f8\u5173\u95ee\u9898",id:"spi-lcd-\u989c\u8272\u76f8\u5173\u95ee\u9898",level:3},{value:"RGB565\u548cRGB666",id:"rgb565\u548crgb666",level:4},{value:"SPI \u63a5\u53e3",id:"spi-\u63a5\u53e3",level:4},{value:"DBI \u63a5\u53e3",id:"dbi-\u63a5\u53e3",level:4}];function x(e){const l={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.h1,{id:"spi-lcd-\u663e\u793a\u9a71\u52a8",children:"SPI LCD \u663e\u793a\u9a71\u52a8"}),"\n",(0,n.jsx)(l.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,n.jsx)(l.p,{children:"R128 \u5e73\u53f0\u63d0\u4f9b\u4e86 SPI DBI \u7684 SPI TFT \u63a5\u53e3\uff0c\u5177\u6709\u5982\u4e0b\u7279\u70b9\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:"Supports DBI Type C 3 Line/4 Line Interface Mode"}),"\n",(0,n.jsx)(l.li,{children:"Supports 2 Data Lane Interface Mode"}),"\n",(0,n.jsx)(l.li,{children:"Supports data source from CPU or DMA"}),"\n",(0,n.jsx)(l.li,{children:"Supports RGB111/444/565/666/888 video format"}),"\n",(0,n.jsx)(l.li,{children:"Maximum resolution of RGB666 240 x 320@30Hz with single data lane"}),"\n",(0,n.jsx)(l.li,{children:"Maximum resolution of RGB888 240 x 320@60Hz or 320 x 480@30Hz with dual data lane"}),"\n",(0,n.jsx)(l.li,{children:"Supports tearing effect"}),"\n",(0,n.jsx)(l.li,{children:"Supports software flexible control video frame rate"}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"\u540c\u65f6\uff0c\u63d0\u4f9b\u4e86SPILCD\u9a71\u52a8\u6846\u67b6\u4ee5\u4f9b SPI \u5c4f\u5e55\u4f7f\u7528\u3002"}),"\n",(0,n.jsx)(l.h2,{id:"\u6a21\u5757\u9a71\u52a8",children:"\u6a21\u5757\u9a71\u52a8"}),"\n",(0,n.jsx)(l.h3,{id:"menuconfig\u914d\u7f6e\u8bf4\u660e",children:"menuconfig\u914d\u7f6e\u8bf4\u660e"}),"\n",(0,n.jsx)(l.p,{children:"SPILCD \u6a21\u5757 menuconfig \u7684\u914d\u7f6e\u5982\u4e0b\uff08\u4ee5\u9009\u62e9kld2844b\u5c4f\u4e3a\u4f8b\uff09\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"Drivers Options  ---\x3e\n    soc related device drivers  ---\x3e\n        SPILCD Devices  ---\x3e\n            [*] DISP Driver Support(spi_lcd)\n            [*]   spilcd hal APIs test           //spilcd\u6a21\u5757\u6d4b\u8bd5\u7528\u4f8b\n            LCD_FB panels select  ---\x3e           //spilcd\u5c4f\u9a71\u52a8\u914d\u7f6e\n                [*] LCD support kld2844B panel\n                [ ] LCD support kld35512 panel\n            Board select  ---\x3e\n                [ ] board kld2844b support       //\u677f\u7ea7\u663e\u793a\u4f7f\u7528\u663e\u793a\u9a71\u52a8\u79c1\u6709\u65b9\u5f0f\u7684\u914d\u7f6e\u9879\uff0c\u800c\u4f7f\u7528sys_config.fex\u65b9\u5f0f\u4e0d\u7528\u914d\u7f6e\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u53e6\u5916\u53ef\u80fd\u9700\u4f9d\u8d56\u7684\u914d\u7f6e\u9879\u6709\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:"DRIVERS_SPI"}),"\n",(0,n.jsx)(l.li,{children:"DRIVERS_DBI"}),"\n",(0,n.jsx)(l.li,{children:"DRIVERS_PWM"}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"\u6e90\u7801\u7ed3\u6784\u4ecb\u7ecd",children:"\u6e90\u7801\u7ed3\u6784\u4ecb\u7ecd"}),"\n",(0,n.jsx)(l.p,{children:"\u6e90\u7801\u7ed3\u6784\u53ca\u4e3b\u8981\u9a71\u52a8\u6587\u4ef6\u5982\u4e0b\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"spilcd/\n\u251c\u2500\u2500 lcd_fb/\n\u2502   \u251c\u2500\u2500 dev_lcd_fb.c                # spilcd driver \u5c42\n\u2502   \u251c\u2500\u2500 disp_display.c\n\u2502   \u251c\u2500\u2500 disp_lcd.c\n\u2502   \u251c\u2500\u2500 lcd_fb_intf.c\n\u2502   \u2514\u2500\u2500 panels/                     # lcd\u9a71\u52a8\u76f8\u5173\n\u2502       \u251c\u2500\u2500 kld2844b.c\n\u2502       \u251c\u2500\u2500 lcd_source.c\n\u2502       \u251c\u2500\u2500 panels.c\n\u2502       \u2514\u2500\u2500 panels.h\n\u2514\u2500\u2500 soc/\n    \u251c\u2500\u2500 disp_board_config.c         # \u677f\u7ea7\u914d\u7f6e\u89e3\u6790\n    \u2514\u2500\u2500 kld2844b_config.c           # \u663e\u793a\u79c1\u6709\u65b9\u5f0f\u7684\u677f\u7ea7\u914d\u7f6e\u6587\u4ef6\n"})}),"\n",(0,n.jsx)(l.h2,{id:"\u6a21\u5757\u53c2\u6570\u914d\u7f6e",children:"\u6a21\u5757\u53c2\u6570\u914d\u7f6e"}),"\n",(0,n.jsxs)(l.p,{children:["\u5f53\u524d\u677f\u7ea7\u663e\u793a\u652f\u6301\u4e24\u79cd\u914d\u7f6e\u65b9\u6cd5\uff0c\u4e00\u662f\u4f7f\u7528 ",(0,n.jsx)(l.code,{children:"sys_config.fex"})," \u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e\uff0c\u4e8c\u662f\u5728\u4e0d\u652f\u6301",(0,n.jsx)(l.code,{children:"sys_config.fex"})," \u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u663e\u793a\u9a71\u52a8\u79c1\u6709\u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e\u3002\u4e0b\u9762\u5206\u522b\u5bf9\u4e24\u79cd\u65b9\u5f0f\u8fdb\u884c\u8bf4\u660e\u3002"]}),"\n",(0,n.jsx)(l.h3,{id:"\u4f7f\u7528-sys_configfex-\u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e",children:"\u4f7f\u7528 sys_config.fex \u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e"}),"\n",(0,n.jsxs)(l.p,{children:["FreeRTOS\u7cfb\u7edf\u8def\u5f84\uff1a",(0,n.jsx)(l.code,{children:"board/\u82af\u7247\u540d/\u65b9\u6848\u540d/configs/sys_config.fex"})]}),"\n",(0,n.jsxs)(l.blockquote,{children:["\n",(0,n.jsx)(l.p,{children:"\u914d\u7f6e\u6587\u4ef6\u5177\u4f53\u8981\u770b\u82af\u7247\u65b9\u6848\u6240\u5b9e\u9645\u4f7f\u7528\u7684\uff0c\u4e5f\u53ef\u80fd\u4f7f\u7528\u7684\u914d\u7f6e\u6587\u4ef6\u540d\u79f0\u4e3asys_config_xxx.fex\uff08xx\u662f\u5b58\u50a8\u65b9\u6848\u7684\u6807\u8bc6\uff0c\u4f8b\u5982sys_config_nor.cfg\u3001sys_config_nand.cfg\uff09"}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"\u5177\u4f53\u914d\u7f6e\u4e3e\u4f8b\u5982\u4e0b\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:';----------------------------------------------------------------------------------\n;lcd_fb0 configuration\n;----------------------------------------------------------------------------------\n[lcd_fb0]\nlcd_used            = 1              ; \u4f7f\u7528\u663e\u793a\u5c4f\nlcd_model_name      = "spilcd"       ; \u6a21\u578b\uff1aspilcd\nlcd_driver_name     = "jlt35031c"    ; \u5c4f\u5e55\u9a71\u52a8\uff1ajlt35031c\nlcd_x               = 320            ; \u5c4f\u5e55\u5bbd\u5206\u8fa8\u7387\nlcd_y               = 480            ; \u5c4f\u5e55\u9ad8\u5206\u8fa8\u7387\nlcd_width           = 49             ; \u5c4f\u5e55\u7269\u7406\u5bbd\u5ea6\nlcd_height          = 74             ; \u5c4f\u5e55\u7269\u7406\u9ad8\u5ea6\nlcd_data_speed      = 60             ; SPI \u9a71\u52a8\u9891\u7387 60MHz\nlcd_pwm_used        = 1              ; lcd\u4f7f\u7528pwm\u80cc\u5149\nlcd_pwm_ch          = 1              ; lcd\u4f7f\u7528pwm\u80cc\u5149\u901a\u90531\nlcd_pwm_freq        = 5000           ; lcd\u4f7f\u7528pwm\u80cc\u5149\u9891\u73875000Hz\nlcd_pwm_pol         = 0              ; lcd\u4f7f\u7528pwm\u80cc\u5149\u76f8\u4f4d0\nlcd_if              = 0              ; lcd\u4f7f\u7528spi\u63a5\u53e3\uff0c0-spi, 1-dbi\nlcd_pixel_fmt       = 11             \nlcd_dbi_fmt         = 2\nlcd_dbi_clk_mode    = 1\nlcd_dbi_te          = 1\nfb_buffer_num       = 2\nlcd_dbi_if          = 4\nlcd_rgb_order       = 0\nlcd_fps             = 60\nlcd_spi_bus_num     = 1\nlcd_frm             = 2\nlcd_gamma_en        = 1\nlcd_backlight       = 100\n\nlcd_power_num       = 0\nlcd_gpio_regu_num   = 0\nlcd_bl_percent_num  = 0\n\nlcd_spi_dc_pin      = port:PA19<1><0><3><0> ; DC\u811a\n;RESET Pin\nlcd_gpio_0          = port:PA20<1><0><2><0> ; \u590d\u4f4d\u811a\n'})}),"\n",(0,n.jsx)(l.h4,{id:"lcd_driver_name",children:"lcd_driver_name"}),"\n",(0,n.jsxs)(l.p,{children:["Lcd\u5c4f\u9a71\u52a8\u7684\u540d\u5b57\uff08\u5b57\u7b26\u4e32\uff09\uff0c\u5fc5\u987b\u4e0e\u5c4f\u9a71\u52a8\u4e2d",(0,n.jsx)(l.code,{children:"strcut __lcd_panel"}),"\u53d8\u91cf\u7684",(0,n.jsx)(l.code,{children:"name"}),"\u6210\u5458\u4e00\u81f4\u3002"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_model_name",children:"lcd_model_name"}),"\n",(0,n.jsx)(l.p,{children:"Lcd\u5c4f\u6a21\u578b\u540d\u5b57\uff0c\u975e\u5fc5\u987b\uff0c\u53ef\u4ee5\u7528\u4e8e\u540c\u4e2a\u5c4f\u9a71\u52a8\u4e2d\u8fdb\u4e00\u6b65\u533a\u5206\u4e0d\u540c\u5c4f\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_if",children:"lcd_if"}),"\n",(0,n.jsx)(l.p,{children:"Lcd Interface"}),"\n",(0,n.jsx)(l.p,{children:"\u8bbe\u7f6e\u76f8\u5e94\u503c\u7684\u5bf9\u5e94\u542b\u4e49\u4e3a\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"0\uff1aspi\u63a5\u53e3\n1\uff1adbi\u63a5\u53e3\n"})}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"spi"}),"\u63a5\u53e3\u5c31\u662f\u4fd7\u79f0\u76844\u7ebf\u6a21\u5f0f\uff0c\u8fd9\u662f\u56e0\u4e3a\u53d1\u9001\u6570\u636e\u65f6\u9700\u8981\u989d\u5916\u501f\u52a9",(0,n.jsx)(l.code,{children:"DC"}),"\u7ebf\u6765\u533a\u5206\u547d\u4ee4\u548c\u6570\u636e\uff0c\u4e0e",(0,n.jsx)(l.code,{children:"sclk"}),"\uff0c",(0,n.jsx)(l.code,{children:"cs"}),"\u548c",(0,n.jsx)(l.code,{children:"sda"}),"\u5171\u56db\u7ebf\u3002"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image1.png",alt:""})}),"\n",(0,n.jsxs)(l.p,{children:["\u5982\u679c\u8bbe\u7f6e\u4e86",(0,n.jsx)(l.code,{children:"dbi"}),"\u63a5\u53e3\uff0c\u90a3\u4e48\u8fd8\u9700\u8981\u8fdb\u4e00\u6b65\u533a\u5206",(0,n.jsx)(l.code,{children:"dbi"}),"\u63a5\u53e3\uff0c\u9700\u8981\u8bbe\u7f6e ",(0,n.jsx)(l.code,{children:"lcd_dbi_if"})]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_dbi_if",children:"lcd_dbi_if"}),"\n",(0,n.jsx)(l.p,{children:"Lcd dbi \u63a5\u53e3\u8bbe\u7f6e\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["\u8fd9\u4e2a\u53c2\u6570\u53ea\u6709\u5728",(0,n.jsx)(l.code,{children:"lcd_if=1"}),"\u65f6\u624d\u6709\u6548\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u8bbe\u7f6e\u76f8\u5e94\u503c\u7684\u5bf9\u5e94\u542b\u4e49\u4e3a\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"0\uff1aL3I1\n1\uff1aL3I2\n2\uff1aL4I1\n3\uff1aL4I2\n4\uff1aD2LI\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u6240\u6709\u6a21\u5f0f\u5728\u53d1\u9001\u6570\u636e\u65f6\u6bcf\u4e2a\u5468\u671f\u7684\u6bd4\u7279\u6570\u91cf\u6839\u636e\u4e0d\u540c\u50cf\u7d20\u683c\u5f0f\u4e0d\u540c\u800c\u4e0d\u540c\u3002"}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"L3I1"}),"\u548c",(0,n.jsx)(l.code,{children:"L3I2"}),"\u662f\u4e09\u7ebf\u6a21\u5f0f\uff08\u4e0d\u9700\u8981",(0,n.jsx)(l.code,{children:"DC"}),"\u811a\uff09\uff0c\u533a\u522b\u662f\u8bfb\u65f6\u5e8f\uff0c\u4e5f\u5c31\u662f\u662f\u5426\u9700\u8981\u989d\u5916\u811a\u6765\u8bfb\u5bc4\u5b58\u5668\u3002\u8bfb\u5199\u65f6\u5e8f\u56fe\u5982\u4e0b\uff1a"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image2.png",alt:""})}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image3.png",alt:""})}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"L4I1"}),"\u548c",(0,n.jsx)(l.code,{children:"L4I2"}),"\u662f\u56db\u7ebf\u6a21\u5f0f\uff0c\u4e0espi\u63a5\u53e3\u534f\u8bae\u4e00\u6837\uff0c\u533a\u522b\u662fDC\u811a\u7684\u63a7\u5236\u662f\u5426\u81ea\u52a8\u5316\u63a7\u5236\uff0c\u53e6\u5916I2\u548cI1\u7684\u533a\u522b\u662f\u8bfb\u65f6\u5e8f\uff0c\u4e5f\u5c31\u662f\u5426\u9700\u8981\u989d\u5916\u811a\u6765\u8bfb\u53d6\u5bc4\u5b58\u5668\u3002"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image4.png",alt:""})}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image5.png",alt:""})}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"D2LI"}),"\u662f\u4e24data lane\u6a21\u5f0f\u3002\u53d1\u9001\u547d\u4ee4\u90e8\u5206\u65f6\u5e8f\u4e0e\u8bfb\u65f6\u5e8f\u4e0e",(0,n.jsx)(l.code,{children:"L3I1"}),"\u4e00\u81f4\uff0c\u4e0b\u56fe\u662f\u53d1\u9001\u6570\u636e\u65f6\u7684\u65f6\u5e8f\uff0c\u4e0d\u540c\u50cf\u7d20\u683c\u5f0f\u65f6\u949f\u5468\u671f\u6570\u91cf\u4e0d\u4e00\u6837\u3002"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image6.png",alt:""})}),"\n",(0,n.jsx)(l.h4,{id:"lcd_dbi_fmt",children:"lcd_dbi_fmt"}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"DBI"}),"\u63a5\u53e3\u50cf\u7d20\u683c\u5f0f\u3002"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"0\uff1aRGB111\n1\uff1aRGB444\n2\uff1aRGB565\n3\uff1aRGB666\n4\uff1aRGB888\n"})}),"\n",(0,n.jsxs)(l.p,{children:["\u9009\u62e9\u7684\u4f9d\u636e\u662f\u63a5\u6536\u7aef\u5c4f",(0,n.jsx)(l.code,{children:"Driver IC"}),"\u7684\u652f\u6301\u60c5\u51b5\uff0c\u8bf7\u67e5\u770b",(0,n.jsx)(l.code,{children:"Driver IC"}),"\u624b\u518c\u6216\u8be2\u95ee\u5c4f\u5382\u3002"]}),"\n",(0,n.jsxs)(l.p,{children:["\u7136\u540e\u5fc5\u987b\u914d\u5408",(0,n.jsx)(l.code,{children:"lcd_pixel_fmt"}),"\u7684\u9009\u62e9\uff0c\u6bd4\u5982\u8bf4\u9009RGB565\u65f6\uff0c",(0,n.jsx)(l.code,{children:"lcd_pixel_fmt"}),"\u4e5f\u8981\u9009565\u683c\u5f0f\u3002"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_dbi_te",children:"lcd_dbi_te"}),"\n",(0,n.jsx)(l.p,{children:"\u4f7f\u80fdte\u89e6\u53d1\u3002"}),"\n",(0,n.jsx)(l.p,{children:"te\u5373\uff08Tearing effect\uff09\uff0c\u4e5f\u5c31\u662f\u6495\u88c2\u7684\u610f\u601d\uff0c\u7531\u4e8e\u8bfb\u5199\u4e0d\u540c\u5bfc\u81f4\u6495\u88c2\u73b0\u8c61\uff0cte\u811a\u7684\u529f\u80fd\u5c31\u662f\u7528\u4e8e\u540c\u6b65\u8bfb\u5199\uff0cte\u811a\u7684\u9891\u7387\u4e5f\u5c31\u662f\u5c4f\u7684\u5237\u65b0\u7387\uff0c\u6240\u4ee5te\u811a\u4e5f\u53ef\u4ee5\u770b\u505avsync\u811a\uff08\u5782\u76f4\u540c\u6b65\u811a\uff09"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"0: \u7981\u6b62te\n1: \u4e0b\u964d\u6cbf\u89e6\u53d1\n2: \u4e0a\u5347\u6cbf\u89e6\u53d1\n"})}),"\n",(0,n.jsxs)(l.p,{children:["\u67e5\u770b",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#%E5%B8%A6te%E8%84%9A%E7%9A%84%E5%B1%8F",children:"\u5e26te\u811a\u7684\u5c4f"}),"\u8fdb\u4e00\u6b65\u8bf4\u660e\u3002"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_dbi_clk_mode",children:"lcd_dbi_clk_mode"}),"\n",(0,n.jsx)(l.p,{children:"\u9009\u62e9dbi\u65f6\u949f\u7684\u884c\u4e3a\u6a21\u5f0f\u3002"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"0:\u81ea\u52a8\u505c\u6b62\u3002\u6709\u6570\u636e\u5c31\u6709\u65f6\u949f\uff0c\u6ca1\u53d1\u6570\u636e\u5c31\u6ca1\u6709\n1:\u4e00\u76f4\u4fdd\u6301\u3002\u65e0\u8bba\u53d1\u4e0d\u53d1\u6570\u636e\u90fd\u6709\u65f6\u949f\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u6ce8\u610f\u4e0a\u9762\u7684\u9009\u9879\u5173\u7cfb\u5c4f\u517c\u5bb9\u6027\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_rgb_order",children:"lcd_rgb_order"}),"\n",(0,n.jsx)(l.p,{children:"\u8f93\u5165\u56fe\u50cf\u6570\u636ergb\u987a\u5e8f\u8bc6\u522b\u8bbe\u7f6e\uff0c\u4ec5\u5f53lcd_if=1\u65f6\u6709\u6548\u3002"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"0:RGB\n1:RBG\n2:GRB\n3:GBR\n4:BRG\n5:BGR\n6:G_1RBG_0\n7:G_0RBG_1\n8:G_1BRG_0\n9:G_0BRG_1\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u975eRGB565\u683c\u5f0f\u75280\u52305\u5373\u53ef\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u9488\u5bf9rgb565\u683c\u5f0f\u8bf4\u660e\u5982\u4e0b\uff1a"}),"\n",(0,n.jsx)(l.p,{children:"rgb565\u683c\u5f0f\u4f1a\u9047\u5230\u5927\u5c0f\u7aef\u95ee\u9898\uff0carm\u5e73\u53f0\u548cPC\u5e73\u53f0\u5b58\u50a8\u90fd\u662f\u5c0f\u7aef(little endian\uff0c\u4f4e\u5b57\u8282\u653e\u5728\u4f4e\u5730\u5740\uff0c\u9ad8\u5b57\u8282\u653e\u5728\u9ad8\u5730\u5740\uff09\uff0c\u4f46\u662f\u8bb8\u591aspi\u5c4f\u90fd\u662f\u9ed8\u8ba4\u5927\u7aef\uff08Big Endian\uff09\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u4e5f\u5c31\u662f\u5b58\u50a8\u7684\u5b57\u8282\u987a\u5e8f\u548c\u53d1\u9001\u7684\u5b57\u8282\u987a\u5e8f\u4e0d\u5bf9\u5e94\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u8fd9\u4e2a\u65f6\u5019\u9009\u62e96\u4ee5\u4e0b\uff0cDBI\u63a5\u53e3\u5c31\u4f1a\u81ea\u52a8\u5c06\u5c0f\u7aef\u8f6c\u6210\u5927\u7aef\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u5982\u679c\u9047\u5230\u9ed8\u8ba4\u662f\u5c0f\u7aef\u7684spi\u5c4f\uff0c\u5219\u9700\u8981\u9009\u62e96\u4ee5\u4e0a\uff0cDBI\u63a5\u53e3\u4f1a\u81ea\u52a8\u7528\u56de\u5c0f\u7aef\u65b9\u5f0f\u3002"}),"\n",(0,n.jsx)(l.p,{children:"6\u4ee5\u4e0a\u683c\u5f0f\u8fd9\u6837\u89e3\u91ca\uff1a"}),"\n",(0,n.jsx)(l.p,{children:"R\u662f5\u6bd4\u7279\uff0cG\u662f6\u6bd4\u7279\uff0cB\u662f5\u6bd4\u7279\uff0c\u518d\u628aG\u62c6\u6210\u9ad83\u4f4d(G_1)\u548c\u4f4e3\u4f4d(G_0) \u6240\u4ee5\u4ee5\u4e0b\u4e24\u79cd\u987a\u5e8f\uff1a"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image7.png",alt:""})}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"R-G_1-G_0-B\uff0c\u5927\u7aef\u3002"}),"\n",(0,n.jsx)(l.li,{children:"G_0-B-R-G_1\uff0c\u5bf9\u5e94\u4e0a\u9762\u76849\uff0c\u5c0f\u7aef\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_x",children:"lcd_x"}),"\n",(0,n.jsx)(l.p,{children:"\u663e\u793a\u5c4f\u7684\u6c34\u5e73\u50cf\u7d20\u6570\u91cf\uff0c\u6ce8\u610f\u5982\u679c\u5c4f\u652f\u6301\u6a2a\u7ad6\u65cb\u8f6c\uff0c\u90a3\u4e48lcd_x\u548clcd_y\u4e5f\u8981\u5bf9\u8c03\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_y",children:"lcd_y"}),"\n",(0,n.jsx)(l.p,{children:"\u663e\u793a\u5c4f\u7684\u884c\u6570\uff0c\u6ce8\u610f\u5982\u679c\u5c4f\u652f\u6301\u6a2a\u7ad6\u65cb\u8f6c\uff0c\u90a3\u4e48lcd_x\u548clcd_y\u4e5f\u8981\u5bf9\u8c03\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_data_speed",children:"lcd_data_speed"}),"\n",(0,n.jsx)(l.p,{children:"\u7528\u4e8e\u8bbe\u7f6espi/dbi\u63a5\u53e3\u65f6\u949f\u7684\u901f\u7387\uff0c\u5355\u4f4dMHz\u3002"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u53d1\u9001\u7aef\uff08SOC)\u7684\u6700\u5927\u9650\u5236\u662f100MHz\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u63a5\u6536\u7aef\uff08\u5c4fDriver IC\uff09\u7684\u9650\u5236\uff0c\u8bf7\u67e5\u770b\u5bf9\u5e94Driver IC\u624b\u518c\u6216\u8005\u8be2\u95ee\u5c4f\u5382\u652f\u6301\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u8d85\u51fa\u4ee5\u4e0a\u9650\u5236\u90fd\u6709\u53ef\u80fd\u5bfc\u81f4\u663e\u793a\u5f02\u5e38\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_fps",children:"lcd_fps"}),"\n",(0,n.jsxs)(l.p,{children:["\u8bbe\u7f6e\u5c4f\u7684\u5237\u65b0\u7387\uff0c\u5355\u4f4dHz\u3002\u5f53",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_te",children:"lcd_dbi_te"}),"\u4f7f\u80fd\u65f6\uff0c\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u65e0\u6548\u3002"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_pwm_used",children:"lcd_pwm_used"}),"\n",(0,n.jsx)(l.p,{children:"\u662f\u5426\u4f7f\u7528pwm\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u6b64\u53c2\u6570\u6807\u8bc6\u662f\u5426\u4f7f\u7528pwm\u7528\u4ee5\u80cc\u5149\u4eae\u5ea6\u7684\u63a7\u5236\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_pwm_ch",children:"lcd_pwm_ch"}),"\n",(0,n.jsx)(l.p,{children:"Pwm channel used"}),"\n",(0,n.jsx)(l.p,{children:"\u6b64\u53c2\u6570\u6807\u8bc6\u4f7f\u7528\u7684Pwm\u901a\u9053\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_pwm_freq",children:"lcd_pwm_freq"}),"\n",(0,n.jsx)(l.p,{children:"Lcd backlight PWM Frequency"}),"\n",(0,n.jsx)(l.p,{children:"\u8fd9\u4e2a\u53c2\u6570\u914d\u7f6ePWM\u4fe1\u53f7\u7684\u9891\u7387\uff0c\u5355\u4f4d\u4e3aHz\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_pwm_pol",children:"lcd_pwm_pol"}),"\n",(0,n.jsx)(l.p,{children:"Lcd backlight PWM Polarity"}),"\n",(0,n.jsx)(l.p,{children:"\u8fd9\u4e2a\u53c2\u6570\u914d\u7f6ePWM\u4fe1\u53f7\u7684\u5360\u7a7a\u6bd4\u7684\u6781\u6027\u3002\u8bbe\u7f6e\u76f8\u5e94\u503c\u5bf9\u5e94\u542b\u4e49\u4e3a\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"0\uff1aactive high\n1\uff1aactive low\n"})}),"\n",(0,n.jsx)(l.h4,{id:"lcd_pwm_max_limit",children:"lcd_pwm_max_limit"}),"\n",(0,n.jsx)(l.p,{children:"Lcd backlight PWM"}),"\n",(0,n.jsx)(l.p,{children:"\u6700\u9ad8\u9650\u5236\uff0c\u4ee5\u4eae\u5ea6\u503c\u8868\u793a\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u6bd4\u5982150\uff0c\u5219\u8868\u793a\u80cc\u5149\u6700\u9ad8\u53ea\u80fd\u8c03\u5230150\uff0c0\uff5e255\u8303\u56f4\u5185\u7684\u4eae\u5ea6\u503c\u5c06\u4f1a\u88ab\u7ebf\u6027\u6620\u5c04\u52300\uff5e150\u8303\u56f4\u5185\u3002\u7528\u4e8e\u63a7\u5236\u6700\u9ad8\u80cc\u5149\u4eae\u5ea6\uff0c\u8282\u7701\u529f\u8017\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_backlight",children:"lcd_backlight"}),"\n",(0,n.jsx)(l.p,{children:"\u9ed8\u8ba4\u80cc\u5149\u503c\uff0c\u53d6\u503c\u8303\u56f40\u5230255\uff0c\u503c\u8d8a\u5927\u8d8a\u4eae\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_bl_en",children:"lcd_bl_en"}),"\n",(0,n.jsx)(l.p,{children:"\u80cc\u5149\u4f7f\u80fd\u811a\u5b9a\u4e49"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_spi_dc_pin",children:"lcd_spi_dc_pin"}),"\n",(0,n.jsx)(l.p,{children:"\u6307\u5b9a\u4f5c\u4e3aDC\u7684\u7ba1\u811a\uff0c\u7528\u4e8espi\u63a5\u53e3\u65f6\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_gpio_x",children:"lcd_gpio_x"}),"\n",(0,n.jsx)(l.p,{children:"x\u8868\u793a\u6570\u5b57\u3002\u5982\u679c\u6709\u591a\u4e2agpio\u811a\u9700\u8981\u63a7\u5236\uff0c\u5219\u5b9a\u4e49lcd_gpio_0\uff0clcd_gpio_1\u7b49\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_spi_bus_num",children:"lcd_spi_bus_num"}),"\n",(0,n.jsx)(l.p,{children:"\u9009\u62e9spi\u603b\u7ebfid\uff0c\u53ea\u6709spi1\u652f\u6301DBI\u534f\u8bae\uff0c\u6240\u4ee5\u8fd9\u91cc\u4e00\u822c\u9009\u62e91\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u53d6\u503c\u8303\u56f4\uff1a0\u52301\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_pixel_fmt",children:"lcd_pixel_fmt"}),"\n",(0,n.jsx)(l.p,{children:"\u9009\u62e9\u4f20\u8f93\u6570\u636e\u7684\u50cf\u7d20\u683c\u5f0f\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u53ef\u9009\u503c\u5982\u4e0b\uff0c\u5f53\u4f60\u66f4\u6362RGB\u5206\u91cf\u987a\u5e8f\u7684\u65f6\u5019\uff0c\u4e5f\u5f97\u76f8\u5e94\u4fee\u6539lcd_rgb_order\uff0c\u6216\u8005\u4fee\u6539\u5c4f\u9a71\u52a8\u7684rgb\u5206\u91cf\u987a\u5e8f\uff08\u4e00\u822c\u662f3Ah\u5bc4\u5b58\u5668\uff09\u3002"}),"\n",(0,n.jsx)(l.p,{children:"DBI\u63a5\u53e3\u53ea\u652f\u6301RGB32\u548cRGB16\u7684\u60c5\u51b5\u3002"}),"\n",(0,n.jsx)(l.p,{children:"SPI\u63a5\u53e3\u53ea\u652f\u6301RGB16\u7684\u60c5\u51b5\u3002"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"        enum lcdfb_pixel_format {\n            LCDFB_FORMAT_ARGB_8888 = 0x00,  // MSB  A-R-G-B  LSB\n            LCDFB_FORMAT_ABGR_8888 = 0x01,\n            LCDFB_FORMAT_RGBA_8888 = 0x02,\n            LCDFB_FORMAT_BGRA_8888 = 0x03,\n            LCDFB_FORMAT_XRGB_8888 = 0x04,\n            LCDFB_FORMAT_XBGR_8888 = 0x05,\n            LCDFB_FORMAT_RGBX_8888 = 0x06,\n            LCDFB_FORMAT_BGRX_8888 = 0x07,\n            LCDFB_FORMAT_RGB_888 = 0x08,\n            LCDFB_FORMAT_BGR_888 = 0x09,\n            LCDFB_FORMAT_RGB_565 = 0x0a,\n            LCDFB_FORMAT_BGR_565 = 0x0b,\n            LCDFB_FORMAT_ARGB_4444 = 0x0c,\n            LCDFB_FORMAT_ABGR_4444 = 0x0d,\n            LCDFB_FORMAT_RGBA_4444 = 0x0e,\n            LCDFB_FORMAT_BGRA_4444 = 0x0f,\n            LCDFB_FORMAT_ARGB_1555 = 0x10,\n            LCDFB_FORMAT_ABGR_1555 = 0x11,\n            LCDFB_FORMAT_RGBA_5551 = 0x12,\n            LCDFB_FORMAT_BGRA_5551 = 0x13,\n        };\n"})}),"\n",(0,n.jsx)(l.h4,{id:"fb_buffer_num",children:"fb_buffer_num"}),"\n",(0,n.jsx)(l.p,{children:"\u663e\u793aframebuffer\u6570\u91cf\uff0c\u4e3a\u4e86\u5e73\u6ed1\u663e\u793a\uff0c\u8fd9\u91cc\u4e00\u822c\u662f2\u4e2a\uff0c\u4e3a\u4e86\u7701\u5185\u5b58\u4e5f\u53ef\u4ee5\u6539\u62101\u3002"}),"\n",(0,n.jsx)(l.h3,{id:"\u6a21\u5757-sys_configfex-\u914d\u7f6e\u6848\u4f8b",children:"\u6a21\u5757 sys_config.fex \u914d\u7f6e\u6848\u4f8b"}),"\n",(0,n.jsx)(l.h4,{id:"\u5178\u578b2-data-lane\u914d\u7f6e",children:"\u5178\u578b2 data lane\u914d\u7f6e"}),"\n",(0,n.jsx)(l.p,{children:"\u4e00\u4e9b\u5c4f\u652f\u6301\u53cc\u6570\u636e\u7ebf\u4f20\u8f93\u4ee5\u52a0\u5feb\u6570\u636e\u4f20\u8f93\u901f\u5ea6\uff0c\u6b64\u65f6\u9700\u8981\u8d70DBI\u534f\u8bae\uff0c\u5178\u578b\u914d\u7f6e\u5982\u4e0b:"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:'[lcd_fb0]\nlcd_used          = 1\nlcd_driver_name   = "kld2844b"\nlcd_if            = 1\nlcd_dbi_if        = 4\nlcd_data_speed    = 60\nlcd_spi_bus_num   = 1\nlcd_x             = 320\nlcd_y             = 240\nlcd_pwm_used      = 1\nlcd_pwm_ch        = 4\nlcd_pwm_freq      = 5000\nlcd_pwm_pol       = 0\nlcd_pixel_fmt     = 0\nlcd_dbi_fmt       = 3\nlcd_rgb_order     = 0\nfb_buffer_num     = 2\nlcd_backlight     = 200\nlcd_fps           = 60\nlcd_dbi_te        = 0\nlcd_bl_en         = port:PB04<1><0><default><1>\nlcd_gpio_0        = port:PB02<1><0><default><1>\n'})}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u786c\u4ef6\u8fde\u63a5\u4e0a\uff0c\u7b2c\u4e8c\u6839\u6570\u636e\u811a\u8fde\u63a5\u5230\u539f\u67651 data lane\u7684DC\u811a\uff0c\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a2\u6570\u636e\u7ebf\u5728\u4f20\u8f93\u6570\u636e\u65f6\u5c31\u81ea\u5e26D/C(Data/Commend)\u4fe1\u606f\u4e86\uff0c\u6240\u4ee5\u539f\u6765\u7684DC\u811a\u5c31\u53ef\u4ee5\u7a7a\u51fa\u6765\u4f5c\u4e3a\u7b2c\u4e8c\u6839\u6570\u636e\u7ebf\u4e86\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u5c4f\u9a71\u52a8\u4e0a\uff0c\u9700\u8981\u4f7f\u80fd2 data lane\u6a21\u5f0f\uff0c\u5177\u4f53\u5bc4\u5b58\u5668\u67e5\u770b\u5bf9\u5e94driverIC\u624b\u518c\u6216\u8005\u8be2\u95ee\u5c4f\u5382\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u8fd9\u91cc\u7684\u9488\u5bf9\u5bf92 data lane\u7684\u5173\u952e\u53c2\u6570\u662f",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_if",children:"lcd_if"}),"\uff0c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_if",children:"lcd_dbi_if"}),"\uff0c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_fmt",children:"lcd_dbi_fmt"}),"\u548c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_spi_bus_num",children:"lcd_spi_bus_num"}),"\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_x",children:"lcd_x"}),"\u548c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_y",children:"lcd_y"}),"\u662f\u5c4f\u5206\u8fa8\u7387\u3002\u5982\u679c\u5c4f\u652f\u6301\u65cb\u8f6c\uff08\u6a2a\u7ad6\u65cb\u8f6c\uff09\uff0c\u8fd9\u91cc\u4e5f\u9700\u8981\u5bf9\u8c03\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_pwm_used",children:"lcd_pwm"}),"\u5f00\u5934\uff0c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_backlight",children:"lcd_backlight"}),"\u548c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_bl_en",children:"lcd_bl_en"}),"\u7684\u662f\u80cc\u5149\u76f8\u5173\u8bbe\u7f6e\uff0c\u5982\u679c\u6709\u76f8\u5173\u786c\u4ef6\u8fde\u63a5\u7684\u8bdd\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_pixel_fmt",children:"lcd_pixel_fmt"}),"\u548c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#fb_buffer_num",children:"fb_buffer_num"}),"\u662f\u663e\u793aframebuffer\u7684\u8bbe\u7f6e\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_gpio_x",children:"lcd_gpio_"}),"\u5f00\u5934\u7684\u662f\u81ea\u5b9a\u4e49gpio\u7684\u8bbe\u7f6e\uff08\u6bd4\u5982\u590d\u4f4d\u811a\uff09\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_fps",children:"lcd_fps"}),"\u548c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_te",children:"lcd_dbi_te"}),"\u662f\u5237\u65b0\u65b9\u5f0f\u76f8\u5173\u7684\u8bbe\u7f6e\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"\u539fspi\u63a5\u53e3\u5c4f\u914d\u7f6e",children:"\u539fSPI\u63a5\u53e3\u5c4f\u914d\u7f6e"}),"\n",(0,n.jsx)(l.p,{children:"\u5982\u679cIC\u652f\u6301DBI\u63a5\u53e3\uff0c\u90a3\u4e48\u5c31\u6ca1\u6709\u5fc5\u8981\u7528SPI\u63a5\u53e3\uff0cDBI\u63a5\u53e3\u5176\u534f\u8bae\u80fd\u8986\u76d6\u6240\u6709\u60c5\u51b5\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["\u4e00\u4e9bIC\u4e0d\u652f\u6301DBI\uff0c\u90a3\u4e48\u53ea\u80fd\u7528spi\u63a5\u53e3\uff08\u901a\u8fc7\u8bbe\u7f6e",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_if",children:"lcd_if"}),"\uff09\uff0c\u5982\u679c\u4f7f\u7528spi\u63a5\u53e3\uff0c\u5b83\u6709\u4e00\u4e9b\u9650\u5236\u3002"]}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u4e0d\u652f\u63012 data lane\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u5fc5\u987b\u6307\u5b9aDC\u811a\u3002\u8fd9\u662f\u7531\u4e8espi\u534f\u8bae\u4e0d\u4f1a\u81ea\u52a8\u63a7\u5236DC\u811a\u6765\u533a\u5206\u6570\u636e\u547d\u4ee4\uff0c\u901a\u8fc7\u8bbe\u7f6e",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_spi_dc_pin",children:"lcd_spi_dc_pin"}),"\u53ef\u4ee5\u5b8c\u6210\u8fd9\u4e2a\u76ee\u7684\uff0c\u8fd9\u8ddf\u7ba1\u811a\u4e0d\u5fc5\u7528spi\u91cc\u9762\u7684\u811a\u3002"]}),"\n",(0,n.jsx)(l.li,{children:"\u53ea\u652f\u6301rgb565\u7684\u50cf\u7d20\u683c\u5f0f\u3002\u7531\u4e8e\u53ea\u6709\u5355data lane\uff0c\u901f\u5ea6\u8fc7\u6162\uff0crgb565\u4ee5\u4e0a\u683c\u5f0f\u90fd\u4e0d\u73b0\u5b9e\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:'[lcd_fb0]\nlcd_used          = 1\nlcd_driver_name   = "kld2844b"\nlcd_if            = 0\nlcd_data_speed    = 60\nlcd_spi_bus_num   = 1\nlcd_x             = 320\nlcd_y             = 240\nlcd_pwm_used      = 1\nlcd_pwm_ch        = 4\nlcd_pwm_freq      = 5000\nlcd_pwm_pol       = 0\nlcd_pixel_fmt     = 10\nlcd_rgb_order     = 0\nfb_buffer_num     = 2\nlcd_backlight     = 200\nlcd_fps           = 60\nlcd_dbi_te        = 0\nlcd_bl_en         = port:PB04<1><0><default><1>\nlcd_gpio_0        = port:PB02<1><0><default><1>\nlcd_spi_dc_pin    = port:PA19<1><0><3><1>\n'})}),"\n",(0,n.jsx)(l.h4,{id:"\u5e26te\u811a\u7684\u5c4f",children:"\u5e26te\u811a\u7684\u5c4f"}),"\n",(0,n.jsx)(l.p,{children:"te\u5373\uff08Tearing effect\uff09\uff0c\u4e5f\u5c31\u662f\u6495\u88c2\u7684\u610f\u601d\uff0c\u662f\u7531\u4e8e\u8bfb\u5199\u4e0d\u540c\u6b65\u5bfc\u81f4\u6495\u88c2\u73b0\u8c61\uff0cte\u811a\u7684\u529f\u80fd\u5c31\u662f\u7528\u4e8e\u540c\u6b65\u8bfb\u5199\uff0cte\u811a\u7684\u9891\u7387\u4e5f\u5c31\u662f\u5c4f\u7684\u5237\u65b0\u7387\uff0c\u6240\u4ee5te\u811a\u4e5f\u53ef\u4ee5\u770b\u505avsync\u811a\uff08\u5782\u76f4\u540c\u6b65\u811a\uff09\u3002"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u786c\u4ef6\u8bbe\u8ba1\u9636\u6bb5\uff0c\u9700\u8981\u5c06\u5c4f\u7684te\u811a\u8fde\u63a5\u5230IC\u7684DBI\u63a5\u53e3\u7684te\u811a\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u914d\u7f6e\u4e0a\u63a5\u53e3\u4f7f\u7528dbi\u63a5\u53e3\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u7136\u540e\u4f7f\u80fd",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_te",children:"lcd_dbi_te"}),"\u3002"]}),"\n",(0,n.jsx)(l.li,{children:"\u5c4f\u9a71\u52a8\u4f7f\u80fdte\u529f\u80fd\uff0c\u5bc4\u5b58\u5668\u4e00\u822c\u662f35h\uff0c\u8be6\u60c5\u770b\u5c4f\u5bf9\u5e94\u7684driver IC\u624b\u518c\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u5c4f\u9a71\u52a8\u8bbe\u7f6e\u5e27\u7387\uff0c\u6839\u636e\u5c4f\u80fd\u63a5\u53d7\u7684\u4f20\u8f93\u901f\u5ea6\u9009\u62e9\u5408\u7406\u7684\u5e27\u7387\uff08\u6bd4\u5982ST7789H2\u91cc\u9762\u662f\u901a\u8fc7c6h\u6765\u8bbe\u7f6ete\u9891\u7387\uff09\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:'[lcd_fb0]\nlcd_used          = 1\nlcd_driver_name   = "kld2844b"\nlcd_if            = 1\nlcd_dbi_if        = 4\nlcd_data_speed    = 60\nlcd_spi_bus_num   = 1\nlcd_x             = 320\nlcd_y             = 240\nlcd_pwm_used      = 1\nlcd_pwm_ch        = 4\nlcd_pwm_freq      = 5000\nlcd_pwm_pol       = 0\nlcd_pixel_fmt     = 0\nlcd_dbi_fmt       = 3\nlcd_rgb_order     = 0\nfb_buffer_num     = 2\nlcd_backlight     = 200\nlcd_fps           = 60\nlcd_dbi_te        = 1\nlcd_bl_en         = port:PB04<1><0><default><1>\nlcd_gpio_0        = port:PB02<1><0><default><1>\n'})}),"\n",(0,n.jsx)(l.h4,{id:"\u6a2a\u7ad6\u5c4f\u65cb\u8f6c",children:"\u6a2a\u7ad6\u5c4f\u65cb\u8f6c"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u5e73\u53f0\u6ca1\u6709\u786c\u4ef6\u65cb\u8f6c\u529f\u80fd\uff0c\u8f6f\u4ef6\u65cb\u8f6c\u592a\u6162\u800c\u4e14\u8017\u8d39CPU\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u4e0d\u5c11spi\u5c4f\u652f\u6301\u5185\u90e8\u65cb\u8f6c\uff0c\u9700\u8981\u5728\u5c4f\u9a71\u52a8\u521d\u59cb\u5316\u7684\u65f6\u5019\u8fdb\u884c\u8bbe\u7f6e\uff0c\u4e00\u822c\u662f",(0,n.jsx)(l.strong,{children:"36h"}),"\u5bc4\u5b58\u5668\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"// \u8f6c\u6210\u6a2a\u5c4f\nsunxi_lcd_cmd_write(sel, 0x36);\nsunxi_lcd_para_write(sel, 0xa0);\n"})}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:["lcd_fb0\u7684\u914d\u7f6e\u4e2d\u9700\u8981\u5c06",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_x",children:"lcd_x"}),"\u548c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_y",children:"lcd_y"}),"\u7684\u503c\u5bf9\u8c03\uff0c\u6b64\u65f6\u8f6f\u4ef6\u5c06\u5c4f\u89c6\u4e3a\u6a2a\u5c4f\u3002"]}),"\n",(0,n.jsx)(l.li,{children:"\u5c4f\u5185\u90e8\u65cb\u8f6c\u51fa\u56fe\u6548\u679c\u53ef\u80fd\u4f1a\u53d8\u5dee\uff0c\u5efa\u8bae\u9009\u5c4f\u7684\u65f6\u5019\u76f4\u63a5\u9009\u597d\u65b9\u5411\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"\u5e27\u7387\u63a7\u5236",children:"\u5e27\u7387\u63a7\u5236"}),"\n",(0,n.jsx)(l.p,{children:"\u5c4f\u7684\u5237\u65b0\u7387\u53d7\u9650\u4e8e\u591a\u65b9\u9762\uff1a"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:["SPI/DBI\u786c\u4ef6\u4f20\u8f93\u901f\u5ea6\uff0c\u4e5f\u5c31\u662f\u65f6\u949f\u811a\u7684\u9891\u7387\u3002\u8bbe\u7f6e",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_data_speed",children:"lcd_data_speed"}),"\u53ef\u4ee5\u8bbe\u7f6e\u786c\u4ef6\u4f20\u8f93\u901f\u5ea6\uff0c\u6700\u5927\u4e0d\u8d85\u8fc7100MHz\u3002\u5982\u679c\u5c4f\u80fd\u6b63\u5e38\u63a5\u6536\uff0c\u8fd9\u4e2a\u503c\u81ea\u7136\u662f\u8d8a\u5927\u8d8a\u597d\u3002"]}),"\n",(0,n.jsx)(l.li,{children:"\u5c4fdriver IC\u63a5\u6536\u80fd\u529b\u3002Driver IC\u624b\u518c\u4e2d\u4f1a\u63d0\u5230\u5c4f\u7684\u80fd\u63a5\u53d7\u7684\u6700\u5927sclk\u5468\u671f\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u4f7f\u75282 data lane\u8fd8\u662f1 data lane\uff0c\u7406\u8bba\u4e0a2 data lane\u7684\u901f\u5ea6\u4f1a\u7ffb\u500d\u3002\u89c1",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#%E5%85%B8%E5%9E%8B2_data_lane%E9%85%8D%E7%BD%AE",children:"\u5178\u578b2 data lane\u914d\u7f6e"}),"\u3002"]}),"\n",(0,n.jsx)(l.li,{children:"\u50cf\u7d20\u683c\u5f0f\u3002\u50cf\u7d20\u683c\u5f0f\u51b3\u5b9a\u9700\u8981\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c\u989c\u8272\u6570\u91cf\u8d8a\u5c0f\u7684\u50cf\u7d20\u683c\u5f0f\uff0c\u5e27\u7387\u8d8a\u9ad8\uff0c\u4f46\u662f\u6548\u679c\u8d8a\u5dee\u3002"}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#%E5%B8%A6te%E8%84%9A%E7%9A%84%E5%B1%8F",children:"\u5e26te\u811a\u7684\u5c4f"}),"\u4e00\u8282\u4e2d\u6211\u4eec\u77e5\u9053\uff0cte\u76f8\u5173\u8bbe\u7f6e\u76f4\u63a5\u5f71\u54cd\u5230\u5c4f\u5237\u65b0\u7387\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5982\u679c\u4e0d\u652f\u6301te\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_fps",children:"lcd_fps"}),"\u6765\u63a7\u5236\u5e27\u7387\uff0c\u4f60\u9700\u8981\u6839\u636e\u7b2c\u4e00\u70b9\u548c\u7b2c\u4e8c\u70b9\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u503c\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"\u80cc\u5149\u63a7\u5236",children:"\u80cc\u5149\u63a7\u5236"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u786c\u4ef6\u9700\u8981\u652f\u6301pwm\u80cc\u5149\u7535\u8def\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u9a71\u52a8\u652f\u6301pwm\u80cc\u5149\u8c03\u8282\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u597d",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_pwm_used",children:"lcd_pwm"}),"\u5f00\u5934\uff0c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_backlight",children:"lcd_backlight"}),"\u548c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_bl_en",children:"lcd_bl_en"}),"\u7b49\u80cc\u5149\u76f8\u5173\u914d\u7f6e\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"\u50cf\u7d20\u683c\u5f0f\u76f8\u5173",children:"\u50cf\u7d20\u683c\u5f0f\u76f8\u5173"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_pixel_fmt",children:"lcd_pixel_fmt"}),"\uff0c\u8fd9\u4e2a\u8bbe\u7f6e\u9879\u7528\u4e8e\u8bbe\u7f6efbdev\u7684\u50cf\u7d20\u683c\u5f0f\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_fmt",children:"lcd_dbi_fmt"}),"\uff0c\u8fd9\u4e2a\u7528\u4e8e\u8bbe\u7f6eDBI\u63a5\u53e3\u53d1\u9001\u7684\u50cf\u7d20\u683c\u5f0f\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"SPI/DBI\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\u6ca1\u6709\u5fc5\u8981\u53d1\u9001alpha\u901a\u9053\uff0c\u4f46\u662f\u5e94\u7528\u5c42\u5374\u6709\u5bf9\u5e94\u7684alpha\u901a\u9053\uff0c\u6bd4\u5982ARGB8888\u683c\u5f0f\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u8fd9\u4e2a\u65f6\u5019\u786c\u4ef6\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u5904\u7406\u597dalpha\u901a\u9053\uff0c\u6240\u4ee5lcd_pixel_fmt\u9009\u62e9\u6709alpha\u901a\u9053\u7684\u683c\u5f0f\u65f6\uff0clcd_dbi_fmt\u53ef\u4ee5\u9009rgb666\u6216\u8005rgb888\uff0c\u4e0d\u7528\u548c\u5b83\u4e00\u6837\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"\u7535\u6e90\u914d\u7f6e",children:"\u7535\u6e90\u914d\u7f6e"}),"\n",(0,n.jsxs)(l.p,{children:["\u6709\u591a\u4e2a\u7535\u6e90\u7684\u8bdd\uff0c\u5c31\u7528lcd_power1\uff0clcd_power2......\u7136\u540e\u5c4f\u9a71\u52a8\u91cc\u9762\u8c03\u7528",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_power_enable",children:"sunxi_lcd_power_enable"}),"\u63a5\u53e3\u5373\u53ef\u3002"]}),"\n",(0,n.jsx)(l.h4,{id:"gpio\u914d\u7f6e\u8bf4\u660e",children:"GPIO\u914d\u7f6e\u8bf4\u660e"}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_bl_en",children:"lcd_bl_en"}),"\u3001",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_spi_dc_pin",children:"lcd_spi_dc_pin"}),"\u4ee5\u53ca",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_gpio_x",children:"lcd_gpio_x"}),"\u90fd\u662f\u5c5e\u4e8eGPIO\u5c5e\u6027\u7c7b\u578b\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u4e0b\u9762\u4ee5lcd_spi_dc_pin\u4e3a\u4f8b\uff0c\u5177\u4f53\u8bf4\u660eGPIO\u5c5e\u6027\u7684\u53c2\u6570\u503c\u542b\u4e49\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"lcd_spi_dc_pin   = port:PA19<1><0><3><1>\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u5f15\u811a\u8bf4\u660e\uff1aport: \u7aef\u53e3 < \u590d\u7528\u529f\u80fd >< \u4e0a\u4e0b\u62c9 >< \u9a71\u52a8\u80fd\u529b >< \u8f93\u51fa\u503c >"}),"\n",(0,n.jsx)(l.p,{children:"\u7b49\u5f0f\u53f3\u8fb9\u7684\u4ece\u5de6\u5230\u53f35\u4e2a\u5b57\u6bb5\u4ee3\u8868\u7684\u5177\u4f53\u542b\u4e49\u5982\u4e0b\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"PA19"}),"\uff1a\u7aef\u53e3\uff0c\u8868\u793aGPIO\u7ba1\u811a\u3002",(0,n.jsx)(l.code,{children:"PA"}),"\u8868\u793aPA\u7ec4\u7ba1\u811a\uff0c",(0,n.jsx)(l.code,{children:"19"}),"\u8868\u793a\u7b2c19\u6839\u7ba1\u811a\uff1b\u5373PA19\u7ba1\u811a\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"<1>"}),"\uff1a\u590d\u7528\u529f\u80fd\uff0c\u8868\u793aGPIO\u590d\u7528\u7c7b\u578b\u30021\u8868\u793a\u5c06PA19\u9009\u62e9\u4e3a\u901a\u7528GPIO\u529f\u80fd\uff0c0\u4e3a\u8f93\u5165\uff0c1\u4e3a\u8f93\u51fa\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"<0>"}),"\uff1a\u4e0a\u4e0b\u62c9\uff0c\u8868\u793a\u5185\u7f6e\u7535\u963b\u3002\u4f7f\u75280\u7684\u8bdd\uff0c\u8868\u793a\u5185\u90e8\u7535\u963b\u9ad8\u963b\u6001\uff0c\u5982\u679c\u662f1\u5219\u662f\u5185\u90e8\u7535\u963b\u4e0a\u62c9\uff0c2\u5c31\u4ee3\u8868\u5185\u90e8\u7535\u963b\u4e0b\u62c9\u3002\u5176\u5b83\u6570\u636e\u65e0\u6548\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"<3>"}),"\uff1a\u8868\u793a\u9a71\u52a8\u80fd\u529b\u30021\u662f\u9ed8\u8ba4\u7b49\u7ea7\uff0c\u6570\u5b57\u8d8a\u5927\u9a71\u52a8\u80fd\u529b\u8d8a\u5f3a\uff0c\u6700\u5927\u662f3\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"<1>"}),"\uff1a\u8868\u793a\u9ed8\u8ba4\u8f93\u51fa\u7535\u5e73\u503c\u30020\u4e3a\u4f4e\u7535\u5e73\uff0c1\u4e3a\u9ad8\u7535\u5e73\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"\u591a\u4e2a\u663e\u793a",children:"\u591a\u4e2a\u663e\u793a"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u786e\u5b9a\u786c\u4ef6\u6709\u6ca1\u6709\u591a\u4f59\u7684spi/dbi\u63a5\u53e3\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u9700\u8981\u5728sys_config.fex\u91cc\u9762\u65b0\u589elcd_fb1\uff0c\u914d\u7f6e\u65b9\u5f0f\u4e0elcd_fb0\u4e00\u6837\uff08\u6216\u8005\u5728\u663e\u793a\u79c1\u6709\u65b9\u5f0f\u7684\u677f\u7ea7\u914d\u7f6e\u6587\u4ef6\u91cc\u9762\u65b0\u589e",(0,n.jsx)(l.code,{children:"g_lcd1_config"}),"\uff0c\u914d\u7f6e\u65b9\u5f0f\u4e0eg_lcd0_config\u4e00\u6837\uff09\uff0c\u5176\u4e2d",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_spi_bus_num",children:"lcd_spi_bus_num"}),"\u4e0d\u80fd\u4e00\u6837\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"\u4f9d\u8d56\u9a71\u52a8\u914d\u7f6e",children:"\u4f9d\u8d56\u9a71\u52a8\u914d\u7f6e"}),"\n",(0,n.jsx)(l.p,{children:"spilcd\u6a21\u5757\u4f9d\u8d56spi\uff0cdbi\uff0cpwm\u7b49\u9a71\u52a8\u3002"}),"\n",(0,n.jsx)(l.h3,{id:"\u4f7f\u7528\u663e\u793a\u79c1\u6709\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e",children:"\u4f7f\u7528\u663e\u793a\u79c1\u6709\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e"}),"\n",(0,n.jsxs)(l.p,{children:["\u8def\u5f84\uff1a",(0,n.jsx)(l.code,{children:"rtos-hal/hal/source/spilcd/soc/"})]}),"\n",(0,n.jsxs)(l.p,{children:["\u5177\u4f53\u677f\u7ea7\u663e\u793a\u914d\u7f6e\u6587\u4ef6\u53ef\u53c2\u8003\u8be5\u8def\u5f84\u4e0b\u7684 ",(0,n.jsx)(l.code,{children:"kld2844b_config.c"})," \u914d\u7f6e\u6587\u4ef6\u3002"]}),"\n",(0,n.jsxs)(l.p,{children:["\u8be5\u6587\u4ef6\u6a21\u4eff ",(0,n.jsx)(l.code,{children:"sys_config.fex"}),"\u6765\u914d\u7f6e\u4e00\u4e9b\u677f\u7ea7\u76f8\u5173\u7684\u8d44\u6e90\uff0c\u6e90\u6587\u4ef6\u4e2d\u9700\u8981\u5b9a\u4e494\u4e2a\u5168\u5c40\u53d8\u91cf\uff1a",(0,n.jsx)(l.code,{children:"g_lcd0_config"}),"\u3001",(0,n.jsx)(l.code,{children:"g_lcd1_config"}),"\u3001",(0,n.jsx)(l.code,{children:"g_lcd0_config_len"}),"\u548c",(0,n.jsx)(l.code,{children:"g_lcd1_config_len"}),"\uff0c\u4e14\u53d8\u91cf\u540d\u5b57\u56fa\u5b9a\uff0c\u4e0d\u80fd\u4fee\u6539\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u5177\u4f53\u8bf4\u660e\u5982\u4e0b\uff1a"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"g_lcd0_config"}),"\uff1a\u7b2c\u4e00\u4e2a\u5c4f\u7684\u914d\u7f6e\u53d8\u91cf\uff0c",(0,n.jsx)(l.code,{children:"struct property_t"}),"\u6570\u636e\u7c7b\u578b\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"g_lcd1_config"}),"\uff1a\u7b2c\u4e8c\u4e2a\u5c4f\u7684\u914d\u7f6e\u53d8\u91cf\uff0c",(0,n.jsx)(l.code,{children:"struct property_t"}),"\u6570\u636e\u7c7b\u578b\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"g_lcd0_config_len"}),"\u548c",(0,n.jsx)(l.code,{children:"g_lcd1_config_len"}),"\u662f\u5bf9\u5e94\u4e0a\u9762\u4e24\u4e2a\u6570\u7ec4\u53d8\u91cf\u7684\u957f\u5ea6\uff0c\u7167\u642c\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"struct property_t"}),"\u6570\u636e\u7c7b\u578b\uff0c\u7528\u4e8e\u5b9a\u4e49\u4e00\u4e2a\u5c5e\u6027\u7684\u4fe1\u606f\uff1a"]}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:["\u5c5e\u6027\u540d\u5b57\u3002\u5bf9\u5e94\u5176\u6210\u5458",(0,n.jsx)(l.code,{children:"name"}),"\uff0c\u5b57\u7b26\u4e32\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5c5e\u6027\u7c7b\u578b\u3002\u5bf9\u5e94\u5176\u6210\u5458",(0,n.jsx)(l.code,{children:"type"}),"\uff0c\u770b",(0,n.jsx)(l.code,{children:"enum proerty_type"}),"\u7684\u5b9a\u4e49\uff0c\u5171\u6709\u6574\u578b\uff0c\u5b57\u7b26\u4e32\uff0cGPIO\uff0c\u4e13\u7528pin\u548c\u7535\u6e90\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5c5e\u6027\u503c\u3002\u6839\u636e\u4e0a\u9762\u7684\u5c5e\u6027\u7c7b\u578b\u6765\u9009\u62e9",(0,n.jsx)(l.code,{children:"union"}),"\u4e2d\u6210\u5458\u6765\u8d4b\u503c\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"\u5bf9\u4e8e\u4e0a\u8ff0\u5e38\u7528\u7684\u5c5e\u6027\u7c7b\u578b\u4e3e\u4f8b\u5982\u4e0b\uff1a"}),"\n",(0,n.jsx)(l.p,{children:"\u6574\u578b\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:'    {\n        .name = "lcd_used",\n        .type = PROPERTY_INTGER,\n        .v.value = 1,\n    },\n'})}),"\n",(0,n.jsx)(l.p,{children:"\u5b57\u7b26\u4e32\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:'    {\n        .name = "lcd_driver_name",\n        .type = PROPERTY_STRING,\n        .v.str = "kld2844b",\n    },\n'})}),"\n",(0,n.jsx)(l.p,{children:"GPIO\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:'    {\n        .name = "lcd_spi_dc_pin",\n        .type = PROPERTY_GPIO,\n        .v.gpio_list = {\n            .gpio = GPIOA(19),\n            .mul_sel = GPIO_DIRECTION_OUTPUT,\n            .pull = 0,\n            .drv_level = 3,\n            .data = 1,\n        },\n    },\n'})}),"\n",(0,n.jsx)(l.p,{children:"g_lcd0_config\u7684\u542b\u4e49\u4e0e\u524d\u8ff0\u7684\u4f7f\u7528sys_config.fex\u65b9\u5f0f\u4e2d\u7684lcd_fb0\u4e00\u81f4\u3002"}),"\n",(0,n.jsx)(l.h2,{id:"\u7f16\u5199\u5c4f\u9a71\u52a8",children:"\u7f16\u5199\u5c4f\u9a71\u52a8"}),"\n",(0,n.jsx)(l.p,{children:"\u5c4f\u9a71\u52a8\u6e90\u7801\u4f4d\u7f6e\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"rtos-hal/hal/source/spilcd/lcd_fb/panels\n"})}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u5728\u5c4f\u9a71\u52a8\u6e90\u7801\u4f4d\u7f6e\u4e0b\u62f7\u8d1d\u73b0\u6709\u4e00\u4e2a\u5c4f\u9a71\u52a8\uff0c\u5305\u62ec\u5934\u6587\u4ef6\u548c\u6e90\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u6587\u4ef6\u540d\u6539\u6210\u6709\u610f\u4e49\u7684\u540d\u5b57\uff0c\u6bd4\u5982\u5c4f\u578b\u53f7\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u4fee\u6539\u6e90\u6587\u4ef6\u4e2d\u7684",(0,n.jsx)(l.code,{children:"strcut __lcd_panel"}),"\u53d8\u91cf\u7684\u540d\u5b57\uff0c\u4ee5\u53ca\u8fd9\u4e2a\u53d8\u91cf\u6210\u5458",(0,n.jsx)(l.code,{children:"name"}),"\u7684\u540d\u5b57\uff0c\u8fd9\u4e2a\u540d\u5b57\u5fc5\u987b\u548c ",(0,n.jsx)(l.code,{children:"sys_config.fex"})," \u4e2d ",(0,n.jsx)(l.code,{children:"[lcd_fb0]"}),"\uff08\u6216\u677f\u7ea7\u914d\u7f6e\u6587\u4ef6\u4e2d",(0,n.jsx)(l.code,{children:"g_lcd0_config"}),"\uff09\u7684",(0,n.jsx)(l.code,{children:"lcd_driver_name"}),"\u4e00\u81f4\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5728\u5c4f\u9a71\u52a8\u76ee\u5f55\u4e0b\u4fee\u6539",(0,n.jsx)(l.code,{children:"panel.c"}),"\u548c",(0,n.jsx)(l.code,{children:"panel.h"}),"\u3002\u5728\u5168\u5c40\u7ed3\u6784\u4f53\u53d8\u91cf",(0,n.jsx)(l.code,{children:"panel_array"}),"\u4e2d\u65b0\u589e\u521a\u624d\u6dfb\u52a0",(0,n.jsx)(l.code,{children:"strcut __lcd_panel"}),"\u7684\u53d8\u91cf\u6307\u9488\u3002",(0,n.jsx)(l.code,{children:"panel.h"}),"\u4e2d\u65b0\u589e",(0,n.jsx)(l.code,{children:"strcut __lcd_panel"}),"\u7684\u58f0\u660e\u3002\u5e76\u7528\u5b8f\u62ec\u8d77\u6765\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u4fee\u6539",(0,n.jsx)(l.code,{children:"rtos-hal/hal/source/spilcd/lcd_fb/panels/Kconfig"}),"\uff0c\u65b0\u589e\u4e00\u4e2aconfig\uff0c\u4e0e\u7b2c\u4e09\u70b9\u63d0\u5230\u7684\u5b8f\u5bf9\u5e94\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u4fee\u6539",(0,n.jsx)(l.code,{children:"rtos-hal/hal/source/spilcd/lcd_fb/"}),"\u8def\u5f84\u4e0b\u7684Makefile\u6587\u4ef6\u3002\u7ed9lcd_fb-obj\u53d8\u91cf\u65b0\u589e\u521a\u624d\u52a0\u5165\u7684\u6e90\u6587\u4ef6\u5bf9\u5e94",(0,n.jsx)(l.code,{children:".o"}),"\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u6839\u636e\u672c\u624b\u518c\u4ee5\u53ca\u5c4f\u624b\u518c\uff0cDriver IC\u624b\u518c\u4fee\u6539sys_config.fex\u4e2d\u7684[lcd_fb0]\u8282\u70b9\uff08\u6216\u663e\u793a\u79c1\u6709\u65b9\u5f0f\u7684\u677f\u7ea7\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684",(0,n.jsx)(l.code,{children:"g_lcd0_config"}),"\u914d\u7f6e\u53d8\u91cf\uff09\u4e0b\u9762\u7684\u5c5e\u6027"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5b9e\u73b0\u5c4f\u6e90\u6587\u4ef6\u4e2d\u7684",(0,n.jsx)(l.code,{children:"LCD_open_flow"}),"\uff0c",(0,n.jsx)(l.code,{children:"LCD_close_flow"}),"\uff0c",(0,n.jsx)(l.code,{children:"LCD_panel_init"}),"\uff0c",(0,n.jsx)(l.code,{children:"LCD_power_on"}),"\u7b49\u51fd\u6570"]}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"\u5f00\u5173\u5c4f\u6d41\u7a0b\u51fd\u6570\u89e3\u6790",children:"\u5f00\u5173\u5c4f\u6d41\u7a0b\u51fd\u6570\u89e3\u6790"}),"\n",(0,n.jsx)(l.p,{children:"\u5f00\u5173\u5c4f\u7684\u64cd\u4f5c\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u5176\u4e2d\uff0cLCD_open_flow\u548cLCD_close_flow\u79f0\u4e3a\u5f00\u5173\u5c4f\u6d41\u7a0b\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5229\u7528LCD_OPEN_FUNC\u8fdb\u884c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\uff0c\u5148\u6ce8\u518c\u5148\u6267\u884c\uff0c\u53ef\u4ee5\u6ce8\u518c\u591a\u4e2a\uff0c\u4e0d\u9650\u5236\u6570\u91cf\u3002"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image8.png",alt:""})}),"\n",(0,n.jsx)(l.h4,{id:"lcd_open_flow",children:"LCD_open_flow"}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u521d\u59cb\u5316\u5f00\u5c4f\u7684\u6b65\u9aa4\u6d41\u7a0b\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u539f\u578b\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-c",children:"static __s32 LCD_open_flow(__u32 sel)\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u51fd\u6570\u5e38\u7528\u5185\u5bb9\u4e3a\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-c",children:"static __s32 LCD_open_flow(__u32 sel)\n{\n    LCD_OPEN_FUNC(sel, LCD_power_on,10);\n    LCD_OPEN_FUNC(sel, LCD_panel_init, 50);\n    LCD_OPEN_FUNC(sel, lcd_fb_black_screen, 100); \n    LCD_OPEN_FUNC(sel, LCD_bl_open, 0);\n    return 0;\n}\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u5982\u4e0a\uff0c\u521d\u59cb\u5316\u6574\u4e2a\u5f00\u5c4f\u7684\u6d41\u7a0b\u6b65\u9aa4\u4e3a\u56db\u4e2a\uff1a"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u6253\u5f00LCD\u7535\u6e90\uff0c\u518d\u5ef6\u8fdf10ms\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u521d\u59cb\u5316\u5c4f\uff0c\u518d\u5ef6\u8fdf50ms\uff1b\uff08\u4e0d\u9700\u8981\u521d\u59cb\u5316\u7684\u5c4f\uff0c\u53ef\u7701\u6389\u6b64\u6b65\u9aa4\uff09\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u5411\u5c4f\u53d1\u9001\u5168\u9ed1\u7684\u6570\u636e\u3002\u8fd9\u4e00\u6b65\u9aa4\u662f\u5fc5\u987b\u7684\uff0c\u800c\u4e14\u9700\u8981\u5728\u5f00\u80cc\u5149\u4e4b\u524d\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u6253\u5f00\u80cc\u5149\uff0c\u518d\u5ef6\u8fdf0ms\u3002"}),"\n"]}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"LCD_open_flow"})," \u51fd\u6570\u53ea\u4f1a\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u8c03\u7528\u4e00\u6b21\uff0c\u6267\u884c\u6bcf\u4e2a ",(0,n.jsx)(l.code,{children:"LCD_OPEN_FUNC"})," \u5373\u662f\u628a\u5bf9\u5e94\u7684\u5f00\u5c4f\u6b65\u9aa4\u51fd\u6570\u8fdb\u884c\u6ce8\u518c\uff0c",(0,n.jsx)(l.strong,{children:"\u5e76\u6ca1\u6709\u7acb\u5373\u6267\u884c\u8be5\u5f00\u5c4f\u6b65\u9aa4\u51fd\u6570"}),"\u3002LCD_open_flow\u51fd\u6570\u7684\u5185\u5bb9\u5fc5\u987b\u7edf\u4e00\u7528 ",(0,n.jsx)(l.code,{children:"LCD_OPEN_FUNC(sel, function, delay_time)"})," \u8fdb\u884c\u51fd\u6570\u6ce8\u518c\u7684\u5f62\u5f0f\uff0c\u786e\u4fdd\u6b63\u5e38\u6ce8\u518c\u5230\u5f00\u5c4f\u6b65\u9aa4\u4e2d\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"LCD_OPEN_FUNC\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u524d\u540e\u4e24\u4e2a\u6b65\u9aa4\u7684\u5ef6\u65f6\u957f\u5ea6\uff0c\u5355\u4f4dms\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u6570\u503c\u8bf7\u6309\u7167\u5c4f\u624b\u518c\u89c4\u5b9a\u53bb\u586b\uff0c\u4e71\u586b\u53ef\u80fd\u5bfc\u81f4\u5c4f\u521d\u59cb\u5316\u5f02\u5e38\u6216\u8005\u5f00\u5173\u5c4f\u65f6\u95f4\u8fc7\u957f\uff0c\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_close_flow",children:"LCD_close_flow"}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u521d\u59cb\u5316\u5173\u5c4f\u7684\u6b65\u9aa4\u6d41\u7a0b\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u539f\u578b\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-c",children:"static __s32 LCD_close_flow(__u32 sel)\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u51fd\u6570\u5e38\u7528\u5185\u5bb9\u4e3a\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-c",children:"static __s32 LCD_close_flow(__u32 sel)\n{\n    LCD_CLOSE_FUNC(sel, LCD_bl_close, 50);\n    LCD_CLOSE_FUNC(sel, LCD_panel_exit, 10);\n    LCD_CLOSE_FUNC(sel, LCD_power_off, 10);\n    return 0;\n}\n"})}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"LCD_bl_close\uff0c\u662f\u5173\u80cc\u5149\uff0c\u5173\u5b8c\u80cc\u5149\u5728\u5904\u7406\u5176\u5b83\u4e8b\u60c5\uff0c\u4e0d\u4f1a\u5f71\u54cd\u7528\u6237\u89c6\u89c9\u3002"}),"\n",(0,n.jsx)(l.li,{children:"LCD_panel_exit\uff0c\u53d1\u9001\u547d\u4ee4\u8ba9\u5c4f\u9000\u51fa\u5de5\u4f5c\u72b6\u6001\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u5173\u7535\u590d\u4f4d\uff0c\u8ba9\u5c4f\u5f7b\u5e95\u5173\u95ed\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_open_func",children:"LCD_OPEN_FUNC"}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u6ce8\u518c\u5f00\u5c4f\u6b65\u9aa4\u51fd\u6570\u5230\u5f00\u5c4f\u6d41\u7a0b\u4e2d\uff0c\u8bb0\u4f4f\u8fd9\u91cc\u662f\u6ce8\u518c\u4e0d\u662f\u6267\u884c\uff01"}),"\n",(0,n.jsx)(l.p,{children:"\u539f\u578b\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-c",children:"void LCD_OPEN_FUNC(__u32 sel, LCD_FUNC func, __u32 delay)\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,n.jsxs)(l.p,{children:["func\u662f\u4e00\u4e2a\u51fd\u6570\u6307\u9488\uff0c\u5176\u7c7b\u578b\u662f\uff1a",(0,n.jsx)(l.code,{children:"void (*LCD_FUNC) (__u32 sel)"}),"\uff0c\u7528\u6237\u81ea\u5df1\u5b9a\u4e49\u7684\u51fd\u6570\u5fc5\u987b\u4e5f\u8981\u7528\u7edf\u4e00\u7684\u5f62\u5f0f\u3002\u6bd4\u5982\uff1a"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"void user_defined_func(__u32 sel)\n{\n    //do something\n}\n"})}),"\n",(0,n.jsx)(l.p,{children:"delay\u662f\u6267\u884c\u8be5\u6b65\u9aa4\u540e\uff0c\u518d\u5ef6\u8fdf\u7684\u65f6\u95f4\uff0c\u65f6\u95f4\u5355\u4f4d\u662f\u6beb\u79d2\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_power_on",children:"LCD_power_on"}),"\n",(0,n.jsxs)(l.p,{children:["\u8fd9\u662f\u5f00\u5c4f\u6d41\u7a0b\u4e2d\u7b2c\u4e00\u6b65\uff0c\u4e00\u822c\u5728\u8fd9\u4e2a\u51fd\u6570\u4f7f\u7528",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_gpio_set_value",children:"sunxi_lcd_gpio_set_value"}),"\u8fdb\u884cGPIO\u63a7\u5236\uff0c\u7528",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_power_enable",children:"sunxi_lcd_power_enable"}),"\u51fd\u6570\u8fdb\u884c\u7535\u6e90\u5f00\u5173\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u53c2\u8003\u5c4f\u624b\u518c\u91cc\u9762\u7684\u4e0a\u7535\u65f6\u5e8f\uff08Power on sequence\uff09\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_panel_init",children:"LCD_panel_init"}),"\n",(0,n.jsxs)(l.p,{children:["\u8fd9\u662f\u5f00\u5c4f\u6d41\u7a0b\u7b2c\u4e8c\u6b65\uff0c\u4e00\u822c\u4f7f\u7528",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_cmd_write",children:"sunxi_lcd_cmd_write"}),"\u548csunxi_lcd_para_write\u5bf9\u5c4f\u5bc4\u5b58\u5668\u8fdb\u884c\u521d\u59cb\u5316\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u8bf7\u5411\u5c4f\u5382\u7d22\u8981\u521d\u59cb\u5316\u5bc4\u5b58\u5668\u4ee3\u7801\u6216\u8005\u81ea\u884c\u7814\u7a76\u5c4fDriver IC\u624b\u518c\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_fb_black_screen",children:"lcd_fb_black_screen"}),"\n",(0,n.jsx)(l.p,{children:"\u5411\u5c4f\u4f20\u8f93\u5168\u9ed1\u6570\u636e\u7684\u63a5\u53e3\uff0c\u662f\u5fc5\u987b\u7684\uff0c\u5426\u5219\u6253\u5f00\u80cc\u5149\u540e\uff0c\u5448\u73b0\u7684\u5c06\u662f\u96ea\u82b1\u5c4f\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"lcd_bl_open",children:"LCD_bl_open"}),"\n",(0,n.jsx)(l.p,{children:"\u8fd9\u662f\u80cc\u5149\u4f7f\u80fd\uff0c\u56fa\u5b9a\u8c03\u7528\u3002"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_backlight_enable",children:"sunxi_lcd_backlight_enable"}),", \u6253\u5f00lcd_bl_en\u811a\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_pwm_enable",children:"sunxi_lcd_pwm_enable"}),", \u4f7f\u80fdpwm\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_bl_close",children:"LCD_bl_close"}),"\n",(0,n.jsx)(l.p,{children:"\u8fd9\u662f\u5173\u95ed\u80cc\u5149\u3002\u56fa\u5b9a\u8c03\u7528\u4e0b\u9762\u4e24\u4e2a\u51fd\u6570\uff0c\u5206\u522b\u662f\uff1a"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_backlight_enable",children:"sunxi_lcd_backlight_disable"}),"\uff0clcd_bl_en\u5173\u95ed"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_pwm_enable",children:"sunxi_lcd_pwm_disable"}),", \u5173\u95edpwm\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"lcd_power_off",children:"LCD_power_off"}),"\n",(0,n.jsxs)(l.p,{children:["\u8fd9\u662f\u5173\u5c4f\u6d41\u7a0b\u4e2d\u6700\u540e\u4e00\u6b65\uff0c\u4e00\u822c\u5728\u8fd9\u4e2a\u51fd\u6570\u4f7f\u7528",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_gpio_set_value",children:"sunxi_lcd_gpio_set_value"}),"\u8fdb\u884cGPIO\u63a7\u5236\uff0c\u7528",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#sunxi_lcd_power_enable",children:"sunxi_lcd_power_enable"}),"\u51fd\u6570\u8fdb\u884c\u7535\u6e90\u5f00\u5173\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u53c2\u8003\u5c4f\u624b\u518c\u91cc\u9762\u7684\u4e0b\u7535\u65f6\u5e8f\uff08Power off sequence\uff09\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_delay_ms",children:"sunxi_lcd_delay_ms"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_delay_ms/sunxi_lcd_delay_us"})]}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u5ef6\u65f6\u51fd\u6570\uff0c\u5206\u522b\u662f\u6beb\u79d2\u7ea7\u522b/\u5fae\u79d2\u7ea7\u522b\u7684\u5ef6\u65f6\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["\u539f\u578b\uff1a",(0,n.jsx)(l.code,{children:"s32 sunxi_lcd_delay_ms(u32 ms); / s32 sunxi_lcd_delay_us(u32 us);"})]}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_backlight_enable",children:"sunxi_lcd_backlight_enable"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_backlight_enable/ sunxi_lcd_backlight_disable"})]}),"\n",(0,n.jsxs)(l.p,{children:["\u529f\u80fd\uff1a\u6253\u5f00/\u5173\u95ed\u80cc\u5149\uff0c\u64cd\u4f5c\u7684\u662f",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_bl_en",children:"lcd_bl_en"}),"\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u539f\u578b\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.code,{children:"void sunxi_lcd_backlight_enable(u32 screen_id);"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.code,{children:"void sunxi_lcd_backlight_disable(u32 screen_id);"})}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_pwm_enable",children:"sunxi_lcd_pwm_enable"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_pwm_enable / sunxi_lcd_pwm_disable"})]}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u6253\u5f00/\u5173\u95edpwm\u63a7\u5236\u5668\uff0c\u6253\u5f00\u65f6pwm\u5c06\u5f80\u5916\u8f93\u51fapwm\u6ce2\u5f62\u3002\u5bf9\u5e94\u7684\u662flcd_pwm_ch\u6240\u5bf9\u5e94\u7684\u90a3\u4e00\u8defpwm\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u539f\u578b\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.code,{children:"s32 sunxi_lcd_pwm_enable(u32 screen_id);"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.code,{children:"s32 sunxi_lcd_pwm_disable(u32 screen_id);"})}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_power_enable",children:"sunxi_lcd_power_enable"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_power_enable / sunxi_lcd_power_disable"})]}),"\n",(0,n.jsxs)(l.p,{children:["\u529f\u80fd\uff1a\u6253\u5f00/\u5173\u95edLcd\u7535\u6e90\uff0c\u64cd\u4f5c\u7684\u662f\u677f\u7ea7\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684",(0,n.jsx)(l.code,{children:"lcd_power/lcd_power1/lcd_power2"}),"\u3002\uff08pwr_id\u6807\u8bc6\u7535\u6e90\u7d22\u5f15\uff09\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u539f\u578b\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.code,{children:"void sunxi_lcd_power_enable(u32 screen_id, u32 pwr_id);"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.code,{children:"void sunxi_lcd_power_disable(u32 screen_id, u32 pwr_id);"})}),"\n",(0,n.jsx)(l.li,{children:"pwr_id = 0\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_power\u3002"}),"\n",(0,n.jsx)(l.li,{children:"pwr_id = 1\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_power1\u3002"}),"\n",(0,n.jsx)(l.li,{children:"pwr_id = 2\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_power2\u3002"}),"\n",(0,n.jsx)(l.li,{children:"pwr_id = 3\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_power3\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_cmd_write",children:"sunxi_lcd_cmd_write"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_cmd_write"})]}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u4f7f\u7528spi/dbi\u53d1\u9001\u547d\u4ee4\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["\u539f\u578b\uff1a",(0,n.jsx)(l.code,{children:"s32 sunxi_lcd_cmd_write(u32 screen_id, u8 cmd);"})]}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_para_write",children:"sunxi_lcd_para_write"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_para_write"})]}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u4f7f\u7528spi/dbi\u53d1\u9001\u53c2\u6570\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["\u539f\u578b\uff1a",(0,n.jsx)(l.code,{children:"s32 sunxi_lcd_para_write(u32 screen_id, u8 para);"})]}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_gpio_set_value",children:"sunxi_lcd_gpio_set_value"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_gpio_set_value"})]}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1aLCD_GPIO PIN\u811a\u4e0a\u8f93\u51fa\u9ad8\u7535\u5e73\u6216\u4f4e\u7535\u5e73\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["\u539f\u578b\uff1a",(0,n.jsx)(l.code,{children:"s32 sunxi_lcd_gpio_set_value(u32 screen_id, u32 io_index, u32 value);"})]}),"\n",(0,n.jsx)(l.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:"io_index = 0\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_0\u3002"}),"\n",(0,n.jsx)(l.li,{children:"io_index = 1\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_1\u3002"}),"\n",(0,n.jsx)(l.li,{children:"io_index = 2\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_2\u3002"}),"\n",(0,n.jsx)(l.li,{children:"io_index = 3\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_3\u3002"}),"\n",(0,n.jsx)(l.li,{children:"value = 0\uff1a\u5bf9\u5e94IO\u8f93\u51fa\u4f4e\u7535\u5e73\u3002"}),"\n",(0,n.jsx)(l.li,{children:"Value = 1\uff1a\u5bf9\u5e94IO\u8f93\u51fa\u9ad8\u7535\u5e73\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"\u53ea\u7528\u4e8e\u8be5GPIO\u5b9a\u4e49\u4e3a\u8f93\u51fa\u7684\u60c5\u5f62\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"sunxi_lcd_gpio_set_direction",children:"sunxi_lcd_gpio_set_direction"}),"\n",(0,n.jsxs)(l.p,{children:["\u51fd\u6570\uff1a",(0,n.jsx)(l.strong,{children:"sunxi_lcd_gpio_set_direction"})]}),"\n",(0,n.jsx)(l.p,{children:"\u529f\u80fd\uff1a\u8bbe\u7f6eLCD_GPIO PIN\u811a\u4e3a\u8f93\u5165\u6216\u8f93\u51fa\u6a21\u5f0f\u3002"}),"\n",(0,n.jsx)(l.p,{children:"\u539f\u578b\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"s32 sunxi_lcd_gpio_set_direction(u32 screen_id, u32 io_index, u32 direction);\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:"io_index = 0\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_0\u3002"}),"\n",(0,n.jsx)(l.li,{children:"io_index = 1\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_1\u3002"}),"\n",(0,n.jsx)(l.li,{children:"io_index = 2\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_2\u3002"}),"\n",(0,n.jsx)(l.li,{children:"io_index = 3\uff1a\u5bf9\u5e94\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684lcd_gpio_3\u3002"}),"\n",(0,n.jsx)(l.li,{children:"direction = 0\uff1a\u5bf9\u5e94IO\u8bbe\u7f6e\u4e3a\u8f93\u5165\u3002"}),"\n",(0,n.jsx)(l.li,{children:"direction = 1\uff1a\u5bf9\u5e94IO\u8bbe\u7f6e\u4e3a\u8f93\u51fa\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"\u6a21\u5757\u6d4b\u8bd5\u7528\u4f8b",children:"\u6a21\u5757\u6d4b\u8bd5\u7528\u4f8b"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-c",children:'#include <stdio.h>\n#include <stdlib.h>\n#include <stdint.h>\n#include <string.h>\n#include <unistd.h>\n\n#include <hal_cache.h>\n#include <hal_mem.h>\n#include <hal_log.h>\n#include <hal_cmd.h>\n#include <hal_lcd_fb.h>\n\nstatic uint32_t width;\nstatic uint32_t height;\nstatic long int screensize = 0;\nstatic char *fbsmem_start = 0;\n\nstatic void lcdfb_fb_init(uint32_t yoffset, struct fb_info *p_info)\n{\n    p_info->screen_base = fbsmem_start;\n    p_info->var.xres = width;\n    p_info->var.yres = height;\n    p_info->var.xoffset = 0;\n    p_info->var.yoffset = yoffset;\n}\n\nint show_rgb(unsigned int sel)\n{\n    int i = 0, ret = -1;\n    struct fb_info fb_info;\n    int bpp = 4;\n    unsigned char color[4] = {0xff,0x0,0xff,0x0};\n\n    width = bsp_disp_get_screen_width(sel);\n    height = bsp_disp_get_screen_height(sel);\n\n    screensize = width * bpp * height;\n    fbsmem_start = hal_malloc_coherent(screensize);\n\n    hal_log_info("width = %d, height = %d, screensize = %d, fbsmem_start = %x\\n",\n            width, height, screensize, fbsmem_start);\n\n    memset(fbsmem_start, 0, screensize);\n    for (i = 0; i < screensize / bpp; ++i) {\n        memcpy(fbsmem_start+i*bpp, color, bpp);\n    }\n\n    memset(&fb_info, 0, sizeof(struct fb_info));\n    lcdfb_fb_init(0, &fb_info);\n    hal_dcache_clean((unsigned long)fbsmem_start, screensize);\n    bsp_disp_lcd_set_layer(sel, &fb_info);\n\n    hal_free_coherent(fbsmem_start);\n    return ret;\n}\n\nstatic int cmd_test_spilcd(int argc, char **argv)\n{\n    uint8_t ret;\n\n    hal_log_info("Run spilcd hal layer test case\\n");\n\n    ret = show_rgb(0);\n\n    hal_log_info("spilcd test finish\\n");\n\n    return ret;\n}\n\nFINSH_FUNCTION_EXPORT_CMD(cmd_test_spilcd, test_spilcd, spilcd hal APIs tests)\n'})}),"\n",(0,n.jsx)(l.p,{children:"\u6d4b\u8bd5\u547d\u4ee4\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"test_spilcd\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u6d4b\u8bd5\u7ed3\u679c\uff1a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"1.\u5982\u679cLCD\u662fARGB8888\u50cf\u7d20\u683c\u5f0f\u8f93\u5165\uff0c\u6267\u884c\u547d\u4ee4\u540e\u4f1a\u663e\u793a\u4e00\u5e27\u7d2b\u8272\u753b\u9762\u3002\n2.\u5982\u679cLCD\u662fRGB565\u50cf\u7d20\u683c\u5f0f\u8f93\u5165\uff0c\u6267\u884c\u547d\u4ee4\u540e\u4f1a\u663e\u793a\u4e00\u5e27\u84dd\u8272\u753b\u9762\uff08SPI \u534f\u8bae\u662f\u9ec4\u8272\u753b\u9762\uff08\u6ca1\u6709RB Swap\uff09\uff09\n"})}),"\n",(0,n.jsx)(l.h2,{id:"faq",children:"FAQ"}),"\n",(0,n.jsx)(l.h3,{id:"\u600e\u4e48\u5224\u65ad\u5c4f\u521d\u59cb\u5316\u6210\u529f",children:"\u600e\u4e48\u5224\u65ad\u5c4f\u521d\u59cb\u5316\u6210\u529f"}),"\n",(0,n.jsxs)(l.p,{children:["\u5c4f\u521d\u59cb\u5316\u6210\u529f\uff0c\u4e00\u822c\u5448\u73b0\u7684\u73b0\u8c61\u662f\u96ea\u82b1\u5c4f\u3002\u56e0\u4e3a\u5c4f\u9a71\u52a8\u91cc\u9762\uff0c\u5728 ",(0,n.jsx)(l.code,{children:"LCD_open_flow"})," \u4e2d\u6dfb\u52a0\u4e86",(0,n.jsx)(l.code,{children:"lcd_fb_black_screen"}),"\u7684\u6ce8\u518c\uff0c\u6545\u6b63\u5e38\u60c5\u51b5\u4e0b\u5f00\u673a\u662f\u6709\u80cc\u5149\u7684\u9ed1\u5c4f\u753b\u9762\u3002"]}),"\n",(0,n.jsx)(l.h3,{id:"\u9ed1\u5c4f-\u65e0\u80cc\u5149",children:"\u9ed1\u5c4f-\u65e0\u80cc\u5149"}),"\n",(0,n.jsxs)(l.p,{children:["\u4e00\u822c\u662f\u7535\u6e90\u6216\u8005pwm\u76f8\u5173\u914d\u7f6e\u6ca1\u6709\u914d\u7f6e\u597d\u3002\u53c2\u8003",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_pwm_used",children:"lcd_pwm"}),"\u5f00\u5934\u7684\u76f8\u5173\u914d\u7f6e\u3002"]}),"\n",(0,n.jsx)(l.h3,{id:"\u9001\u56fe\u65e0\u663e\u793a",children:"\u9001\u56fe\u65e0\u663e\u793a"}),"\n",(0,n.jsx)(l.p,{children:"\u6392\u9664\u6b65\u9aa4:"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:["\u9996\u5148\u6267\u884cspilcd\u6a21\u5757\u6d4b\u8bd5\u547d\u4ee4",(0,n.jsx)(l.code,{children:"test_spilcd"}),"\uff0c\u5982\u679c\u80fd\u6b63\u5e38\u663e\u793a\u989c\u8272\u753b\u9762\uff0c\u8bf4\u660e\u663e\u793a\u901a\u8def\u6b63\u5e38\uff0c\u53ea\u662f\u5e94\u7528\u672a\u80fd\u6b63\u786e\u914d\u7f6e\u9001\u56fe\u63a5\u53e3\u3002\u5982\u679c\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\u65e0\u6cd5\u6b63\u5e38\u663e\u793a\u989c\u8272\u753b\u9762\uff0c\u63a5\u7740\u4e0b\u9762\u6b65\u9aa4\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5c4f\u9a71\u52a8\u91cc\u9762\uff0c\u5728",(0,n.jsx)(l.code,{children:"LCD_open_flow"}),"\u4e2d\u5220\u9664",(0,n.jsx)(l.code,{children:"lcd_fb_black_screen"}),"\u7684\u6ce8\u518c\uff0c\u542f\u52a8\u540e\uff0c\u5982\u679c\u5c4f\u521d\u59cb\u5316\u6210\u529f\u5e94\u8be5\u662f\u82b1\u5c4f\u72b6\u6001(\u5927\u90e8\u5206\u5c4f\u5982\u6b64)\u3002"]}),"\n",(0,n.jsx)(l.li,{children:"\u5982\u679c\u5c4f\u6ca1\u6709\u521d\u59cb\u5316\u6210\u529f\uff0c\u8bf7\u68c0\u67e5\u5c4f\u7535\u6e90\uff0c\u590d\u4f4d\u811a\u72b6\u6001\u3002"}),"\n",(0,n.jsxs)(l.li,{children:["\u5982\u679c\u5c4f\u521d\u59cb\u5316\u6210\u529f\uff0c\u4f46\u662f\u53d1\u6570\u636e\u65f6\u53c8\u6ca1\u6cd5\u663e\u793a\uff0c\u90a3\u4e48\u9700\u8981\u68c0\u67e5\u662f\u4e0d\u662f\u5e27\u7387\u8fc7\u5feb\uff0c\u67e5\u770b",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#%E5%B8%A7%E7%8E%87%E6%8E%A7%E5%88%B6",children:"\u5e27\u7387\u63a7\u5236"}),"\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5982\u679c\u7535\u6e90\u590d\u4f4d\u811a\u6b63\u5e38\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e\uff0c",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_if",children:"lcd_dbi_if"}),", ",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_fmt",children:"lcd_dbi_fmt"}),"\u662f\u5426\u6b63\u786e\uff0c\u5c4f\u662f\u5426\u652f\u6301, \u5982\u679c\u652f\u6301\uff0c\u5728\u5c4f\u9a71\u52a8\u91cc\u9762\u662f\u5426\u6709\u5bf9\u5e94\u4e0a\u3002"]}),"\n",(0,n.jsxs)(l.li,{children:["\u5c1d\u8bd5\u4fee\u6539",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_clk_mode",children:"lcd_dbi_clk_mode"}),"\u3002"]}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"\u95ea\u5c4f",children:"\u95ea\u5c4f"}),"\n",(0,n.jsxs)(l.p,{children:["\u975e\u5e38\u6709\u53ef\u80fd\u662f\u901f\u5ea6\u8dd1\u592a\u5feb\uff0c\u53c2\u8003",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#%E5%B8%A7%E7%8E%87%E6%8E%A7%E5%88%B6",children:"\u5e27\u7387\u63a7\u5236"}),"\u4e00\u5c0f\u8282\u3002"]}),"\n",(0,n.jsx)(l.h3,{id:"\u753b\u9762\u504f\u79fb",children:"\u753b\u9762\u504f\u79fb"}),"\n",(0,n.jsx)(l.p,{children:"\u753b\u9762\u968f\u7740\u6570\u636e\u7684\u53d1\u9001\u504f\u79fb\u8d8a\u6765\u8d8a\u5927\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["\u5c1d\u8bd5\u4fee\u6539",(0,n.jsx)(l.a,{href:"https://r128.docs.aw-ol.com/sdk_base/spilcd/#lcd_dbi_clk_mode",children:"lcd_dbi_clk_mode"}),"\u3002"]}),"\n",(0,n.jsx)(l.h3,{id:"\u5c4f\u5e55\u767d\u5c4f",children:"\u5c4f\u5e55\u767d\u5c4f"}),"\n",(0,n.jsx)(l.p,{children:"\u5c4f\u5e55\u767d\u5c4f\uff0c\u4f46\u662f\u80cc\u5149\u4eae\u8d77"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image9.png",alt:""})}),"\n",(0,n.jsx)(l.p,{children:"\u767d\u5c4f\u662f\u56e0\u4e3a\u5c4f\u5e55\u6ca1\u6709\u521d\u59cb\u5316\uff0c\u9700\u8981\u68c0\u67e5\u5c4f\u5e55\u521d\u59cb\u5316\u5e8f\u5217\u6216\u8005\u521d\u59cb\u5316\u6570\u636e\u662f\u5426\u6b63\u786e\u3002"}),"\n",(0,n.jsx)(l.h3,{id:"\u5c4f\u5e55\u82b1\u5c4f",children:"\u5c4f\u5e55\u82b1\u5c4f"}),"\n",(0,n.jsx)(l.p,{children:"\u5c4f\u5e55\u82b1\u5c4f\uff0c\u65e0\u6cd5\u63a7\u5236"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image10.png",alt:""})}),"\n",(0,n.jsxs)(l.p,{children:["\u82b1\u5c4f\u4e00\u822c\u662f\u56e0\u4e3a\u5c4f\u5e55\u521d\u59cb\u5316\u540e\u6ca1\u6709\u6b63\u786e\u8bbe\u7f6e ",(0,n.jsx)(l.code,{children:"addrwin"}),"\uff0c\u6216\u8005\u521d\u59cb\u5316\u5e8f\u5217\u9519\u8bef\u3002"]}),"\n",(0,n.jsx)(l.h3,{id:"lvgl-\u5c4f\u5e55\u989c\u8272\u4e0d\u6b63\u786e",children:"LVGL \u5c4f\u5e55\u989c\u8272\u4e0d\u6b63\u786e"}),"\n",(0,n.jsx)(l.p,{children:"\u51fa\u73b0\u53cd\u8272\uff0c\u989c\u8272\u5f02\u5e38"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image11.png",alt:""})}),"\n",(0,n.jsxs)(l.p,{children:["\u8bf7\u914d\u7f6e LVGL ",(0,n.jsx)(l.code,{children:"LV_COLOR_DEPTH"})," \u53c2\u6570\u4e3a 16\uff0c",(0,n.jsx)(l.code,{children:"LV_COLOR_16_SWAP"})," \u4e3a 1\uff0c\u8fd9\u662f\u7531 SPI LCD \u7684\u7279\u6027\u51b3\u5b9a\u7684\u3002"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image12.png",alt:""})}),"\n",(0,n.jsx)(l.h3,{id:"\u663e\u793a\u53cd\u8272",children:"\u663e\u793a\u53cd\u8272"}),"\n",(0,n.jsxs)(l.p,{children:["\u8fd0\u884c ",(0,n.jsx)(l.code,{children:"test_spilcd"})," \uff0c\u5c4f\u5e55\u663e\u793a\u84dd\u8272\u3002"]}),"\n",(0,n.jsxs)(l.p,{children:["\u8fd9\u662f\u7531\u4e8e\u5c4f\u5e55\u542f\u52a8\u4e86 RB SWAP\uff0c\u4e00\u822c\u662f ",(0,n.jsx)(l.code,{children:"0x36"})," \u5bc4\u5b58\u5668\u4fee\u6539"]}),"\n",(0,n.jsx)(l.p,{children:"\u6b63\u5e38\u663e\u793a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"sunxi_lcd_cmd_write(sel, 0X36);\nsunxi_lcd_para_write(sel, 0x00);\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u53cd\u8272\u663e\u793a"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"sunxi_lcd_cmd_write(sel, 0X36);\nsunxi_lcd_para_write(sel, 0x08);\n"})}),"\n",(0,n.jsx)(l.h3,{id:"lvgl-\u51fa\u73b0-dma-over-size",children:"LVGL \u51fa\u73b0 DMA Over Size"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image13.png",alt:""})}),"\n",(0,n.jsxs)(l.p,{children:["\u8fd9\u662f\u7531\u4e8e LVGL \u914d\u7f6e\u7684 ",(0,n.jsx)(l.code,{children:"LV_COLOR_DEPTH"})," \u4e3a 32\uff0c\u4f46\u662f SPI \u5c4f\u914d\u7f6e\u4e3a16\u4f4d\u3002\u8bf7\u4fee\u6539 ",(0,n.jsx)(l.code,{children:"lv_conf.h"})]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image14.png",alt:""})}),"\n",(0,n.jsx)(l.h3,{id:"\u51fa\u73b0\u90e8\u5206\u82b1\u5c4f",children:"\u51fa\u73b0\u90e8\u5206\u82b1\u5c4f"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image15.png",alt:""})}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsxs)(l.li,{children:["\u68c0\u67e5 ",(0,n.jsx)(l.code,{children:"address"})," \u51fd\u6570\u662f\u5426\u6b63\u786e"]}),"\n",(0,n.jsxs)(l.li,{children:["\u68c0\u67e5 ",(0,n.jsx)(l.code,{children:"sys_config.fex"})," \u5c4f\u5e55\u914d\u7f6e\u5206\u8fa8\u7387\u662f\u5426\u6b63\u786e"]}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,n.jsx)(l.p,{children:"\u8c03\u8bd5LCD\u663e\u793a\u5c4f\u5b9e\u9645\u4e0a\u5c31\u662f\u8c03\u8bd5\u53d1\u9001\u7aef\u82af\u7247\uff08\u5168\u5fd7SOC\uff09\u548c\u63a5\u6536\u7aef\u82af\u7247\uff08LCD\u5c4f\u4e0a\u7684driver IC\uff09\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff1a"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"\u6dfb\u52a0\u5c4f\u9a71\u52a8\u8bf7\u770b\u7f16\u5199\u5c4f\u9a71\u52a8"}),"\n",(0,n.jsx)(l.li,{children:"\u4ed4\u7ec6\u9605\u8bfb\u5c4f\u624b\u518c\u4ee5\u53cadriver IC\u624b\u518c\uff08\u6709\u7684\u8bdd\uff09\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u4ed4\u7ec6\u9605\u8bfb\u677f\u7ea7\u663e\u793a\u914d\u7f6e\u53c2\u6570\u8be6\u89e3\u3002"}),"\n",(0,n.jsx)(l.li,{children:"\u786e\u4fddLCD\u6240\u9700\u8981\u7684\u5404\u8def\u7535\u6e90\u7ba1\u811a\u6b63\u5e38\u3002"}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"spi-lcd-\u989c\u8272\u76f8\u5173\u95ee\u9898",children:"SPI LCD \u989c\u8272\u76f8\u5173\u95ee\u9898"}),"\n",(0,n.jsx)(l.p,{children:"\u9996\u5148\uff0c\u5f97\u5148\u786e\u5b9a\u663e\u793a\u5c4f\u4f7f\u7528\u7684\u662fSPI\u63a5\u53e3\uff0c\u8fd8\u662fDBI\u63a5\u53e3\uff0c\u4e0d\u540c\u7684\u63a5\u53e3\uff0c\u8f93\u5165\u6570\u636e\u7684\u89e3\u6790\u65b9\u5f0f\u662f\u4e0d\u4e00\u6837\u7684\u3002"}),"\n",(0,n.jsxs)(l.p,{children:["DBI\u63a5\u53e3\u7684\u5168\u79f0\u662f ",(0,n.jsx)(l.code,{children:"Display Bus Serial Interface"})," \uff0c\u5728\u663e\u793a\u5c4f\u6570\u636e\u624b\u518c\u4e2d\uff0c\u4e00\u822c\u4f1a\u8bf4\u8fd9\u662fSPI\u63a5\u53e3\uff0c\u6240\u4ee5\u6709\u4eba\u4f1a\u8bef\u8ba4\u4e3aSPI\u5c4f\u53ef\u4ee5\u4f7f\u7528 ",(0,n.jsx)(l.code,{children:"normal spi"})," \u53bb\u76f4\u63a5\u9a71\u52a8\u3002"]}),"\n",(0,n.jsxs)(l.p,{children:["\u9605\u8bfb",(0,n.jsx)(l.code,{children:"lcd_dbi_if"}),"\u90e8\u5206\u7684\u4ecb\u7ecd\u53ef\u4ee5\u77e5\u9053\uff0c\u57283\u7ebf\u6a21\u5f0f\u65f6\uff0c\u53d1\u9001\u547d\u4ee4\u524d\u67091\u4f4dA0\u7528\u4e8e\u6307\u793a\u5f53\u524d\u53d1\u9001\u7684\u662f\u6570\u636e\uff0c\u8fd8\u662f\u547d\u4ee4\u3002\u800c\u547d\u4ee4\u540e\u9762\u63a5\u7740\u7684\u6570\u636e\u5c31\u6ca1\u6709\u8fd9\u4e2aA0\u4f4d\u4e86\uff0c\u4ee3\u8868SPI\u9700\u8981\u57289\u4f4d\u548c8\u4f4d\u4e4b\u95f4\u6765\u56de\u5207\u6362\uff0c\u800c\u5728\u8bfb\u6570\u636e\u65f6\uff0c\u66f4\u662f\u9700\u8981\u5ef6\u65f6 ",(0,n.jsx)(l.code,{children:"dummy clock"})," \u624d\u80fd\u8bfb\u6570\u636e\uff0c",(0,n.jsx)(l.code,{children:"normal spi"})," \u90fd\u5f88\u96be\uff0c\u751a\u81f3\u65e0\u6cd5\u5b9e\u73b0\u3002\u6240\u4ee5 ",(0,n.jsx)(l.code,{children:"normal spi"})," \u53ea\u80fd\u6a21\u62df4 \u7ebf\u7684DBI\u7684\u5199\u64cd\u4f5c\u3002"]}),"\n",(0,n.jsx)(l.p,{children:"\u5bf9\u4e8eR128\u8fd9\u7c7b\u652f\u6301DBI\u63a5\u53e3\u7684CPU\uff0c\u53ef\u4ee5\u9009\u62e9\u4e0d\u53bb\u4e86\u89e3SPI\u3002\u5982\u679c\u9700\u8981\u7528\u5230SPI\u53bb\u9a71\u52a8\u663e\u793a\u5c4f\uff0c\u5fc5\u987b\u628a\u663e\u793a\u5c4f\u8bbe\u7f6e\u6210\u5c0f\u7aef\u3002"}),"\n",(0,n.jsx)(l.h4,{id:"rgb565\u548crgb666",children:"RGB565\u548cRGB666"}),"\n",(0,n.jsx)(l.p,{children:"SPI\u663e\u793a\u5c4f\u4e00\u822c\u652f\u6301RGB444,RGB565\u548cRGB666\uff0cRGB444\u4f7f\u7528\u7684\u6bd4\u8f83\u5c11\uff0c\u6240\u4ee5\u53ea\u8ba8\u8bbaRGB565\u548cRGB666."}),"\n",(0,n.jsx)(l.p,{children:"RGB565\u4ee3\u8868\u4e00\u4e2a\u70b9\u7684\u989c\u8272\u75312\u5b57\u8282\u7ec4\u6210\uff0c\u4e5f\u5c31\u662fR\uff08\u7ea2\u8272\uff09\u75285\u4f4d\u8868\u793a\uff0cG\uff08\u7eff\u8272\uff09\u75286\u4f4d\u8868\u793a\uff0cB\uff08\u84dd\u8272\uff09\u75285\u4f4d\u8868\u793a\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image16.png",alt:""})}),"\n",(0,n.jsx)(l.p,{children:"RGB666\u4e00\u4e2a\u70b9\u7684\u989c\u8272\u75313\u5b57\u8282\u7ec4\u6210\uff0c\u6bcf\u4e2a\u5b57\u8282\u4ee3\u8868\u4e00\u4e2a\u989c\u8272\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5b57\u8282\u7684\u4f4e2\u4f4d\u4f1a\u65e0\u89c6\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image17.png",alt:""})}),"\n",(0,n.jsx)(l.h4,{id:"spi-\u63a5\u53e3",children:"SPI \u63a5\u53e3"}),"\n",(0,n.jsxs)(l.p,{children:["\u56e0\u4e3aSPI\u63a5\u53e3\u7684\u901a\u8baf\u6548\u7387\u4e0d\u9ad8\uff0c\u6240\u4ee5\u5efa\u8bae\u4f7f\u7528RGB565\u7684\u663e\u793a\uff0c\u4ee5 ",(0,n.jsx)(l.code,{children:"jlt35031c"})," \u663e\u793a\u5c4f\u4e3a\u4f8b\uff0c\u4ed6\u7684\u663e\u793a\u9a71\u52a8\u82af\u7247\u662f ",(0,n.jsx)(l.code,{children:"ST7789"}),"\uff0c\u8bbe\u7f6e\u663e\u793a\u683c\u5f0f\u7684\u65b9\u5f0f\u662f\u5f80 ",(0,n.jsx)(l.code,{children:"3a"})," \u5bc4\u5b58\u5668\u5199\u5165",(0,n.jsx)(l.code,{children:"0x55\uff08RGB565"}),"\uff09\u6216\u8005 ",(0,n.jsx)(l.code,{children:"0x66\uff08RGB666\uff09"}),"\uff0c\u5728 ",(0,n.jsx)(l.code,{children:"R128SDK"})," \u4e2d\uff0c\u5df2\u7ecf\u628a ",(0,n.jsx)(l.code,{children:"jlt35031c"})," \u7684\u901a\u8baf\u683c\u5f0f\u5199\u6b7b\u4e3a ",(0,n.jsx)(l.code,{children:"0x55"}),"\uff0c",(0,n.jsx)(l.code,{children:"lcd_pixel_fmt"}),"\u914d\u7f6e\u9009\u9879\u65e0\u6548\uff1a"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"sunxi_lcd_cmd_write(sel, 0x3a);\nsunxi_lcd_para_write(sel, 0x55);\n"})}),"\n",(0,n.jsxs)(l.p,{children:["\u5728\u4f8b\u7a0b\u4e2d\uff0c\u8f93\u5165\u7684\u6570\u636e\u662f ",(0,n.jsx)(l.code,{children:"0xff\uff0c0x00\uff0c0xff\uff0c0x00"}),"\uff0c\u5bf9\u4e8eSPI\u63a5\u53e3\uff0c\u662f\u6309\u5b57\u8282\u53d1\u9001\u3002\u5b9e\u9645\u4e0a\uff0c\u4f8b\u7a0b\u53ea\u9700\u8981\u6bcf\u6b21\u53d1\u90012\u5b57\u8282\u5373\u53ef\uff0c\u56e0\u4e3a\u524d\u540e\u53d1\u9001\u7684\u90fd\u662f\u76f8\u540c\u7684ff 00\uff0c\u6240\u4ee5\u6ca1\u6709\u770b\u51fa\u95ee\u9898\u3002"]}),"\n",(0,n.jsxs)(l.p,{children:["\u6839\u636e\u5bf9 ",(0,n.jsx)(l.code,{children:"565"})," \u7684\u6570\u636e\u89e3\u6790\uff0c\u6211\u4eec\u62c6\u5206 ",(0,n.jsx)(l.code,{children:"ff 00"})," \u5c31\u53ef\u4ee5\u5f97\u5230\u7ea2\u8272\u5206\u91cf\u662f ",(0,n.jsx)(l.code,{children:"0b11111"}),"\uff0c\u4e5f\u5c31\u662f ",(0,n.jsx)(l.code,{children:"31"}),"\uff0c\u7eff\u8272\u662f",(0,n.jsx)(l.code,{children:"0b111000"}),"\uff0c\u4e5f\u5c31\u662f ",(0,n.jsx)(l.code,{children:"56"}),"\uff0c\uff0c\u84dd\u8272\u662f ",(0,n.jsx)(l.code,{children:"0"}),".\u6211\u4eec\u7b49\u6548\u8f6c\u6362\u6210 ",(0,n.jsx)(l.code,{children:"RGB888"}),"\uff0c\u6709\uff1a"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"R = 31/31*255 = 255\nG = 56/63*255 = 226\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u5728\u8c03\u8272\u677f\u8f93\u5165\u5bf9\u5e94\u989c\u8272\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u9ec4\u8272"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image18.png",alt:""})}),"\n",(0,n.jsx)(l.h4,{id:"dbi-\u63a5\u53e3",children:"DBI \u63a5\u53e3"}),"\n",(0,n.jsxs)(l.p,{children:["\u56e0\u4e3a ",(0,n.jsx)(l.code,{children:"DBI"})," \u901a\u8baf\u6548\u7387\u8f83\u9ad8\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528 ",(0,n.jsx)(l.code,{children:"RGB565"})," \u6216\u8005 ",(0,n.jsx)(l.code,{children:"RGB666"}),"\uff0c\u4f7f\u7528 ",(0,n.jsx)(l.code,{children:"DBI"})," \u63a5\u53e3\uff0c\u4e5f\u5c31\u662f ",(0,n.jsx)(l.code,{children:"lcd_if"})," \u8bbe\u7f6e\u4e3a",(0,n.jsx)(l.code,{children:"1"}),"\u65f6\uff0c\u9a71\u52a8\u4f1a\u6839\u636e ",(0,n.jsx)(l.code,{children:"lcd_pixel_fmt"})," \u914d\u7f6e\u5bc4\u5b58\u5668\uff0c\u4ee5 ",(0,n.jsx)(l.code,{children:"SDK"})," \u4e2d\u7684 ",(0,n.jsx)(l.code,{children:"kld2844b.c"})," \u4e3a\u4f8b\uff0c\u8fd9\u663e\u793a\u5c4f\u7684\u663e\u793a\u9a71\u52a8\u4e5f\u662f ",(0,n.jsx)(l.code,{children:"ST7789"}),"\uff0c\u4f46\u662f\u4e0d\u540c\u7684\u5c4f\u5e55\uff0c\u5382\u5bb6\u5c01\u88c5\u65f6\u5df2\u7ecf\u9650\u5236\u4e86\u901a\u8baf\u65b9\u5f0f\uff0c\u6240\u4ee5\u5373\u4f7f\u662f\u80fd\u4f7f\u7528 DBI \u63a5\u53e3\u7684\u9a71\u52a8\u82af\u7247\u7684\u5c4f\u5e55\uff0c\u6216\u8bb8\u4e5f\u7528\u4e0d\u4e86DBI\u3002"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-c",children:"sunxi_lcd_cmd_write(sel, 0x3A); /* Interface Pixel Format */\n/* 55----RGB565;66---RGB666 */\nif (info[sel].lcd_pixel_fmt == LCDFB_FORMAT_RGB_565 ||\n    info[sel].lcd_pixel_fmt == LCDFB_FORMAT_BGR_565) {\n    sunxi_lcd_para_write(sel, 0x55);\n    if (info[sel].lcd_pixel_fmt == LCDFB_FORMAT_RGB_565)\n        rotate &= 0xf7;\n    else\n        rotate |= 0x08;\n} else if (info[sel].lcd_pixel_fmt < LCDFB_FORMAT_RGB_888) {\n    sunxi_lcd_para_write(sel, 0x66);\n    if (info[sel].lcd_pixel_fmt == LCDFB_FORMAT_BGRA_8888 ||\n        info[sel].lcd_pixel_fmt == LCDFB_FORMAT_BGRX_8888 ||\n        info[sel].lcd_pixel_fmt == LCDFB_FORMAT_ABGR_8888 ||\n        info[sel].lcd_pixel_fmt == LCDFB_FORMAT_XBGR_8888) {\n        rotate |= 0x08;\n    }\n} else {\n    sunxi_lcd_para_write(sel, 0x66);\n}\n"})}),"\n",(0,n.jsxs)(l.p,{children:["\u5bf9\u4e8e DBI \u683c\u5f0f\uff0c\u4e0d\u518d\u662f\u4ee5\u5b57\u8282\u7684\u5f62\u5f0f\u53bb\u89e3\u6790\uff0c\u800c\u662f\u4ee5\u5b57\u7684\u65b9\u5f0f\u53bb\u89e3\u6790\uff0c\u4e3a\u4e86\u7edf\u4e00\uff0c\u8f6f\u4ef6\u5df2\u7ecf\u89c4\u5b9a\u4e86\uff0c",(0,n.jsx)(l.code,{children:"RGB565"})," \u683c\u5f0f\u65f6\uff0c\u5b57\u5927\u5c0f\u662f2\u5b57\u8282\uff0c\u4e5f\u5c31\u662f16\u4f4d\uff0c\u800c ",(0,n.jsx)(l.code,{children:"RGB666"})," \u683c\u5f0f\u65f6\uff0c\u5b57\u5927\u5c0f\u662f4\u5b57\u8282\uff0c\u4e5f\u5c31\u662f32\u4f4d\u3002"]}),"\n",(0,n.jsxs)(l.p,{children:["\u5bf9\u4e8e ",(0,n.jsx)(l.code,{children:"RGB565"})," \u683c\u5f0f\uff0c\u540c\u6837\u662f\u8bbe\u7f6e\u4e3a ",(0,n.jsx)(l.code,{children:"0xff,0x00"}),"\u3002\u56e0\u4e3a\u5c4f\u5e55\u662f\u5927\u7aef\uff0c\u800c\u82af\u7247\u5b58\u50a8\u65b9\u5f0f\u662f\u5c0f\u7aef\uff0c\u6240\u4ee5\u82af\u7247\u7684 DBI \u6a21\u5757\uff0c\u4f1a\u81ea\u52a8\u628a\u6570\u636e\u4ece\u65b0\u6392\u5217\uff0c\u4e5f\u5c31\u662f\u5b9e\u9645\u4e0a DBI \u53d1\u9001\u6570\u636e\u65f6\uff0c\u4f1a\u5148\u53d1\u9001",(0,n.jsx)(l.code,{children:"0x00"}),"\uff0c\u518d\u53d1\u9001",(0,n.jsx)(l.code,{children:"0xff"}),"\uff0c\u4e5f\u5c31\u662f\u7ea2\u8272\u5206\u91cf\u4e3a0\uff0c\u7eff\u8272\u5206\u91cf\u4e3a ",(0,n.jsx)(l.code,{children:"0b000111"}),"\uff0c\u4e5f\u5c31\u662f7\uff0c\u84dd\u8272\u5206\u91cf\u662f ",(0,n.jsx)(l.code,{children:"0x11111"}),"\uff0c\u4e5f\u5c31\u662f31\uff0c\u6211\u4eec\u540c\u6837\u8f6c\u6362\u6210RGB888"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"G = 7/63*255 = 28\nB= 31/31*255 = 255\n"})}),"\n",(0,n.jsx)(l.p,{children:"\u5728\u8c03\u8272\u677f\u4e0a\u8f93\u5165\uff0c\u53ef\u4ee5\u5f97\u5230\u84dd\u8272\u3002"}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image19.png",alt:""})}),"\n",(0,n.jsxs)(l.p,{children:["\u5982\u679c\u662f ",(0,n.jsx)(l.code,{children:"RGB666"}),"\uff0c\u867d\u7136\u5360\u7528\u7684\u662f3\u4e2a\u5b57\u8282\uff0c\u4f46\u662f\u6ca1\u6709CPU\u662f3\u5b57\u8282\u5bf9\u9f50\u7684\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u6b21\u6027\u8f93\u51654\u5b57\u8282\uff0c\u7136\u540e DBI \u786c\u4ef6\u6a21\u5757\uff0c\u4f1a\u81ea\u52a8\u820d\u5f031\u4e2a\u5b57\u8282\uff0c\u8f6f\u4ef6\u540c\u610f\u820d\u5f03\u4e86\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u3002"]}),"\n",(0,n.jsxs)(l.p,{children:["\u4f9d\u65e7\u4ee5\u4f8b\u7a0b\u4e3a\u4f8b\uff0c\u4f8b\u7a0b\u8f93\u5165\u4e86 ",(0,n.jsx)(l.code,{children:"0xff\uff0c0x00\uff0c0xff\uff0c0x00"}),"\uff0c\u4e3a\u4e86\u65b9\u4fbf\u8bf4\u660e\uff0c\u6807\u51c6\u4e3a ",(0,n.jsx)(l.code,{children:"0xff(1)\uff0c0x00(1)\uff0c0xff(2)\uff0c0x00(2)"}),"\uff0c\u5176\u4e2d ",(0,n.jsx)(l.code,{children:"0x00(2)"}),"\u4f1a\u88ab\u820d\u5f03\u6389\uff0c\u7136\u540e\u53d1\u9001\u987a\u5e8f\u662f",(0,n.jsx)(l.code,{children:"0xff(2)\uff0c0x00(1)\uff0c0xff(1)"}),"\uff0c\u4e5f\u5c31\u662f ",(0,n.jsx)(l.code,{children:"0xff(2)"})," \u662f\u7ea2\u8272\u5206\u91cf\uff0c",(0,n.jsx)(l.code,{children:"0xff(1)"})," \u662f\u84dd\u8272\u5206\u91cf\uff0c\u6df7\u5408\u53ef\u4ee5\u5f97\u5230\u7d2b\u8272\u3002"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter5/image20.png",alt:""})})]})}function p(e={}){const{wrapper:l}={...(0,c.a)(),...e.components};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(x,{...e})}):x(e)}},1151:(e,l,d)=>{d.d(l,{Z:()=>r,a:()=>s});var n=d(7294);const c={},i=n.createContext(c);function s(e){const l=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),n.createElement(i.Provider,{value:l},e.children)}}}]);