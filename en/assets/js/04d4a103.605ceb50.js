"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8568],{8539:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>a,frontMatter:()=>s,metadata:()=>r,toc:()=>_});var d=l(5893),c=l(1151);const s={},t="R128\u4f7f\u7528RGB LCD",r={id:"demo/part1/chapter15",title:"R128\u4f7f\u7528RGB LCD",description:"\u8fd9\u91cc\u7684\u793a\u4f8b\u4ee5\u767e\u95ee\u7f51\u76847\u5bf8\uff081024x600\uff09\u30014\u5bf8\u65b9\u5c4f\uff08480x480\uff09\u30014\u5bf8\u5706\u5c4fRGB\uff08480x480\uff09 LCD\u4e3a\u4f8b\u3002",source:"@site/docs/demo/part1/chapter15.md",sourceDirName:"demo/part1",slug:"/demo/part1/chapter15",permalink:"/en/demo/part1/chapter15",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/R128-Docs/tree/main/docs/demo/part1/chapter15.md",tags:[],version:"current",frontMatter:{},sidebar:"classparttwoSidebar",previous:{title:"SPI \u4e0e DBI \u6027\u80fd\u5bf9\u6bd4",permalink:"/en/demo/part1/chapter14"},next:{title:"SPI \u9a71\u52a8 TFT LCD \u5c4f",permalink:"/en/demo/part1/chapter16"}},i={},_=[{value:"\u9009\u62e9\u65b9\u6848",id:"\u9009\u62e9\u65b9\u6848",level:2},{value:"\u914d\u7f6emenuconfig",id:"\u914d\u7f6emenuconfig",level:2},{value:"\u663e\u793a",id:"\u663e\u793a",level:2},{value:"sys_config.fex\u914d\u7f6e",id:"sys_configfex\u914d\u7f6e",level:3},{value:"LVGL\u914d\u7f6e",id:"lvgl\u914d\u7f6e",level:3},{value:"\u89e6\u6478",id:"\u89e6\u6478",level:2},{value:"\u914d\u7f6emenuconfig",id:"\u914d\u7f6emenuconfig-1",level:2},{value:"sys_config.fex\u914d\u7f6e",id:"sys_configfex\u914d\u7f6e-1",level:3},{value:"LVGL\u914d\u7f6e",id:"lvgl\u914d\u7f6e-1",level:3},{value:"\u7ed3\u679c",id:"\u7ed3\u679c",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"r128\u4f7f\u7528rgb-lcd",children:"R128\u4f7f\u7528RGB LCD"}),"\n",(0,d.jsx)(n.p,{children:"\u8fd9\u91cc\u7684\u793a\u4f8b\u4ee5\u767e\u95ee\u7f51\u76847\u5bf8\uff081024x600\uff09\u30014\u5bf8\u65b9\u5c4f\uff08480x480\uff09\u30014\u5bf8\u5706\u5c4fRGB\uff08480x480\uff09 LCD\u4e3a\u4f8b\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u786c\u4ef6\u5217\u8868\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5c4f\u5e55+\u9a71\u52a8\u677f\uff1a",(0,d.jsx)(n.a,{href:"https://item.taobao.com/item.htm?id=736154682975",children:"https://item.taobao.com/item.htm?id=736154682975"})]}),"\n",(0,d.jsxs)(n.li,{children:["DShanMCU-R128 RGBDevkit \u663e\u793a\u5f00\u53d1\u5b66\u4e60\u677f\uff1a",(0,d.jsx)(n.a,{href:"https://item.taobao.com/item.htm?id=736154682975",children:"https://item.taobao.com/item.htm?id=736154682975"})]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["R128\u9a71\u52a8\u4e0d\u540c\u5c3a\u5bf8RGB LCD\u7684\u6548\u679c\u6f14\u793a\uff1a",(0,d.jsx)(n.a,{href:"https://www.bilibili.com/video/BV1Pa4y1o7sF",children:"https://www.bilibili.com/video/BV1Pa4y1o7sF"})]}),"\n",(0,d.jsx)(n.h2,{id:"\u9009\u62e9\u65b9\u6848",children:"\u9009\u62e9\u65b9\u6848"}),"\n",(0,d.jsxs)(n.p,{children:["\u8fd9\u91cc\u5efa\u8bae\u7528\u767e\u95ee\u7f51\u63d0\u4f9b\u7684 ",(0,d.jsx)(n.a,{href:"https://gitee.com/weidongshan/100ask_r128_demos/tree/master/other/RGB_LCD",children:"r128-devkit-100ask-rgb"})," \u65b9\u6848\uff0c\u4ed3\u5e93\u5730\u5740:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Gitee\uff1a ",(0,d.jsx)(n.a,{href:"https://gitee.com/weidongshan/100ask_r128_demos/tree/master/other/RGB_LCD",children:"https://gitee.com/weidongshan/100ask_r128_demos/tree/master/other/RGB_LCD"})]}),"\n",(0,d.jsxs)(n.li,{children:["GitHub\uff1a",(0,d.jsx)(n.a,{href:"https://github.com/100askTeam/100ask_r128_demos/tree/master/other/RGB_LCD",children:"https://github.com/100askTeam/100ask_r128_demos/tree/master/other/RGB_LCD"})]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["\u65b9\u6848\u4f7f\u7528\u65b9\u6cd5\uff0c\u8bf7",(0,d.jsx)(n.a,{href:"https://aw-r128.100ask.net/zh/rtos/demo/part2/chapter1.html",children:"\u70b9\u51fb\u8fd9\u91cc"}),"\u67e5\u770b\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"\u521d\u59cb\u5316\u73af\u5883\u53d8\u91cf\uff0c\u9009\u62e9\u65b9\u6848(r128s2_devkit_100ask_rgb_c906\u4e0er128s2_devkit_100ask_rgb_m33)\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"100ask@100ask:~/R128-FreeRTOS/SDK$ source envsetup.sh \nSetup env done!\nRun lunch_rtos to select project\n100ask@100ask:~/R128-FreeRTOS/SDK$ lunch_rtos\nlast=r128s2_devkit_c906\n\nYou're building on Linux\n\nLunch menu... pick a combo:\n     1. r128s2_devkit_100ask_rgb_c906\n     2. r128s2_devkit_100ask_rgb_m33\n     3. r128s2_devkit_c906\n     4. r128s2_devkit_m33\n     5. r128s2_devkit_rgb_c906\n     6. r128s2_devkit_rgb_m33\n     7. r128s2_evt_c906\n     8. r128s2_evt_m33\n\nWhich would you like? [Default r128s2_devkit_c906]: 1\nselect=1...\nr128s2/devkit_100ask_rgb_c906\n'/home/100ask/R128-FreeRTOS/SDK/lichee/rtos/projects/r128s2/devkit_100ask_rgb_c906/defconfig' -> '/home/100ask/R128-FreeRTOS/SDK/lichee/rtos/.config'\n============================================\nRTOS_BUILD_TOP=/home/100ask/R128-FreeRTOS/SDK\nRTOS_TARGET_ARCH=riscv\nRTOS_TARGET_CHIP=sun20iw2p1\nRTOS_TARGET_DEVICE=r128s2\nRTOS_PROJECT_NAME=r128s2_devkit_100ask_rgb_c906\n============================================\nRun mrtos_menuconfig to config rtos\nRun m or mrtos to build rtos\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u914d\u7f6emenuconfig",children:"\u914d\u7f6emenuconfig"}),"\n",(0,d.jsx)(n.p,{children:"menuconfig\u5177\u4f53\u914d\u7f6e\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"\n# 1.\u6253\u5f00\u4e0b\u9762\u7684 Drivers\nDrivers Options  ---\x3e\n    soc related device drivers  ---\x3e\n        PWM devices ---\x3e\n            [*] enable pwm driver\n            [ ]   enable pwm hal APIs test command\n        TWI Devices  ---\x3e\n            -*- enable twi driver\n            [ ]   enable twi hal APIs test command\n        Video support for sunxi  ---\x3e\n        \t[*] DISP Driver Support(sunxi-disp2)\n            ......\n\n\n# 2. \u6253\u5f00LVGL\u76f8\u5173\u914d\u7f6e\nSystem components  ---\x3e\n    thirdparty components  ---\x3e\n        [*] Littlevgl-8  ---\x3e\n            --- Littlevgl-8\n            [*]   lvgl examples\n            [ ]   lvgl g2d test\n            [*]   lvgl-8.1.0 use sunxifb double buffer\n            [*]   lvgl-8.1.0 use sunxifb cache\n            [ ]   lvgl-8.1.0 use sunxifb g2d\n            [ ]   lvgl-8.1.0 use sunxifb g2d rotate\n            [ ]   lvgl-8.1.0 use freetype\n            [ ]   lvgl-8.1.0 use direct mode\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u663e\u793a",children:"\u663e\u793a"}),"\n",(0,d.jsx)(n.h3,{id:"sys_configfex\u914d\u7f6e",children:"sys_config.fex\u914d\u7f6e"}),"\n",(0,d.jsxs)(n.p,{children:["\u4fee\u6539\u6587\u4ef6\uff1a",(0,d.jsx)(n.code,{children:"R128-FreeRTOS/board/r128s2/devkit_rgb/configs/sys_config.fex"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:'[lcd0]\nlcd_used            = 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;;;;; 7\u5bf8\u5c4f\uff081024x600\uff09\nlcd_driver_name     = "default_lcd"\nlcd_backlight       = 150\nlcd_if              = 0\nlcd_x               = 1024\nlcd_y               = 600\nlcd_width           = 150\nlcd_height          = 94\nlcd_rb_swap         = 0\nlcd_dclk_freq       = 48\nlcd_pwm_used        = 1\nlcd_pwm_ch          = 7\nlcd_pwm_freq        = 500000\nlcd_pwm_pol         = 1\nlcd_hbp             = 150\nlcd_ht              = 1344\nlcd_hspw            = 20\nlcd_vbp             = 20\nlcd_vt              = 635\nlcd_vspw            = 3\nlcd_lvds_if         = 0\nlcd_lvds_colordepth = 1\nlcd_lvds_mode       = 0\nlcd_frm             = 0\nlcd_io_phase        = 0x0000\nlcd_gamma_en        = 0\nlcd_bright_curve_en = 0\nlcd_cmap_en         = 0\n;;;;;; 4\u5bf8\u65b9\u5c4f\uff08480x480\uff09\n;lcd_driver_name     = "default_lcd"\n;lcd_backlight       = 150\n;lcd_if              = 0\n;lcd_x               = 480\n;lcd_y               = 480\n;lcd_width           = 70\n;lcd_height          = 70\n;lcd_rb_swap         = 1\n;lcd_dclk_freq       = 9\n;lcd_pwm_used        = 1\n;lcd_pwm_ch          = 7\n;lcd_pwm_freq        = 500000\n;lcd_pwm_pol         = 1\n;lcd_hbp             = 20\n;lcd_ht              = 526\n;lcd_hspw            = 6\n;lcd_vbp             = 10\n;lcd_vt              = 510\n;lcd_vspw            = 4\n;lcd_lvds_if         = 0\n;lcd_lvds_colordepth = 1\n;lcd_lvds_mode       = 0\n;lcd_frm             = 1\n;lcd_io_phase        = 0x0000\n;lcd_gamma_en        = 0\n;lcd_bright_curve_en = 0\n;lcd_cmap_en         = 0\n;;;;;; 4\u5bf8\u5706\u5c4fRGB\uff08480*480\uff09\n;lcd_driver_name     = "default_lcd"\n;lcd_backlight       = 200\n;lcd_if              = 0\n;lcd_x               = 480\n;lcd_y               = 480\n;lcd_width           = 70\n;lcd_height          = 70\n;lcd_rb_swap         = 1\n;lcd_dclk_freq       = 9\n;lcd_pwm_used        = 1\n;lcd_pwm_ch          = 7\n;lcd_pwm_freq        = 2000\n;lcd_pwm_pol         = 1\n;lcd_hbp             = 20\n;lcd_ht              = 526\n;lcd_hspw            = 6\n;lcd_vbp             = 10\n;lcd_vt              = 510\n;lcd_vspw            = 4\n;lcd_lvds_if         = 0\n;lcd_lvds_colordepth = 1\n;lcd_lvds_mode       = 0\n;lcd_frm             = 1\n;lcd_io_phase        = 0x0000\n;lcd_gamma_en        = 0\n;lcd_bright_curve_en = 0\n;lcd_cmap_en         = 0\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ndeu_mode            = 0\nlcdgamma4iep        = 0\nsmart_color         = 0\n\n;LCD_D2-LCD_D7\nlcd_gpio_0               = port:PA00<8><0><3><0>\nlcd_gpio_1               = port:PA01<8><0><3><0>\nlcd_gpio_2               = port:PA02<8><0><3><0>\nlcd_gpio_3               = port:PA03<8><0><3><0>\nlcd_gpio_4               = port:PA04<8><0><3><0>\nlcd_gpio_5               = port:PA05<8><0><3><0>\n\n;LCD_D10-LCD_D15\nlcd_gpio_6               = port:PA11<8><0><3><0>\nlcd_gpio_7               = port:PA10<8><0><3><0>\nlcd_gpio_8               = port:PA08<8><0><3><0>\nlcd_gpio_9               = port:PA07<8><0><3><0>\nlcd_gpio_10              = port:PA06<8><0><3><0>\nlcd_gpio_11              = port:PA09<8><0><3><0>\n\n;LCD_D18-LCD_D23\nlcd_gpio_12              = port:PA12<8><0><3><0>\nlcd_gpio_13              = port:PA13<8><0><3><0>\nlcd_gpio_14              = port:PA14<8><0><3><0>\nlcd_gpio_15              = port:PA15<8><0><3><0>\nlcd_gpio_16              = port:PB03<8><0><3><0>\nlcd_gpio_17              = port:PB02<8><0><3><0>\n\n;LCD_VSYNC, LCD_HSYNC, LCD_DCLK, LCD_DE\nlcd_gpio_18              = port:PA18<8><0><3><0>\nlcd_gpio_19              = port:PA19<8><0><3><0>\nlcd_gpio_20              = port:PA20<8><0><3><0>\nlcd_gpio_21              = port:PA21<8><0><3><0>\n\n'})}),"\n",(0,d.jsx)(n.h3,{id:"lvgl\u914d\u7f6e",children:"LVGL\u914d\u7f6e"}),"\n",(0,d.jsxs)(n.p,{children:["\u4fee\u6539\u6587\u4ef6\uff1a",(0,d.jsx)(n.code,{children:"SDK/lichee/rtos-components/thirdparty/littlevgl-8/lv_examples/src/lv_conf.h"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-c",children:"/*Color depth: 1 (1 byte per pixel), 8 (RGB332), 16 (RGB565), 32 (ARGB8888)*/\n#define LV_COLOR_DEPTH 32  /*\u8fd9\u91cc\u53ef\u4ee5\u6539\u4e3a16\uff0c\u56e0\u4e3ade\u4f1a\u81ea\u52a8\u8f6c\u6362\u523032\u4f4d\uff0c\u6700\u7ec8\u663e\u793a\u8fd8\u662f32\u4f4d\u8272\u6df1*/\n\n/*Swap the 2 bytes of RGB565 color. Useful if the display has an 8-bit interface (e.g. SPI)*/\n#define LV_COLOR_16_SWAP 0\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u89e6\u6478",children:"\u89e6\u6478"}),"\n",(0,d.jsx)(n.h2,{id:"\u914d\u7f6emenuconfig-1",children:"\u914d\u7f6emenuconfig"}),"\n",(0,d.jsx)(n.p,{children:"menuconfig\u5177\u4f53\u914d\u7f6e\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"Drivers Options  ---\x3e\n    other drivers  ---\x3e\n        [*] input driver  ---\x3e\n        \t[*]   keyboard driver  ---\x3e\n        \t[*]   touchscreen driver  ---\x3e\n        \t\t[ ]   enable tlsc6x touchscreen driver\n        \t\t[*]   enable gt911 touchscreen driver\n        \t\t[ ]   enable cst226se touchscreen driver\n        \t\t[ ]   enable touchscreen drivers APIs test command\n    soc related device drivers  ---\x3e\n        EFUSE Devices  ---\x3e\n            [*] enable efuse driver\n            [ ]   enable efuse hal APIs test command\n\n"})}),"\n",(0,d.jsx)(n.h3,{id:"sys_configfex\u914d\u7f6e-1",children:"sys_config.fex\u914d\u7f6e"}),"\n",(0,d.jsxs)(n.p,{children:["\u4fee\u6539\u6587\u4ef6\uff1a",(0,d.jsx)(n.code,{children:"R128-FreeRTOS/board/r128s2/devkit_rgb/configs/sys_config.fex"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"[touchscreen]\ntp_used                = 1\ntp_int                 = port:PA24<1><0><default><default>\ntp_reset               = port:PA25<1><0><default><default>\ntp_revert_mode         = 0\ntp_exchange_flag       = 0\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;;;;; 7\u5bf8\u5c4f\uff081024x600\uff09 GT911\ntp_max_x               = 1024\ntp_max_y               = 600\ntp_addr                = 0x14\n;;;;;; 4\u5bf8\u65b9\u5c4f\uff08480x480\uff09 GT911\n;tp_max_x               = 480\n;tp_max_y               = 480\n;tp_addr                = 0x14\n;;;;;; 4\u5bf8\u5706\u5c4fRGB\uff08480*480\uff09\n;\u5f85\u7eed...\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ntp_twi_id              = 1\n\n"})}),"\n",(0,d.jsx)(n.h3,{id:"lvgl\u914d\u7f6e-1",children:"LVGL\u914d\u7f6e"}),"\n",(0,d.jsxs)(n.p,{children:["\u4fee\u6539\u6587\u4ef6\uff1a",(0,d.jsx)(n.code,{children:"SDK/lichee/rtos-components/thirdparty/littlevgl-8/lv_examples/src/lv_drv_conf.h"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-c",children:"/*-------------------------------------------------\n * Mouse or touchpad as evdev interface (for Linux based systems)\n *------------------------------------------------*/\n#ifndef USE_EVDEV\n#  define USE_EVDEV           1\n#endif\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u7ed3\u679c",children:"\u7ed3\u679c"}),"\n",(0,d.jsx)(n.p,{children:"\u4ee5\u4e0a\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u7f16\u8bd1\u6253\u5305\u70e7\u5f55\uff0c\u4e0a\u7535\u540e\u5c4f\u5e55\u80cc\u5149\u4eae\u8d77\uff0c\u5c4f\u5e55\u4e3a\u9ed1\u8272\u3002"}),"\n",(0,d.jsxs)(n.p,{children:["\u5e76\u4e14\u53ef\u4ee5\u5728 LOG \u4e2d\u770b\u5230 ",(0,d.jsx)(n.code,{children:"[LCD_FB] lcd_fb_probe,line:103:"})," \u548c ",(0,d.jsx)(n.code,{children:"spi_clk_init()1609 [spi1] clk rate auto adjust to 48000000"})," SPI \u521d\u59cb\u5316\u7684 LOG\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"disp:[disp_device_attached_and_enable 230]attached ok, mgr0<--\x3edev0\ndisp:[disp_device_attached_and_enable 243]type:1,mode:0,fmt:rgb,bits:8bits,eotf:4,cs:0 dvi_hdmi:2, range:2 scan:0 ratio:8\n[gt911][log] PRODUCT_ID=39:31:31:00:60:10\n[gt911][log] verison=00 range_x=0 range_y=0 point_num=0\n[gt911][log] PRODUCT_ID=39:31:31:00:60:10\n[gt911][log] verison=42 range_x=480 range_y=480 point_num=5\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u901a\u8fc7\u6267\u884c ",(0,d.jsx)(n.strong,{children:"lv_examples"})," \u547d\u4ee4\u8fd0\u884cLVGL\u6d4b\u8bd5demo\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"lv_examples"})," \u4ee3\u7801\u4f4d\u4e8e\uff1a ",(0,d.jsx)(n.code,{children:"SDK/lichee/rtos-components/thirdparty/littlevgl-8/lv_examples/src/lv_main.c"})]})]})}function a(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},1151:(e,n,l)=>{l.d(n,{Z:()=>r,a:()=>t});var d=l(7294);const c={},s=d.createContext(c);function t(e){const n=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),d.createElement(s.Provider,{value:n},e.children)}}}]);