<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developer-guide/part1/chapter10" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Wi-Fi - Wi-Fi Manager | aw-r128</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aw-r128.100ask.net/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aw-r128.100ask.net/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aw-r128.100ask.net/en/developer-guide/part1/chapter10"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Wi-Fi - Wi-Fi Manager | aw-r128"><meta data-rh="true" name="description" content="Wi-Fi 简介"><meta data-rh="true" property="og:description" content="Wi-Fi 简介"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aw-r128.100ask.net/en/developer-guide/part1/chapter10"><link data-rh="true" rel="alternate" href="https://aw-r128.100ask.net/developer-guide/part1/chapter10" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://aw-r128.100ask.net/en/developer-guide/part1/chapter10" hreflang="en"><link data-rh="true" rel="alternate" href="https://aw-r128.100ask.net/developer-guide/part1/chapter10" hreflang="x-default"><link rel="stylesheet" href="/en/assets/css/styles.e3ab61ce.css">
<script src="/en/assets/js/runtime~main.a0edf238.js" defer="defer"></script>
<script src="/en/assets/js/main.d365530c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.svg" alt="aw-r128" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/en/img/logo.svg" alt="aw-r128" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">全志R128</b></a><a class="navbar__item navbar__link" href="/en/category/视频教程">基础入门</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/category/基础组件开发指南">开发指南</a><a class="navbar__item navbar__link" href="/en/category/应用开发案例">开发案例</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/developer-guide/part1/chapter10" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li><li><a href="/en/developer-guide/part1/chapter10" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://github.com/100askTeam/R128-Docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/category/基础组件开发指南">基础组件开发指南</a><button aria-label="Collapse sidebar category &#x27;基础组件开发指南&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter1">RTOS 多媒体解码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/developer-guide/part1/chapter10">Wi-Fi - Wi-Fi Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter11">RTOS 异构多核通信</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter12">RTOS 存储简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter2">RTOS 多媒体编码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter3">音频框架</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter4">显示与屏幕驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter5">SPI LCD 显示驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter6">GUI 图形系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter7">图像采集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter8">RTOS 安全</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/developer-guide/part1/chapter9">RTOS 蓝牙</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/sdk-hal-模块开发指南">SDK HAL 模块开发指南</a><button aria-label="Expand sidebar category &#x27;SDK HAL 模块开发指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/dsp开发指南">DSP开发指南</a><button aria-label="Expand sidebar category &#x27;DSP开发指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/调试指南">调试指南</a><button aria-label="Expand sidebar category &#x27;调试指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/category/基础组件开发指南"><span itemprop="name">基础组件开发指南</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Wi-Fi - Wi-Fi Manager</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Wi-Fi - Wi-Fi Manager</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-简介">Wi-Fi 简介<a href="#wi-fi-简介" class="hash-link" aria-label="Direct link to Wi-Fi 简介" title="Direct link to Wi-Fi 简介">​</a></h2>
<p>FreeRTOS 上的网络，驱动部分源码没有开源，用户实际使用时也无需关系具体实现，更多的是做网络管理的逻辑接口开发，所以我们提供了网络中间件 <code>Wi-Fi Manager</code>，<code>Wi-Fi Manager</code> 支持<code>sta</code>, <code>ap</code>, <code>monitor</code> 等多种网络工作模式的管理，本文档重点介绍 <code>Wi-Fi Manager</code> 中间件的使用，配置，框架，接口。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wifi-工作的几种模式">Wi‑Fi 工作的几种模式<a href="#wifi-工作的几种模式" class="hash-link" aria-label="Direct link to Wi‑Fi 工作的几种模式" title="Direct link to Wi‑Fi 工作的几种模式">​</a></h3>
<p>目前R128 平台上的Wi‑Fi 一般可处于3 种工作模式，分别是STATION，AP，MONITOR。</p>
<ul>
<li>STATION：连接无线网络的终端，大部分无线网卡默认都处于该模式，也是常用的一种模式。</li>
<li>AP：无线接入点，常称热点，比如路由器功能。</li>
<li>MONITOR：也  称为混杂设备监听模式，所有数据包无过滤传输到主机。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="代码路径">代码路径<a href="#代码路径" class="hash-link" aria-label="Direct link to 代码路径" title="Direct link to 代码路径">​</a></h3>
<p>FreeRTOS 中wlan 相关代码主要分布在四个地方：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1）驱动部分：lichee/rtos/drivers/drv/wireless/xradio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2）协议栈部分：lichee/rtos‑components/thirdparty/network/lwip‑2.1.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3）应用协议部分：lichee/rtos‑components/aw/network/service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4）中间件部分：lichee/rtos‑components/aw/wireless/Wi-Fi Manager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置介绍">配置介绍<a href="#配置介绍" class="hash-link" aria-label="Direct link to 配置介绍" title="Direct link to 配置介绍">​</a></h3>
<p>FreeRTOS 中 wlan 相关配置分为 c906 和 m33：</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="c906-配置">C906 配置<a href="#c906-配置" class="hash-link" aria-label="Direct link to C906 配置" title="Direct link to C906 配置">​</a></h4>
<ol>
<li>Wi-Fi Manager demo 配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; System components &gt; aw components &gt; wireless</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[*] wireless common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[*] Wi-Fi Manager‑v2.0 ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Wi-Fi Manager‑v2.0 Configuration ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] CONFIG_WMG_PROTOCOL_SOFTAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] CONFIG_WMG_PROTOCOL_BLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] CONFIG_WMG_PROTOCOL_XCONFIG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] CONFIG_WMG_PROTOCOL_SOUNDWAVE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Wi-Fi Manager support platform (FREERTOS PLATFORM OS) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (X) FREERTOS PLATFORM OS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [*] Wi-Fi Manager unregister callback function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [*] Wi-Fi Manager support send expand cmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Wi-Fi Manager support mode Configuration ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] Wi-Fi Manager support sta mode enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] Wi-Fi Manager support ap mode enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [ ] Wi-Fi Manager support monitor mode enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [ ] Wi-Fi Manager support p2p mode enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Wi-Fi Manager set default debug level (default debug level: to info) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    (X) default debug level: to info</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>driver 配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Drivers Options &gt; other drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] rfkill drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Drivers Options &gt; other drivers &gt; wireless devices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] XRADIO driver ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] Enable xradio test cmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Xradio chip (Enable r128 driver) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] Wi‑Fi Certification of WFA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] wlan station mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] wlan station mode with wps support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] wlan monitor mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] wlan ap mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select the source of frequency offset (SDD file) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] wlan ETF test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>应用协议配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; System components &gt; aw components &gt; aw network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] tcp ip adapter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] loop interface test demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] wifi test demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] wifi fast connect test demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] get mac_addr test demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] set/get country code optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] udhcpd demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] sntp demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [*] iperf demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [*] ping demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] nopoll demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] mqtt demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] shttpd demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] mbedtls demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] httpc demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] mini_wget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [ ] telnet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>AMP 网络配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; System components &gt; aw components &gt; AMP Components Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] AMP Network Stub Functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] AMP Network Service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>协议配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; System components &gt; thirdparty components &gt; network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑*‑ lwip ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lwip version (lwip‑2.1.2) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑*‑ udhcpd (DHCP Server)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑*‑ mbedtls ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mbedtls version (mbedtls‑2.16.0) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] httpclient</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] websocket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] nghttp2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] sntp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] nopoll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] shttpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] mqtt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="m33-配置">M33 配置<a href="#m33-配置" class="hash-link" aria-label="Direct link to M33 配置" title="Direct link to M33 配置">​</a></h4>
<ol>
<li>driver 配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Drivers Options &gt; other drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] rfkill drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; Drivers Options &gt; other drivers &gt; wireless devices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] XRADIO driver ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] Enable xradio test cmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Xradio chip (Enable r128 driver) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] Wi‑Fi Certification of WFA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] wlan station mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] wlan station mode with wps support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] wlan monitor mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] wlan ap mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        select the source of frequency offset (SDD file) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] wlan ETF test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>AMP 网络配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; System components &gt; aw components &gt; AMP Components Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] AMP Network Stub Functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] AMP Network Service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>协议配置</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; System components &gt; thirdparty components &gt; network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] lwip ‑‑‑‑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] udhcpd (DHCP Server)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑*‑ mbedtls ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mbedtls version (mbedtls‑2.16.0) ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] httpclient</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] nghttp2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] sntp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] nopoll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] shttpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] mqtt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-简介">Wi-Fi Manager 简介<a href="#wi-fi-manager-简介" class="hash-link" aria-label="Direct link to Wi-Fi Manager 简介" title="Direct link to Wi-Fi Manager 简介">​</a></h2>
<p>Wi-Fi Manager 用于wifi 的连接管理，通信以及wifi 的一些额外功能。支持sta、ap、monitor、p2p 模式，并且集成了配网模式以及其他功能。屏蔽了底层系统的具体实现，能对接各种差异化系统平台例如 linux，rtos，xrlink(linux 系统mcu 模组)。用户如果需要进行独自的2 次开发(把对应的wifi 功能集成到各自的应用里)，请重点查阅 Wi-Fi Manager 框架，Wi-Fi Manager 代码目录结构，核心层代码章节。用户如果不需要独自的2 次开发，可以直接使用 Wi-Fi Manager 提供的命令行demo，仅需查看Wi-Fi Manager demo 介绍章节。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-框架">Wi-Fi Manager 框架<a href="#wi-fi-manager-框架" class="hash-link" aria-label="Direct link to Wi-Fi Manager 框架" title="Direct link to Wi-Fi Manager 框架">​</a></h3>
<p><img loading="lazy" src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter10/image1.png" alt="" class="img_ev3q"></p>
<p>Wi-Fi Manager: 兼容linux，xrlink，freertos 等系统。支持sta，ap，monitor 和p2p 等模式，集成了softap，ble，xconfig，soundwave 等配网功能。提供了完善的api 接口方便用户调用，同时提供了一个基本完整功能的demo，方便用户直接使用和测试。上图是Wi-Fi Manager 的软件结构，整体分为3 部分：应用层，lib 层(接口抽象层，模式抽象层，os 抽象层)，os 具体实现层。</p>
<ul>
<li>应用层：主要提供一个基本完整功能的demo，方便用户直接使用，用户也可以不使用该 demo，直接调用lib 库提供的api 接口。把具体功能集成  到自己的应用。</li>
<li>lib 层：包含了接口层，模式抽象层，os 抽象层，对上提供统一的api 接口(wifimg.h)，处理各种模式的逻辑以及共存功能，对下屏蔽os 的具体模式功能。</li>
<li>具体 os 实现层：该层主要是不同系统对 wifi 功能的具体功能。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-代码目录结构">Wi-Fi Manager 代码目录结构<a href="#wi-fi-manager-代码目录结构" class="hash-link" aria-label="Direct link to Wi-Fi Manager 代码目录结构" title="Direct link to Wi-Fi Manager 代码目录结构">​</a></h3>
<p>wifimager 开发包在FreeRTOS SDK 里的路径如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rtos/lichee/rtos‑components/aw/wireless/Wi-Fi Manager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Wi-Fi Manager 的主要目录结构如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">├── app                   // 用于保存配网时使用的一些配网工具。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── core                  // 核心代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── include             // 存放核心代码相关头文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ │ └── wifimg.h          // 对上提供的api接口头文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ └── src                 // 核心代码具体实现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── linkd.c             // 配网抽象层代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wifimg.c            // 对上提供的api接口实现代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_common.c        // 模式切换共存逻辑处理层实现代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_sta.c           // sta模式抽象层代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_ap.c            // ap模式抽象层代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_monitor.c       // monitor模式抽象层代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_p2p.c           // p2p模式抽象层代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── expand_cmd.c        // 扩展命令(与模组或系统特殊功能有关，例如获取或设置mac地址，设置特殊模组的ioct等)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ └── os                  // 具体os(linux,xrlink,freertos)模式功能实现代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── demo                  // 比较完整功能的demo实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wifi.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ └── wifi_daemon.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── files                 // 相关的配置文件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>app 目录：存放用于配网测试的apk 安装包。</li>
<li>core 目录：存放Wi-Fi Manager 核心代码的目录，会编译出libwifimg‑v2.0 库</li>
<li>demo 目录：存放一个使用libwifimg‑v2.0 接口的demo，用户可以直接使用该demo，也可以 参考该demo 对libwifimg‑v2.0 库api 的使用方式，把功能集成到自己的应用中去。</li>
<li>files：存放相关的配置文件</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-核心代码">Wi-Fi Manager 核心代码<a href="#wi-fi-manager-核心代码" class="hash-link" aria-label="Direct link to Wi-Fi Manager 核心代码" title="Direct link to Wi-Fi Manager 核心代码">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-核心代码目录结构">Wi-Fi Manager 核心代码目录结构<a href="#wi-fi-manager-核心代码目录结构" class="hash-link" aria-label="Direct link to Wi-Fi Manager 核心代码目录结构" title="Direct link to Wi-Fi Manager 核心代码目录结构">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── linkd.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wifi_log.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wifimg.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_ap.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_common.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_monitor.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── wmg_p2p.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── expand_cmd.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ └── wmg_sta.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── linkd.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── linux      // (在非linux系统该目录不存在)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── xrlink     // (在非xrlink系统该目录不存在)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ └── freertos   // (在非freertos系统该目录不存在)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── wifimg.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── wmg_ap.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── wmg_common.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── wmg_monitor.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── wmg_p2p.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── expand_cmd.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── wmg_sta.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>include: 保存核心代码相关头文件目录</li>
<li>src : 保存核心代码源码文件目录</li>
<li>src/log：打印相关代码</li>
<li>src/wifimg.c : 用户接口对接口层文件（提供用户对接层API 接口文件，对接api 请查看 wifimg.h）</li>
<li>src/wmg_common.c：wifi 模式抽象层（各种模式的抽象层，处理切换和共存逻辑）</li>
<li>src/wmg_sta.c：station 模式抽象层</li>
<li>src/wmg_ap.c：ap 模式抽象层</li>
<li>src/wmg_monitor.c: monitor 模式抽象层。</li>
<li>src/expand_cmd.c：特殊额外功能抽象层。</li>
<li>src/os : 对应的系统模式实现层代码。</li>
<li>src/os/linux：linux 平台wifi 模式功能具体实现代码存放目录(在非linux 系统该目录不存在)</li>
<li>src/os/xrlink：xrlink 平台wifi 模式功能具体实现代码存放目录(在非xrlink 系统该目录不存在)</li>
<li>src/os/freertos：freertos 平台wifi 模式功能具体实现代码存放目录(在非freertos 系统该目录不存在)</li>
</ul>
<p>核心代码里各文件调用关系图如下：</p>
<p><img loading="lazy" src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter10/image2.png" alt="" class="img_ev3q"></p>
<ol>
<li>用户会调用wifimg.c 提供的接口函数</li>
<li>wifimg.c 的接口函数会调用到模式抽象层wmg_common.c 里的函数</li>
<li>wmg_common.c 里的函数会根据不同的模式调用到wmg_sta.c(sta 模式抽象层)，wmg_ap.c(ap 模式抽象层)wmg_monitor.c(monitor 模式抽象层)wmg_p2p.c(p2p 模式抽象层) 里的函数</li>
<li>wmg_sta.c(sta 模式抽象层) 会根据不同的平台调用到linux_sta.c(linux 平台具体实现文件)，xrlink_sta.c(xrlink 平台具体实现文件)，freertos_sta.c(rtos 平台具体实现文件)。</li>
<li>wmg_ap.c(ap 模式抽象层) 会根据不同的平台调用到freertos_ap.c(linux 平台具体实现文件)，xrlink_ap.c(xrlink 平台具体实现文件)，freertos_ap.c(rtos 平台具体实现文件)。</li>
<li>wmg_monitor.c(monitor 模式抽象层) 会根据不同的平台调用到linux_monitor.c(linux 平台具体实现文件)，xrlink_monitor.c(xrlink 平台具体实现文件)，freertos_monitor.c(rtos 平台具体实现文件)。</li>
<li>wmg_p2p.c(p2p 模式抽象层) 会根据不同的平台调用到linux_p2p.c(linux 平台具体实现文件)。</li>
<li>自定义扩展(expand_cmd.c) 与系统或模组特殊功能有关，例如设置或获取mac 地址，特殊ioct等功能。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-核心代码关键结构体说明">Wi-Fi Manager 核心代码关键结构体说明<a href="#wi-fi-manager-核心代码关键结构体说明" class="hash-link" aria-label="Direct link to Wi-Fi Manager 核心代码关键结构体说明" title="Direct link to Wi-Fi Manager 核心代码关键结构体说明">​</a></h2>
<p>该章节主要用于描述核心代码中使用到的一些关键的结构体。不需要单独阅读该章节，该章节属于查询性质，当在其他章节中查看到需要查询的结构体时再查询该章节即可。该章节的关键结构体都在 <code>Wi-Fi Manager/core/include/wifimg.h</code> 文件里定义。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-的错误码">定义Wi-Fi Manager 的错误码<a href="#定义wi-fi-manager-的错误码" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager 的错误码" title="Direct link to 定义Wi-Fi Manager 的错误码">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager 各函数执行后的返回码</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_SUCCESS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_FAIL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_NOT_READY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_NOMEM </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_BUSY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_UNSUPPORTED </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_INVALID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_TIMEOUT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WMG_STATUS_UNHANDLED </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ‑</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wmg_status_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WMG_STATUS_SUCCESS：函数执行成功</li>
<li>WMG_STATUS_FAIL：函数执行失败</li>
<li>WMG_STATUS_NOT_READY：函数没有准备好</li>
<li>WMG_STATUS_NOMEM：函数无法申请到需要的内存</li>
<li>WMG_STATUS_BUSY：函数处于忙状态</li>
<li>WMG_STATUS_UNSUPPORTED：函数不支持该功能</li>
<li>WMG_STATUS_INVALID：函数收到无效数据</li>
<li>WMG_STATUS_TIMEOUT：函数执行超时</li>
<li>WMG_STATUS_UNHANDLED：函数不处理该次调用</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-支持的模式">定义Wi-Fi Manager 支持的模式<a href="#定义wi-fi-manager-支持的模式" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager 支持的模式" title="Direct link to 定义Wi-Fi Manager 支持的模式">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager 的模式</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MODE_UNKNOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">b0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STATION </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">b10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MONITOR </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">b100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">b1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_mode_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_STATION：station 模式</li>
<li>WIFI_AP：ap 模式</li>
<li>WIFI_MONITOR：monitor 模式</li>
<li>WIFI_P2P：p2p 模式</li>
<li>WIFI_MODE_UNKNOWN：未定义模式</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-网络接口状态">定义Wi-Fi Manager 网络接口状态<a href="#定义wi-fi-manager-网络接口状态" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager 网络接口状态" title="Direct link to 定义Wi-Fi Manager 网络接口状态">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager 对网卡设备状态的识别</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WLAN_STATUS_DOWN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WLAN_STATUS_UP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_dev_status_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WLAN_STATUS_DOWN：网卡设备关闭</li>
<li>WLAN_STATUS_UP：网卡设备启动</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-收到的消息类型">定义Wi-Fi Manager 收到的消息类型<a href="#定义wi-fi-manager-收到的消息类型" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager 收到的消息类型" title="Direct link to 定义Wi-Fi Manager 收到的消息类型">​</a></h3>
<p>结构体描述：该结构体主要用于定  义Wi-Fi Manager 收到的回调消息的类型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_DEV_STATUS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_STA_CN_EVENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_STA_STATE_CHANGE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_AP_CN_EVENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_P2P_CN_EVENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_P2P_STATE_CHANGE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_MONITOR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MSG_ID_MAX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_msg_id_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_MSG_ID_DEV_STATUS：设备状态发生了改变的消息</li>
<li>WIFI_MSG_ID_STA_CN_EVENT：sta 模式在连接过程中事件发生改变的消息</li>
<li>WIFI_MSG_ID_STA_STATE_CHANGE：sta 模式状态发生改变的消息</li>
<li>WIFI_MSG_ID_AP_CN_EVENT：ap 模式在连接过程中事件发生改变的消息</li>
<li>WIFI_MSG_ID_P2P_CN_EVENT：p2p 模式在连接过程中事件发生改变的消息</li>
<li>WIFI_MSG_ID_P2P_STATE_CHANGE：p2p 模式状态发生改变的消息</li>
<li>WIFI_MSG_ID_MONITOR：monitor 模式的消息</li>
<li>WIFI_MSG_ID_MAX：无意义消息类型，界限结构体用</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-的加密方式">定义Wi-Fi Manager 的加密方式<a href="#定义wi-fi-manager-的加密方式" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager 的加密方式" title="Direct link to 定义Wi-Fi Manager 的加密方式">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager 的加密方式</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SEC_NONE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SEC_WEP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SEC_WPA_PSK</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SEC_WPA2_PSK</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SEC_WPA3_PSK</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_secure_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_SEC_NONE：没有加密</li>
<li>WIFI_SEC_WEP：wep 加密方式</li>
<li>WIFI_SEC_WPA_PSK：wpa 加密方式</li>
<li>WIFI_SEC_WPA2_PSK：wpa2 加密方式</li>
<li>WIFI_SEC_WPA3_PSK：wpa3 加密方式</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-station-模式的状态">定义Wi-Fi Manager station 模式的状态<a href="#定义wi-fi-manager-station-模式的状态" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager station 模式的状态" title="Direct link to 定义Wi-Fi Manager station 模式的状态">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager 的station 模式状态</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_IDLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_CONNECTING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_CONNECTED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_OBTAINING_IP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_NET_CONNECTED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_DHCP_TIMEOUT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_DISCONNECTING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_STA_DISCONNECTED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_sta_state_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_STA_IDLE：station 模式处于空闲状态</li>
<li>WIFI_STA_CONNECTING：station 模式处于正在连接ap 状态</li>
<li>WIFI_STA_CONNECTED：station 模式处于已连接上ap 状态</li>
<li>WIFI_STA_OBTAINING_IP：station 模式处于正在获取IP 状态</li>
<li>WIFI_STA_NET_CONNECTED：station 模式处于网络连接已完成状态</li>
<li>WIFI_STA_DHCP_TIMEOUT：station 模式处于DHCP 超时状态</li>
<li>WIFI_STA_DISCONNECTING：station 模式处于正在取消连接状态</li>
<li>WIFI_STA_DISCONNECTED：station 模式处于已取消连接状态</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-station-模式在连接过程中的事件">定义Wi-Fi Manager station 模式在连接过程中的事件<a href="#定义wi-fi-manager-station-模式在连接过程中的事件" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager station 模式在连接过程中的事件" title="Direct link to 定义Wi-Fi Manager station 模式在连接过程中的事件">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager 的station 模式在连接ap 过程中的事件</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">typedef enum {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_DISCONNECTED,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SCAN_STARTED,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SCAN_FAILED,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_SCAN_RESULTS,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_NETWORK_NOT_FOUND,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_PASSWORD_INCORRECT,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AUTHENTIACATION,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AUTH_REJECT,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_ASSOCIATING,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_ASSOC_REJECT,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_ASSOCIATED,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_4WAY_HANDSHAKE,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_GROUNP_HANDSHAKE,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_GROUNP_HANDSHAKE_DONE,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_CONNECTED,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_CONNECT_TIMEOUT,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_DEAUTH,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_DHCP_START,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_DHCP_TIMEOUT,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_DHCP_SUCCESS,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_TERMINATING,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_UNKNOWN,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} wifi_sta_event_t;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_DISCONNECTED：已取消连接</li>
<li>WIFI_SCAN_STARTED：扫描开始</li>
<li>WIFI_SCAN_FAILED：扫描失败</li>
<li>WIFI_SCAN_RESULTS：获取到扫描结果</li>
<li>WIFI_NETWORK_NOT_FOUND：没有找到对应的network</li>
<li>WIFI_PASSWORD_INCORRECT：密码不正确</li>
<li>WIFI_AUTHENTIACATION：认证</li>
<li>WIFI_AUTH_REJECT：认证被拒绝</li>
<li>WIFI_ASSOCIATING：关联</li>
<li>WIFI_ASSOC_REJECT：关联被拒绝</li>
<li>WIFI_ASSOCIATED：关联完成</li>
<li>WIFI_4WAY_HANDSHAKE：4 次握手</li>
<li>WIFI_GROUNP_HANDSHAKE：交换组密钥</li>
<li>WIFI_GROUNP_HANDSHAKE_DONE：交换组密钥完成</li>
<li>WIFI_CONNECTED：连接完成</li>
<li>WIFI_CONNECT_TIMEOUT：连接超时</li>
<li>WIFI_DEAUTH：取消认证</li>
<li>WIFI_DHCP_START：DHCP 开始</li>
<li>WIFI_DHCP_TIMEOUT：DHCP 超时</li>
<li>WIFI_DHCP_SUCCESS：DHCP 成功</li>
<li>WIFI_TERMINATING：终止</li>
<li>WIFI_UNKNOWN：未知</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义-wi-fi-manager-station-模式的一些信息">定义 Wi-Fi Manager station 模式的一些信息<a href="#定义-wi-fi-manager-station-模式的一些信息" class="hash-link" aria-label="Direct link to 定义 Wi-Fi Manager station 模式的一些信息" title="Direct link to 定义 Wi-Fi Manager station 模式的一些信息">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager 的station 模式的一些信息</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">typedef struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int freq;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int rssi;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint8_t bssid[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char ssid[SSID_MAX_LEN + 1];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint8_t mac_addr[6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint8_t ip_addr[4];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint8_t gw_addr[4];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wifi_secure_t sec;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} wifi_sta_info_t;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>id：wpa_supplicant 里保存的network id 号</li>
<li>freq：频率(指的是信道频率，2412 = channel 1)</li>
<li>rssi：信号强度</li>
<li>bssid[6]：连接的ap 的bssid</li>
<li>ssid[SSID_MAX_LEN]：连接的ap 的ssid</li>
<li>mac_addr[6]：本地mac 地址</li>
<li>ip_addr[4]：本地ip 地址</li>
<li>gw_addr[4]：网关地址</li>
<li>sec：加密方式</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-station-模式保存的ap-信息">定义Wi-Fi Manager station 模式保存的ap 信息<a href="#定义wi-fi-manager-station-模式保存的ap-信息" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager station 模式保存的ap 信息" title="Direct link to 定义Wi-Fi Manager station 模式保存的ap 信息">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager station 模式时曾经连接过的一条ap 信息</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> ssid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SSID_MAX_LEN </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> bssid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> flags</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_sta_list_nod_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>id：wpa_supplicant 里保存的network id 号，某些系统不会使用到，用户可以不用关心</li>
<li>ssid[SSID_MAX_LEN]：连接过的ap 的ssid</li>
<li>bssid[BSSID_MAX_LEN]：连接过的ap 的bssid</li>
<li>flags[16]：一些状态码，用户可以不用关心</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-station-模式时要进行连接的ap-的配置信息">定义Wi-Fi Manager station 模式时要进行连接的ap 的配置信息<a href="#定义wi-fi-manager-station-模式时要进行连接的ap-的配置信息" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager station 模式时要进行连接的ap 的配置信息" title="Direct link to 定义Wi-Fi Manager station 模式时要进行连接的ap 的配置信息">​</a></h3>
<p>结构体描述：该结构体主要用于描述Wi-Fi Manager station 模式时要连接过的ap 的配置信息，在连接某个特定ap 时，用户需要填充这个结构体。</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> ssid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">wifi_secure_t</span><span class="token plain"> sec</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool fast_connect</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_sta_cn_para_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>ssid：要连接的ap 的ssid</li>
<li>password：要连接的ap 的password</li>
<li>sec：要连接的ap 的加密方式</li>
<li>fast_connect：该参数暂时没有作用，扩展用，用户可以不用关心</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-station-模式时扫描到的一条-ap-结果">定义Wi-Fi Manager station 模式时扫描到的一条 ap 结果<a href="#定义wi-fi-manager-station-模式时扫描到的一条-ap-结果" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager station 模式时扫描到的一条 ap 结果" title="Direct link to 定义Wi-Fi Manager station 模式时扫描到的一条 ap 结果">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager station 模式时扫描到的一条ap 结果包含什么内容</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> bssid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> ssid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SSID_MAX_LEN </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> freq</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> rssi</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">wifi_secure_t</span><span class="token plain"> key_mgmt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_scan_result_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>bssid：扫描到的ap 的bssid</li>
<li>ssid：扫描到的ap 的ssid</li>
<li>freq：扫描到的ap 的频率(指的是信道频率，2412 = channel 1)</li>
<li>rssi：扫描到的ap 的信号强度</li>
<li>key_mgmt：扫描到的ap 的加密方式</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-ap-模式的状态">定义Wi-Fi Manager ap 模式的状态<a href="#定义wi-fi-manager-ap-模式的状态" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager ap 模式的状态" title="Direct link to 定义Wi-Fi Manager ap 模式的状态">​</a></h3>
<p>结构体描述：该结构体主要用于描述Wi-Fi Manager ap 模式时的状态</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP_DISABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP_ENABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_ap_state_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_AP_DISABLE：ap 模式处于非使能状态</li>
<li>WIFI_AP_ENABLE：ap 模式处于使能状 态</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-ap-模式时的事件">定义Wi-Fi Manager ap 模式时的事件<a href="#定义wi-fi-manager-ap-模式时的事件" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager ap 模式时的事件" title="Direct link to 定义Wi-Fi Manager ap 模式时的事件">​</a></h3>
<p>结构体描述：该结构体主要用于描述Wi-Fi Manager ap 模式时的状态</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP_ENABLED </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP_DISABLED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP_STA_DISCONNECTED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP_STA_CONNECTED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_AP_UNKNOWN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_ap_event_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_AP_ENABLED：ap 模式已使能</li>
<li>WIFI_AP_DISABLED：ap 模式未使能</li>
<li>WIFI_AP_STA_DISCONNECTED：ap 模式触发了有sta 取消连接事件</li>
<li>WIFI_AP_STA_CONNECTED：ap 模式触发了有sta 进行连接事件</li>
<li>WIFI_AP_UNKNOWN：ap 模式下未定义事件</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-ap-模式时开启的ap-热点的配置信息">定义Wi-Fi Manager ap 模式时开启的ap 热点的配置信息<a href="#定义wi-fi-manager-ap-模式时开启的ap-热点的配置信息" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager ap 模式时开启的ap 热点的配置信息" title="Direct link to 定义Wi-Fi Manager ap 模式时开启的ap 热点的配置信息">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager ap 模式时 开启的ap 热点的配置信息</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ssid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">psk</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">wifi_secure_t</span><span class="token plain"> sec</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> channel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> key_mgmt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> mac_addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> ip_addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> gw_addr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">dev_list</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">STA_MAX_NUM</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> sta_num</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_ap_config_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>ssid：要开启的ap 热点的ssid</li>
<li>psk：要开启的ap 热点的密码</li>
<li>sec：要开启的ap 热点的加密方式</li>
<li>channel：要开启的ap 热点的信道</li>
<li>key_mgmt：加密类型</li>
<li>mac_addr：开启的ap 地址(信息获取非设置)</li>
<li>ip_addr：开启的ap 的ip 地址(信息获取非设置)</li>
<li>gw_addr：开启的ap 的网关(信息获取非设置)</li>
<li>dev_list：连接到ap 热点的sta 设备(信息获取非设置)</li>
<li>sta_num：连接到ap 热点的sta 设备的个数(信息获取非设置)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-monitor-模式的状态">定义Wi-Fi Manager monitor   模式的状态<a href="#定义wi-fi-manager-monitor-模式的状态" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager monitor 模式的状态" title="Direct link to 定义Wi-Fi Manager monitor 模式的状态">​</a></h3>
<p>结构体描述：该结构体主要用于定义Wi-Fi Manager monitor 模式的状态</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MONITOR_DISABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_MONITOR_ENABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_monitor_state_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_MONITOR_DISABLE：使能状态的monitor 模式</li>
<li>WIFI_MONITOR_ENABLE：使能状态的monitor 模式</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-monitor-模式时收到的数据帧">定义Wi-Fi Manager monitor 模式时收到的数据帧<a href="#定义wi-fi-manager-monitor-模式时收到的数据帧" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager monitor 模式时收到的数据帧" title="Direct link to 定义Wi-Fi Manager monitor 模式时收到的数据帧">​</a></h3>
<p>结构体描述：该结构体主要用于描述Wi-Fi Manager monitor 模式时收到的帧的内容</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint32_t</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> channel</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_monitor_data_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>data：monitor 模式时收到的帧数据</li>
<li>len：monitor 模式时收到的帧的长度</li>
<li>channel：monitor 模式时从什么信道收到的帧</li>
<li>info：monitor 模式时收到帧的扩展信息(目前暂时没有意义)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-p2p-模式时开启p2p-热点的配置信息">定义Wi-Fi Manager p2p 模式时开启p2p 热点的配置信息<a href="#定义wi-fi-manager-p2p-模式时开启p2p-热点的配置信息" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager p2p 模式时开启p2p 热点的配置信息" title="Direct link to 定义Wi-Fi Manager p2p 模式时开启p2p 热点的配置信息">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">dev_name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> listen_time</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> p2p_go_intent</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool auto_connect</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_p2p_config_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>dev_name：p2p 设备名</li>
<li>listen_time：启动p2p 模式时进行监听多少秒</li>
<li>p2p_go_intent：启动p2p 模式是go intent 值设置多少(0 ~ 15 会影响到gc go 的协商)</li>
<li>auto_connect：是否支持被动连接</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-p2p-模式时p2p-连接成功后的信息">定义Wi-Fi Manager p2p 模式时p2p 连接成功后的信息<a href="#定义wi-fi-manager-p2p-模式时p2p-连接成功后的信息" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager p2p 模式时p2p 连接成功后的信息" title="Direct link to 定义Wi-Fi Manager p2p 模式时p2p 连接成功后的信息">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> bssid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> mode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> freq</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> ssid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SSID_MAX_LEN </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_p2p_info_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>bssid：p2p 的bssid</li>
<li>mode：连接成功后协助的模式go/gc</li>
<li>freq：连接成功后的频率(信道)</li>
<li>ssid：连接成功后的ssid</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-p2p-模式时的状态">定义Wi-Fi Manager p2p 模式时的状态<a href="#定义wi-fi-manager-p2p-模式时的状态" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager p2p 模式时的状态" title="Direct link to 定义Wi-Fi Manager p2p 模式时的状态">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_ENABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_DISABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_CONNECTD_GC</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_CONNECTD_GO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_DISCONNECTD</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_p2p_state_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_P2P_ENABLE：使能状态的p2p 模式</li>
<li>WIFI_P2P_DISABLE：不使能状态的p2p 模式</li>
<li>WIFI_P2P_CONNECTD_GC：连接状态，协商模式为gc</li>
<li>WIFI_P2P_CONNECTD_GO：连接状态，协商模式未go</li>
<li>WIFI_P2P_DISCONNECTD：未连接状态</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-p2p-模式时的事件">定义Wi-Fi Manager p2p 模式时的事件<a href="#定义wi-fi-manager-p2p-模式时的事件" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager p2p 模式时的事件" title="Direct link to 定义Wi-Fi Manager p2p 模式时的事件">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_DEV_FOUND</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_DEV_LOST</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_PBC_REQ</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GO_NEG_RQ</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GO_NEG_SUCCESS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GO_NEG_FAILURE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_FOR_SUCCESS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_FOR_FAILURE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_STARTED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_REMOVED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_CROSS_CONNECT_ENABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_CROSS_CONNECT_DISABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/*Wi-Fi Manager self‑defined state*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_SCAN_RESULTS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_DHCP_DNS_FAILURE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_DHCP_SUCCESS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_DHCP_FAILURE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_DNS_SUCCESS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_GROUP_DNS_FAILURE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WIFI_P2P_UNKNOWN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_p2p_event_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>WIFI_P2P_DEV_FOUND：寻找p2p 设备事件</li>
<li>WIFI_P2P_DEV_LOST：p2p 设备丢失事件</li>
<li>WIFI_P2P_PBC_REQ：以pbc 方式连接请求事件</li>
<li>WIFI_P2P_GO_NEG_RQ：go 模式协商请求事件</li>
<li>WIFI_P2P_GO_NEG_SUCCESS：go 模式协商成功事件</li>
<li>WIFI_P2P_GO_NEG_FAILURE：go 模式协商失败事件</li>
<li>WIFI_P2P_GROUP_FOR_SUCCESS：p2p 组创建成功事件</li>
<li>WIFI_P2P_GROUP_FOR_FAILURE：p2p 组创建失败事件</li>
<li>WIFI_P2P_GROUP_STARTED：p2p 组创建开始事件</li>
<li>WIFI_P2P_GROUP_REMOVED：p2p 移除组事件</li>
<li>WIFI_P2P_CROSS_CONNECT_ENABLE</li>
<li>WIFI_P2P_CROSS_CONNECT_DISABLE</li>
<li>/Wi-Fi Manager self‑defined state/ –&gt; Wi-Fi Manager 自定义事件</li>
<li>WIFI_P2P_SCAN_RESULTS：p2p 扫描完成事件</li>
<li>WIFI_P2P_GROUP_DHCP_DNS_FAILURE：p2p 组dhcp/dns 启动失败事件</li>
<li>WIFI_P2P_GROUP_DHCP_SUCCESS：p2p dhcp 成功事件(gc 模式下获取到了ip 地址)</li>
<li>WIFI_P2P_GROUP_DHCP_FAILURE：p2p dhcp 失败事件</li>
<li>WIFI_P2P_GROUP_DNS_SUCCESS：p2p dns 服务启动成功事件(go 模式下dns 服务成功)</li>
<li>WIFI_P2P_GROUP_DNS_FAILURE：p2p dns 服务启动失败事件</li>
<li>WIFI_P2P_UNKNOWN：未知p2p 事件</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定义wi-fi-manager-收到的回调事件">定义Wi-Fi Manager 收到的回调事件<a href="#定义wi-fi-manager-收到的回调事件" class="hash-link" aria-label="Direct link to 定义Wi-Fi Manager 收到的回调事件" title="Direct link to 定义Wi-Fi Manager 收到的回调事件">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">wifi_msg_id_t</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">union</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_dev_status_t</span><span class="token plain"> d_status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_sta_event_t</span><span class="token plain"> event</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_sta_state_t</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_ap_event_t</span><span class="token plain"> ap_event</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_ap_state_t</span><span class="token plain"> ap_state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_monitor_state_t</span><span class="token plain"> mon_state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_monitor_data_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_p2p_event_t</span><span class="token plain"> p2p_event</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">wifi_p2p_state_t</span><span class="token plain"> p2p_state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token class-name">wifi_msg_data_t</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>id：回调事件的数据类型，根据这个id 好确定data 里的数据是什么类型的data：数据类型</li>
<li>d_status：回调事件数据类型是设备状态变化信息</li>
<li>even：回调事件数据类型是sta 模式连接ap 过程中状态变化信息</li>
<li>state：回调事件数据类型是sta 模式状态信息</li>
<li>ap_event：回调事件数据类型是ap 模式连接过程中状态变化信息</li>
<li>ap_state：回调事件数据类型是ap 模式状态信息</li>
<li>mon_state：回调事件数据类型是monitor 模式状态信息</li>
<li>p2p_event：回调事件数据类型是p2p 模式连接过程中状态变化信息</li>
<li>p2p_state：回调事件数据类型是p2p 模式状态信息</li>
<li>frame：回调事件数据类型是monitor 模式收到的数据帧</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-核心代码各函数说明">Wi-Fi Manager 核  心代码各函数说明<a href="#wi-fi-manager-核心代码各函数说明" class="hash-link" aria-label="Direct link to Wi-Fi Manager 核心代码各函数说明" title="Direct link to Wi-Fi Manager 核心代码各函数说明">​</a></h2>
<p>该章节主要用于介绍核心代码中各API (需要2 次开发的人员重点关注和查阅)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="初始化wi-fi-manager">初始化Wi-Fi Manager<a href="#初始化wi-fi-manager" class="hash-link" aria-label="Direct link to 初始化Wi-Fi Manager" title="Direct link to 初始化Wi-Fi Manager">​</a></h3>
<p>想要使用Wi-Fi Manager 的功能前，必须调用该函数进行Wi-Fi Manager 初始化。</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>void</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：Wi-Fi Manager 初始化成功；</li>
<li>0：Wi-Fi Manager 初始化失败。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="反初始化wi-fi-manager">反初始化Wi-Fi Manager<a href="#反初始化wi-fi-manager" class="hash-link" aria-label="Direct link to 反初始化Wi-Fi Manager" title="Direct link to 反初始化Wi-Fi Manager">​</a></h3>
<p>反初始化Wi-Fi Manager</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_deinit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>void</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：Wi-Fi Manager 反初始化成功；</li>
<li>非0：Wi-Fi Manager 反初始化失败。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="打开wi-fi-manager-某种模式">打开Wi-Fi Manager 某种模式<a href="#打开wi-fi-manager-某种模式" class="hash-link" aria-label="Direct link to 打开Wi-Fi Manager 某种模式" title="Direct link to 打开Wi-Fi Manager 某种模式">​</a></h3>
<p>想要使用Wi-Fi Manager 的功能前，必须调用该函数进行Wi-Fi Manager 初始化。</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_mode_t</span><span class="token plain"> mode</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wifi_mode_t：需要打开的模式（WIFI_STATION / WIFI_AP / WIFI_MONITOR/WIFI_P2P）</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：Wi-Fi Manager；</li>
<li>非0：Wi-Fi Manager 初始化失败。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="关闭wi-fi-manager">关闭Wi-Fi Manager<a href="#关闭wi-fi-manager" class="hash-link" aria-label="Direct link to 关闭Wi-Fi Manager" title="Direct link to 关闭Wi-Fi Manager">​</a></h3>
<p>关闭Wi-Fi Manager 后，要重新使用Wi-Fi Manager 需要重新调用wifi_on</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_off</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>void</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功</li>
<li>非0：失败</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下连接ap">sta 模式下连接ap<a href="#sta-模式下连接ap" class="hash-link" aria-label="Direct link to sta 模式下连接ap" title="Direct link to sta 模式下连接ap">​</a></h3>
<p>连接到某个特定的ap</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_sta_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_sta_cn_para_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> cn_para）</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wifi_sta_cn_para_t 需要连接的ap 的信息</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下断开与ap-的连接">sta 模式下断开与ap 的连接<a href="#sta-模式下断开与ap-的连接" class="hash-link" aria-label="Direct link to sta 模式下断开与ap 的连接" title="Direct link to sta 模式下断开与ap 的连接">​</a></h3>
<p>只有在已连接上某个ap 后调用该接口才有用，否则会返回失败</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_sta_disconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>void</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下自动连接上某个ap">sta 模式下自动连接上某个ap<a href="#sta-模式下自动连接上某个ap" class="hash-link" aria-label="Direct link to sta 模式下自动连接上某个ap" title="Direct link to sta 模式下自动连接上某个ap">​</a></h3>
<p>该功能主要有2 个附加作用</p>
<ol>
<li>当系统有保存已连接过的ap 信息时，调用该接口后会自动尝试去连接已连接过的ap。</li>
<li>当已连接上某个ap 后，因某些原因导致了与ap 断开，打开了该功能会尝试继续连接该ap；</li>
</ol>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_sta_auto_reconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wmg_bool_t</span><span class="token plain"> enable</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wmg_bool_t：打开或关闭该功能；</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下获取当前状态的一些信息">sta 模式下获取当前状态的一些信息<a href="#sta-模式下获取当前状态的一些信息" class="hash-link" aria-label="Direct link to sta 模式下获取当前状态的一些信息" title="Direct link to sta 模式下获取当前状态的一些信息">​</a></h3>
<p>获取当前station 模式状态的一些信息(包括连接上的ap 的ssid，bssid 等)</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_sta_get_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_sta_info_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> sta_info</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wifi_sta_info_t，station 模式的一些信息</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下列出已保存的ap-的信息">sta 模式下列出已保存的ap 的信息<a href="#sta-模式下列出已保存的ap-的信息" class="hash-link" aria-label="Direct link to sta 模式下列出已保存的ap 的信息" title="Direct link to sta 模式下列出已保存的ap 的信息">​</a></h3>
<p>在sta 模式下移除某个ap 信息，R128平台仅列出最后一次连接的ap的信息</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_sta_list_networks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_sta_list_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> sta_list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wifi_sta_list_t 保存列表信息</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下移除某个ap-信息">sta 模式下移除某个ap 信息<a href="#sta-模式下移除某个ap-信息" class="hash-link" aria-label="Direct link to sta 模式下移除某个ap 信息" title="Direct link to sta 模式下移除某个ap 信息">​</a></h3>
<p>该接口主要配合wifi_sta_list_networks 接口使用</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_sta_remove_networks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> ssid</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>ssid：要移除的ap 的ssid</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ap-模式下使能ap-热点功能">ap 模式下使能ap 热点功能<a href="#ap-模式下使能ap-热点功能" class="hash-link" aria-label="Direct link to ap 模式下使能ap 热点功能" title="Direct link to ap 模式下使能ap 热点功能">​</a></h3>
<p>根据 wifi_ap_config_t 的设置不同，启动的热点会不同</p>
<p>函数原型</p>
<code class="language-c"></code>
<p>参数：</p>
<ul>
<li>wifi_ap_config_t，使能ap 热点时的配置参数</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ap-模式下关闭ap-热点功能">ap 模式下关闭ap 热点功能<a href="#ap-模式下关闭ap-热点功能" class="hash-link" aria-label="Direct link to ap 模式下关闭ap 热点功能" title="Direct link to ap 模式下关闭ap 热点功能">​</a></h3>
<p>在ap 模式下关闭ap 热点功能</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_ap_disable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>void</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ap-模式下获取当前ap-热点的配置信息">ap 模式下获取当前ap 热点的配置信息<a href="#ap-模式下获取当前ap-热点的配置信息" class="hash-link" aria-label="Direct link to ap 模式下获取当前ap 热点的配置信息" title="Direct link to ap 模式下获取当前ap 热点的配置信息">​</a></h3>
<p>该接口主要是用于获取当前启动的ap 热点的配置信息</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_ap_get_config</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_ap_config_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> ap_config</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>ifi_ap_config_t，ap 热点的配置参数</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-模  式使能monitor-功能">monitor 模式使能monitor 功能<a href="#monitor-模式使能monitor-功能" class="hash-link" aria-label="Direct link to monitor 模式使能monitor 功能" title="Direct link to monitor 模式使能monitor 功能">​</a></h3>
<p>在monitor 模式下使能monitor 功能</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_monitor_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> channel</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>channel：使能monitor 模式时需要监听的信道</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-模式下动态切换监听的信道">monitor 模式下动态切换监听的信道<a href="#monitor-模式下动态切换监听的信道" class="hash-link" aria-label="Direct link to monitor 模式下动态切换监听的信道" title="Direct link to monitor 模式下动态切换监听的信道">​</a></h3>
<p>在monitor 模式下动态切换要监听信道</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_monitor_set_channel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> channel</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>channel：要修改监听的信道</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-模式下关闭monitor-功能">monitor 模式下关闭monitor 功能<a href="#monitor-模式下关闭monitor-功能" class="hash-link" aria-label="Direct link to monitor 模式下关闭monitor 功能" title="Direct link to monitor 模式下关闭monitor 功能">​</a></h3>
<p>monitor 模式下关闭monitor 功能</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_monitor_disable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>void</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式下使能p2p-功能">p2p 模式下使能p2p 功能<a href="#p2p-模式下使能p2p-功能" class="hash-link" aria-label="Direct link to p2p 模式下使能p2p 功能" title="Direct link to p2p 模式下使能p2p 功能">​</a></h3>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_p2p_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_p2p_config_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p2p_config</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>p2p_config_t，使能p2p 时的配置参数</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式下关闭p2p-功能">p2p 模式下关闭p2p 功能<a href="#p2p-模式下关闭p2p-功能" class="hash-link" aria-label="Direct link to p2p 模式下关闭p2p 功能" title="Direct link to p2p 模式下关闭p2p 功能">​</a></h3>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_p2p_disable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>void</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式下发起扫描">p2p 模式下发起扫描<a href="#p2p-模式下发起扫描" class="hash-link" aria-label="Direct link to p2p 模式下发起扫描" title="Direct link to p2p 模式下发起扫描">​</a></h3>
<p>在执行扫描的过程中也需要对端发起扫描，否则扫描不到对端设备</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_p2p_find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_p2p_peers_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p2p_peers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> find_second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>p2p_config_t，使能p2p 时的配置参数</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式下连接另外一个p2p-设备">p2p 模式下连接另外一个p2p 设备<a href="#p2p-模式下连接另外一个p2p-设备" class="hash-link" aria-label="Direct link to p2p 模式下连接另外一个p2p 设备" title="Direct link to p2p 模式下连接另外一个p2p 设备">​</a></h3>
<p>连接的过程中需要对方同意连接，否则会连接失败</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_p2p_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p2p_mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>p2p_mac_addr：需要连接的p2p 设备的mac 地址</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式下断开已连接的p2p-设备">p2p 模式下断开已连接的p2p 设备<a href="#p2p-模式下断开已连接的p2p-设备" class="hash-link" aria-label="Direct link to p2p 模式下断开已连接的p2p 设备" title="Direct link to p2p 模式下断开已连接的p2p 设备">​</a></h3>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_p2p_disconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p2p_mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>p2p_mac_addr：需要断开的p2p 设备的mac 地址</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式下获取p2p-设备的某些信息">p2p 模式下获取p2p 设备的某些信息<a href="#p2p-模式下获取p2p-设备的某些信息" class="hash-link" aria-label="Direct link to p2p 模式下获取p2p 设备的某些信息" title="Direct link to p2p 模式下获取p2p 设备的某些信息">​</a></h3>
<p>函数原型</p>
<code class="language-c"></code>
<p>参数：</p>
<ul>
<li>p2p_info，p2p 设备信息参数</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式下注册回调函数">任意模式下注册回调函数<a href="#任意模式下注册回调函数" class="hash-link" aria-label="Direct link to 任意模式下注册回调函数" title="Direct link to 任意模式下注册回调函数">​</a></h3>
<p>该接口可以在任意模式下调用，但必须在调用wifi_on 函数后才能调用，否则会注册回调函数失败。</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_register_msg_cb</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_msg_cb_t</span><span class="token plain"> msg_cb</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wifi_msg_cb_t：要回调的回调函数</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下设置扫描参数">sta 模式下设置扫描参数<a href="#sta-模式下设置扫描参数" class="hash-link" aria-label="Direct link to sta 模式下设置扫描参数" title="Direct link to sta 模式下设置扫描参数">​</a></h3>
<p>预留接口，功能没有实现</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_set_scan_param</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_scan_param_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> scan_param</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>无效</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sta-模式下获取扫描结果">sta 模式下获取扫描结果<a href="#sta-模式下获取扫描结果" class="hash-link" aria-label="Direct link to sta 模式下获取扫描结果" title="Direct link to sta 模式下获取扫描结果">​</a></h3>
<p>调用者需要根据具体情况申请内存</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_get_scan_results</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_scan_result_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">bss_num</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> arr_size</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wifi_scan_result_t，扫描结果保存结构体</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式下设置mac-地址">任意模式下设置mac 地址<a href="#任意模式下设置mac-地址" class="hash-link" aria-label="Direct link to 任意模式下设置mac 地址" title="Direct link to 任意模式下设置mac 地址">​</a></h3>
<p>该接口可以在任意模式下调用，但必须在调用wifi_on 函数后才能调用，否则会设置失败。</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_set_mac</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> ifname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>ifname：要设置mac 地址的网卡名</li>
<li>mac_addr：要设置mac 地址</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式下获取mac-地址">任意模式下获取mac 地址<a href="#任意模式下获取mac-地址" class="hash-link" aria-label="Direct link to 任意模式下获取mac 地址" title="Direct link to 任意模式下获取mac 地址">​</a></h3>
<p>该接口可以在任意模式下调用，但必须在调用wifi_on 函数后才能调用，否则会设置失败。需要调用者申请内存来保存mac 地址</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_get_mac</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> ifname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>ifname：要设置mac 地址的网卡名</li>
<li>mac_addr: 获取到的mac 地址</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配网模式">配网模式<a href="#配网模式" class="hash-link" aria-label="Direct link to 配网模式" title="Direct link to 配网模式">​</a></h3>
<p>该接口可以在任意模式下调用，调用后已某种配网模式去获取配网结果(ssid和psk)，配网模式根据当前系统的支持</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_linkd_protocol</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_linkd_mode_t</span><span class="token plain"> mode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> second</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">wifi_linkd_result_t</span><span class="token plain"> linkd_result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>mode：要使用哪种配网模式params: 配网模式的参数</li>
<li>second：配网多少秒</li>
<li>linkd_result: 配网获取到的结果(ssid 和psk)</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式下获取wi-fi-manager-的状态信息">任意模式下获取Wi-Fi Manager 的状态信息<a href="#任意模式下获取wi-fi-manager-的状态信息" class="hash-link" aria-label="Direct link to 任意模式下获取Wi-Fi Manager 的状态信息" title="Direct link to 任意模式下获取Wi-Fi Manager 的状态信息">​</a></h3>
<p>该接口可以在任意模式下调用  ，用于获取Wi-Fi Manager 的状态信息，只有返回值为0 时获取的状态信息才有效</p>
<p>函数原型</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">wmg_status_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wifi_get_wmg_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">wifi_wmg_state_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">wmg_state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数：</p>
<ul>
<li>wmg_state：获取到的Wi-Fi Manager 的状态信息</li>
</ul>
<p>返回值：</p>
<ul>
<li>0：成功；</li>
<li>非0：失败；</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-核心代码函数调用流程介绍">Wi-Fi Manager 核心代码函数调用流程介绍<a href="#wi-fi-manager-核心代码函数调用流程介绍" class="hash-link" aria-label="Direct link to Wi-Fi Manager 核心代码函数调用流程介绍" title="Direct link to Wi-Fi Manager 核心代码函数调用流程介绍">​</a></h2>
<p>下面提供Wi-Fi Manager 各功能的开发流程(简单介绍api 的调用流程)。更详细的调用流程可以参考wifi_deamon.c 文件里的编写流程。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="以某种模式打开wi-fi-manager">以某种模式打开Wi-Fi Manager<a href="#以某种模式打开wi-fi-manager" class="hash-link" aria-label="Direct link to 以某种模式打开Wi-Fi Manager" title="Direct link to 以某种模式打开Wi-Fi Manager">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">1.</span><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ‑‑‑‑</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_AP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ‑‑‑‑</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 以ap模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_MONITOR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ‑‑‑‑</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 以monitor模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_P2P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ‑‑‑‑</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 以p2p模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在调用libwifimg‑v2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">库中的任何api前都必须调用Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager_init函数</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式关闭wi-fi-manager">station 模式—关闭Wi-Fi Manager<a href="#station-模式关闭wi-fi-manager" class="hash-link" aria-label="Direct link to station 模式—关闭Wi-Fi Manager" title="Direct link to station 模式—关闭Wi-Fi Manager">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> ‑‑‑‑</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_off</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> ‑‑‑‑</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 关闭Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">wifi_off函数只需在不再使用Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager时调用一次即可，中间无法频繁调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">调用wifi_off后想再使用Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager必须重新再调用一次wifi_on。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式扫描环境中存在哪些ap">station 模式—扫描环境中存在哪些ap<a href="#station-模式扫描环境中存在哪些ap" class="hash-link" aria-label="Direct link to station 模式—扫描环境中存在哪些ap" title="Direct link to station 模式—扫描环境中存在哪些ap">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_get_scan_results</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">scan_res</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">bss_num</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RES_LEN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">获取扫描结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">wifi_scan_result_t</span><span class="token plain"> scan_res</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">该参数需要用户申请内存，主要是用于保存扫描结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">uint32_t</span><span class="token plain"> bss_num</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">该参数用于传到库底层，记录系统能扫到多少条结果。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">uint32_t</span><span class="token plain"> RES_LEN</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">该参数主要是表明scan_res的大小。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    假设用户在调用该函数前，申请了一个可以保存</span><span class="token number" style="color:#36acaa">5</span><span class="token plain">条扫描结果的buff，那么scan_res填写buff指针，RES_LEN填写</span><span class="token number" style="color:#36acaa">5</span><span class="token plain">，扫描后系统扫到了</span><span class="token number" style="color:#36acaa">20</span><span class="token plain">条结果。用户只能获取到</span><span class="token number" style="color:#36acaa">5</span><span class="token plain">条扫描结果，不过可以在bss_num中获取到系统中实际上扫描到</span><span class="token number" style="color:#36acaa">20</span><span class="token plain">条结果。用户环境ap如果多，可以把buff调大点，如果少可以把buff调小一点。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式连接某个特定的ap">station 模式—连接某个特定的ap<a href="#station-模式连接某个特定的ap" class="hash-link" aria-label="Direct link to station 模式—连接某个特定的ap" title="Direct link to station 模式—连接某个特定的ap">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cn_para</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">填充好连接参数，调用连接函数即可</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">其中cn_para是一个连接参数配置结构体，只需要填充好ssid，password，sec字段参数即可，fast_connect字段预留字段，暂时没有作用。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式断开与某个ap-的连接">station 模式—断开与某个ap 的连接<a href="#station-模式断开与某个ap-的连接" class="hash-link" aria-label="Direct link to station 模式—断开与某个ap 的连接" title="Direct link to station 模式—断开与某个ap 的连接">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cn_para</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_disconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">连接某个ap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">断开与ap的连接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在连接上某个ap后调用wifi_sta_disconnect函数可以断开与ap的连接。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式设置自动连接功能">station 模式—设置自动连接功能<a href="#station-模式设置自动连接功能" class="hash-link" aria-label="Direct link to station 模式—设置自动连接功能" title="Direct link to station 模式—设置自动连接功能">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_auto_reconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cn_para</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_auto_reconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">打开自动连接功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">连接上某个ap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain">关闭自动连接功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">自动连接功能在底层有</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">种作用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">开启自动连接功能后，如果连接上了某个ap，该ap的信息会保存在系统中，下次系统启动后会尝试去连接已连接过的</span><span class="token function" style="color:#d73a49">ap</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">开启自动连接功能后，如果已经连上了某个ap，但某些原因与该ap断开了连接，系统会尝试继续与该ap进行连接</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式列出已保存的ap-列表信息">station 模式—列出已保存的ap 列表信息<a href="#station-模式列出已保存的ap-列表信息" class="hash-link" aria-label="Direct link to station 模式—列出已保存的ap 列表信息" title="Direct link to station 模式—列出已保存的ap 列表信息">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_list_networks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">sta_list_networks</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">调用列出ap列表函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sta_list_networks参数是</span><span class="token class-name">wifi_sta_list_t</span><span class="token plain">类型的结构体，需要用户申请相关的内存，其中list_nod字段用于保存列表信息，list_num字段用于告诉系统列表空间的大小，sys_list_num字段是返回值，调用函数后系统实际列表项数目会保存在该字段。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    R128 平台仅列出最后一次连接的ap的信息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式列出连接的ap-信息">station 模式—列出连接的ap 信息<a href="#station-模式列出连接的ap-信息" class="hash-link" aria-label="Direct link to station 模式—列出连接的ap 信息" title="Direct link to station 模式—列出连接的ap 信息">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cn_para</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_get_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">wifi_sta_info</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">连接上某个特定的ap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">获取连接的ap的信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">该函数主要是获取连接的ap的信息，因此需要连接上某个ap后才能调用，调用是用户需要自己申请一个wifi_sta_info结构体</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式移除某个或全部已保存的ap-信息">station 模式—移除某个或全部已保存的ap 信息<a href="#station-模式移除某个或全部已保存的ap-信息" class="hash-link" aria-label="Direct link to station 模式—移除某个或全部已保存的ap 信息" title="Direct link to station 模式—移除某个或全部已保存的ap 信息">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_STATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_sta_remove_networks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">NULL</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">ssid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以station模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">移除某个ssid或全部已保存的ap的信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">该函数要配合wifi_sta_list_networks函数来使用，调用wifi_sta_list_networks函数列出已保存的ap信息，再根据信息来移除不需要的ap。如果wifi_sta_remove_networks传入的参数是一个具体的ssid，那么仅仅移除该ssid的信息，如果传入的参数是一个</span><span class="token constant" style="color:#36acaa">NULL</span><span class="token plain">指针，那么把所有的已保存的ap信息都删掉。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ap-模式启动ap-节点">ap 模式—启动ap 节点<a href="#ap-模式启动ap-节点" class="hash-link" aria-label="Direct link to ap 模式—启动ap 节点" title="Direct link to ap 模式—启动ap 节点">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_AP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_ap_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ap_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以ap模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能ap功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果想启动无密码ap，需要把ap_config结构体中的psk字段填充“</span><span class="token constant" style="color:#36acaa">NULL</span><span class="token plain">”字符串。其它字段按实际需求填写</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ap-模式获取ap-配置信息">ap 模式—获取ap 配置信息<a href="#ap-模式获取ap-配置信息" class="hash-link" aria-label="Direct link to ap 模式—获取ap 配置信息" title="Direct link to ap 模式—获取ap 配置信息">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_AP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_ap_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ap_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_ap_get_config</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ap_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以ap模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能ap功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">获取ap模式的配置信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 无</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ap-模式关闭ap-热点">ap 模式—关闭ap 热点<a href="#ap-模式关闭ap-热点" class="hash-link" aria-label="Direct link to ap 模式—关闭ap 热点" title="Direct link to ap 模式—关闭ap 热点">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_AP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_ap_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ap_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_ap_disable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以ap模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能ap功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">关闭ap热点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 无</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-模式使用monitor-功能">monitor 模式—使用monitor 功能<a href="#monitor-模式使用monitor-功能" class="hash-link" aria-label="Direct link to monitor 模式—使用monitor 功能" title="Direct link to monitor 模式—使用monitor 功能">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_MONITOR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_monitor_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以monitor模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能monitor 功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> channel指的是监听哪条信道</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-模式切换监听的信道">monitor 模式—切换监听的信道<a href="#monitor-模式切换监听的信道" class="hash-link" aria-label="Direct link to monitor 模式—切换监听的信道" title="Direct link to monitor 模式—切换监听的信道">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_MONITOR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_monitor_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_monitor_set_channel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以monitor模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能monitor功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">切换要监听的信道</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 无</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-模式关闭monitor-功能">monitor 模式—关闭monitor 功能<a href="#monitor-模式关闭monitor-功能" class="hash-link" aria-label="Direct link to monitor 模式—关闭monitor 功能" title="Direct link to monitor 模式—关闭monitor 功能">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_MONITOR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_monitor_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_monitor_disable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以monitor模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能monitor功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">关闭monitor功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 无</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式启动p2p-功能">p2p 模式—启动p2p 功能<a href="#p2p-模式启动p2p-功能" class="hash-link" aria-label="Direct link to p2p 模式—启动p2p 功能" title="Direct link to p2p 模式—启动p2p 功能">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_P2P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p2p_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以p2p模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能p2p功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 启动p2p功能时可以对p2p设备名，协商等级等一下参数进行设置</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式关闭p2p-功能">p2p 模式—关闭p2p 功能<a href="#p2p-模式关闭p2p-功能" class="hash-link" aria-label="Direct link to p2p 模式—关闭p2p 功能" title="Direct link to p2p 模式—关闭p2p 功能">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_P2P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_enable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p2p_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_disable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以ap模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">使能ap功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">获取ap模式的配置信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 无</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式扫描周围p2p-设备">p2p 模式—扫描周围p2p 设备<a href="#p2p-模式扫描周围p2p-设备" class="hash-link" aria-label="Direct link to p2p 模式—扫描周围p2p 设备" title="Direct link to p2p 模式—扫描周围p2p 设备">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_P2P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p2p_peers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> find_second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以p2p模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">扫描周围p2p设备</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 对端设备也必须处于扫描状态才能被发现</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式连接某个p2p-设备">p2p 模式—连接某个p2p 设备<a href="#p2p-模式连接某个p2p-设备" class="hash-link" aria-label="Direct link to p2p 模式—连接某个p2p 设备" title="Direct link to p2p 模式—连接某个p2p 设备">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_P2P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p2p_peers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> find_second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p2p_mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以p2p模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">扫描周围p2p设备</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">连接某个p2p设备</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 在连接前必须进行扫描，只有相互发现后才能连接成功</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式断开与p2p-设备的连接">p2p 模式—断开与p2p 设备的连接<a href="#p2p-模式断开与p2p-设备的连接" class="hash-link" aria-label="Direct link to p2p 模式—断开与p2p 设备的连接" title="Direct link to p2p 模式—断开与p2p 设备的连接">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_P2P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p2p_peers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> find_second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p2p_mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_disconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p2p_mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以p2p模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">扫描周围p2p设备</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">连接某个p2p设备</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain">断开与p2p设备的连接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 无</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2p-模式获取p2p-设备信息">p2p 模式—获取p2p 设备信息<a href="#p2p-模式获取p2p-设备信息" class="hash-link" aria-label="Direct link to p2p 模式—获取p2p 设备信息" title="Direct link to p2p 模式—获取p2p 设备信息">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">WIFI_P2P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p2p_peers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> find_second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p2p_mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_p2p_get_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">p2p_info</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">以p2p模式打开Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">扫描周围p2p设备</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">连接某个p2p设备</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain">获取p2p设备信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 无</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式获取mac-地址">任意模式—获取mac 地址<a href="#任意模式获取mac-地址" class="hash-link" aria-label="Direct link to 任意模式—获取mac 地址" title="Direct link to 任意模式—获取mac 地址">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">XXX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_get_mac</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ifname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">打开任意模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">调用函数获取mac地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用户需要申请空间mac_addr来保存获取到的mac地址，ifname是网卡名，如果传入的网卡名为</span><span class="token constant" style="color:#36acaa">NULL</span><span class="token plain">，那么底层逻辑默认获取wlan0网卡的mac地址</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式设置mac-地址">任意模式—设置mac 地址<a href="#任意模式设置mac-地址" class="hash-link" aria-label="Direct link to 任意模式—设置mac 地址" title="Direct link to 任意模式—设置mac 地址">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wifi_on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">XXX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wifi_set_mac</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ifname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mac_addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">打开任意模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">调用函数设置mac地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用户需要申请空间mac_addr来保存获取到的mac地址，ifname是网卡名，如果传入的网卡名为</span><span class="token constant" style="color:#36acaa">NULL</span><span class="token plain">，那么底层逻辑默认设置wlan0网卡的mac地址，设置网卡的mac地址是临时性的，重启后设置的mac地址会失效。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式获取打印等级">任意模式—获取打印等级<a href="#任意模式获取打印等级" class="hash-link" aria-label="Direct link to 任意模式—获取打印等级" title="Direct link to 任意模式—获取打印等级">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wmg_get_debug_level</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">获取Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager的当前打印等级</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">该函数不需要调用wifi_on即可调用</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="任意模式设置打印等级">任意模式—设置打印等级<a href="#任意模式设置打印等级" class="hash-link" aria-label="Direct link to 任意模式—设置打印等级" title="Direct link to 任意模式—设置打印等级">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wmg_set_debug_level</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">XXX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain">设置Wi</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Fi Manager的当前打印等级</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">备注</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">该函数不需要调用wifi_on即可调用</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-配网模式">Wi-Fi Manager 配网模式<a href="#wi-fi-manager-配网模式" class="hash-link" aria-label="Direct link to Wi-Fi Manager 配网模式" title="Direct link to Wi-Fi Manager 配网模式">​</a></h2>
<p>wifimager 集成了smartlink 部分的配网功能，便于用户使用，用户只需要使用wifimager 提供的demo 即可进行配网功能，无需额外再使用smartlink。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wifimager-配网模式简介">wifimager 配网模式简介<a href="#wifimager-配网模式简介" class="hash-link" aria-label="Direct link to wifimager 配网模式简介" title="Direct link to wifimager 配网模式简介">​</a></h3>
<p>目前wifimager 支持sofap，蓝牙，xconfig 和声波配网4 种配网模式。所有的配网模式实质上都只包含了2 部分。 1. 获取连接ap 的ssid 和psk</p>
<ol>
<li>根据获取到的信息进行联网</li>
</ol>
<p>每种配网模式的第二部分的实现都是一样 的，调用libwifimg‑v2.0 里提供的API 进行网络连接。差异化部分只有获取ap 的ssid 和psk 部分。sofap 配网模式是通过开启一个ap 热点，用户通过手机app 连上该ap 热点后把配网信息传送到小机端。蓝牙配网模式是启动蓝牙后，用户通过手机app把配网信息通过蓝牙传送到小机端。xconfig 配网模式是启动了monitor 模式，用户通过手机app发送一些特定的配网包从而达到把配网信息传递到小机端。声波配网模式是启动mic 后，用户通过手机app 发送一段带有配网信息的声波给小机端。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-扩展模式">Wi-Fi Manager 扩展模式<a href="#wi-fi-manager-扩展模式" class="hash-link" aria-label="Direct link to Wi-Fi Manager 扩展模式" title="Direct link to Wi-Fi Manager 扩展模式">​</a></h3>
<p>Wi-Fi Manager 同样集成了扩展模式，扩展模式主要用于扩展wifi 差异性功能。这些功能与模组或系统有强相关，非通用性。例如A 模组支持使用ioct 或设备节点控制唤醒功能，但B 模组没有这些功能，A 模组的这些差异性功能就会被集成到扩展模式里。扩展功能没有通用性，因此不在此处进行简述，需要自行查看源码，同样也可以根据模组的特性在此处添加模组差异性功能。</p>
<p><code>core/src/expand_cmd.c</code> 文件是扩展命令屏蔽层，该文件(层) 屏蔽了系统性差异功能。</p>
<p><code>core/src/os/linux/expand/ –&gt; linux</code> 系统差异性功能具体实现代码(非通用性，自行查阅以及增删)</p>
<p><code>core/src/os/xrlink/expand/ –&gt; xrlink</code>系统差异性功能具体实现代码(非通用性，自行查阅以及增删)</p>
<p><code>core/src/os/freertos/expand/ –&gt; freertos</code> 系统差异性功能具体实现代码(非通用性，自行查阅以及增删)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-demo">Wi-Fi Manager demo<a href="#wi-fi-manager-demo" class="hash-link" aria-label="Direct link to Wi-Fi Manager demo" title="Direct link to Wi-Fi Manager demo">​</a></h2>
<p>Wi-Fi Manager demo 是提供给用户的一个参考demo，它提供了基本的网络功能，用户可以直接使用该demo 来进行网络配置，连接等。也可以参考该demo 对核心代码API 的使用方法，把对应的功能集成到用户自己的应用中去。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-demo-目录结构">Wi-Fi Manager demo 目录结构<a href="#wi-fi-manager-demo-目录结构" class="hash-link" aria-label="Direct link to Wi-Fi Manager demo 目录结构" title="Direct link to Wi-Fi Manager demo 目录结构">​</a></h3>
<p>wifimager demo 在SDK 里的路径如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Wi-Fi Manager/demo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Wi-Fi Manager demo 的主要目录结构如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">├── wifi.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── wifi_deamon.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── wifi_deamon.h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>wifi.c：wifi 组件主要是提供了一些简单易用的命令行命令给用户。用户可以直接使用这些简单的命令行命令即可连接网络和配网。</li>
<li>wifi_deamon.c：wifi_deamon，linux 下的实现，wifi.c 文件通过解析用户输入的命令后通过socket 接口发送给后台组件wifi_deamon，由wifi_deamon 组件实现真正的网络功能。freertos下的实现，直接采用函数调用的方式。</li>
<li>wifi_deamon.h：wifi_deamon 头文件</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="编译-wi-fi-manager-demo">编译 Wi-Fi Manager demo<a href="#编译-wi-fi-manager-demo" class="hash-link" aria-label="Direct link to 编译 Wi-Fi Manager demo" title="Direct link to 编译 Wi-Fi Manager demo">​</a></h3>
<p>勾选选项并编译即可</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; System components &gt; aw components &gt; wireless</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] wireless common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [*] Wi-Fi Manager ‑‑‑&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [*] Wi-Fi Manager demo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wi-fi-manager-demo-快速测试命令简介">Wi-Fi Manager demo 快速测试命令简介<a href="#wi-fi-manager-demo-快速测试命令简介" class="hash-link" aria-label="Direct link to Wi-Fi Manager demo 快速测试命令简介" title="Direct link to Wi-Fi Manager demo 快速测试命令简介">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="station-模式常用命令">station 模式常用命令<a href="#station-模式常用命令" class="hash-link" aria-label="Direct link to station 模式常用命令" title="Direct link to station 模式常用命令">​</a></h3>
<table><thead><tr><th style="text-align:left">测试命令</th><th style="text-align:left">解释说明</th></tr></thead><tbody><tr><td style="text-align:left">wifi ‑o sta</td><td style="text-align:left">以sta 模式打开Wi-Fi Manager</td></tr><tr><td style="text-align:left">wifi ‑s</td><td style="text-align:left">扫描周围网络</td></tr><tr><td style="text-align:left">wifi ‑c ssid [passwd]</td><td style="text-align:left">以加密或非加密的方式连接指定网络</td></tr><tr><td style="text-align:left">wifi ‑d</td><td style="text-align:left">断开已经连接的网络</td></tr><tr><td style="text-align:left">wifi ‑l [all]</td><td style="text-align:left">列出保存的网络</td></tr><tr><td style="text-align:left">wifi ‑a [enable/disable]</td><td style="text-align:left">重连断开的网络</td></tr><tr><td style="text-align:left">wifi ‑r [ssid/all]</td><td style="text-align:left">移除保存的指定网络</td></tr></tbody></table>
<blockquote>
<p>ssid 网络名，passwd 密码，在使用 sta 模式其他命令前先要执行wifi ‑o sta 打开sta 模式。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ap-模式常用命令">ap 模式常用命令<a href="#ap-模式常用命令" class="hash-link" aria-label="Direct link to ap 模式常用命令" title="Direct link to ap 模式常用命令">​</a></h3>
<table><thead><tr><th style="text-align:left">测试命令</th><th style="text-align:left">解释说明</th></tr></thead><tbody><tr><td style="text-align:left">wifi ‑o ap [ssid] [passwd]</td><td style="text-align:left">以ap 模式打开Wi-Fi Manager</td></tr><tr><td style="text-align:left">wifi ‑l</td><td style="text-align:left">列出连接到ap 热点的sta 信息</td></tr></tbody></table>
<blockquote>
<p>ssid 网络名，passwd 密码，在使用ap 模式其他命令前先要执行wifi ‑o ap 打开ap 模式。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-模式常用命令">monitor 模式常用命令<a href="#monitor-模式常用命令" class="hash-link" aria-label="Direct link to monitor 模式常用命令" title="Direct link to monitor 模式常用  命令">​</a></h3>
<table><thead><tr><th style="text-align:left">测试命令</th><th style="text-align:left">解释说明</th></tr></thead><tbody><tr><td style="text-align:left">wifi ‑o monitor</td><td style="text-align:left">以monitor 模式打开Wi-Fi Manager</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="额外功能常用命令">额外功能常用命令<a href="#额外功能常用命令" class="hash-link" aria-label="Direct link to 额外功能常用命令" title="Direct link to 额外功能常用命令">​</a></h3>
<table><thead><tr><th style="text-align:left">测试命令</th><th style="text-align:left">解释说明</th></tr></thead><tbody><tr><td style="text-align:left">wifi ‑f</td><td style="text-align:left">关闭Wi-Fi Manager</td></tr><tr><td style="text-align:left">wifi ‑p [softap/ble/xconfig/soundwave]</td><td style="text-align:left">配网</td></tr><tr><td style="text-align:left">wifi ‑D [error/warn/info/debug/dump/exce/open/colse]</td><td style="text-align:left">设置打印等级</td></tr><tr><td style="text-align:left">wifi ‑g</td><td style="text-align:left">获取mac 地址信息</td></tr><tr><td style="text-align:left">wifi ‑i</td><td style="text-align:left">查看网络状态</td></tr><tr><td style="text-align:left">wifi ‑m [macaddr]</td><td style="text-align:left">设置mac 地址</td></tr><tr><td style="text-align:left">wifi ‑e [freertos: XXX]</td><td style="text-align:left">支持扩展命令</td></tr><tr><td style="text-align:left">wifi ‑h</td><td style="text-align:left">打印帮助信息</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/100askTeam/R128-Docs/tree/main/docs/developer-guide/part1/chapter10.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/developer-guide/part1/chapter1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RTOS 多媒体解码</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/developer-guide/part1/chapter11"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">RTOS 异构多核通信</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#wi-fi-简介" class="table-of-contents__link toc-highlight">Wi-Fi 简介</a><ul><li><a href="#wifi-工作的几种模式" class="table-of-contents__link toc-highlight">Wi‑Fi 工作的几种模式</a></li><li><a href="#代码路径" class="table-of-contents__link toc-highlight">代码路径</a></li><li><a href="#配置介绍" class="table-of-contents__link toc-highlight">配置介绍</a></li></ul></li><li><a href="#wi-fi-manager-简介" class="table-of-contents__link toc-highlight">Wi-Fi Manager 简介</a><ul><li><a href="#wi-fi-manager-框架" class="table-of-contents__link toc-highlight">Wi-Fi Manager 框架</a></li><li><a href="#wi-fi-manager-代码目录结构" class="table-of-contents__link toc-highlight">Wi-Fi Manager 代码目录结构</a></li></ul></li><li><a href="#wi-fi-manager-核心代码" class="table-of-contents__link toc-highlight">Wi-Fi Manager 核心代码</a><ul><li><a href="#wi-fi-manager-核心代码目录结构" class="table-of-contents__link toc-highlight">Wi-Fi Manager 核心代码目录结构</a></li></ul></li><li><a href="#wi-fi-manager-核心代码关键结构体说明" class="table-of-contents__link toc-highlight">Wi-Fi Manager 核心代码关键结构体说明</a><ul><li><a href="#定义wi-fi-manager-的错误码" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager 的错误码</a></li><li><a href="#定义wi-fi-manager-支持的模式" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager 支持的模式</a></li><li><a href="#定义wi-fi-manager-网络接口状态" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager 网络接口状态</a></li><li><a href="#定义wi-fi-manager-收到的消息类型" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager 收到的消息类型</a></li><li><a href="#定义wi-fi-manager-的加密方式" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager 的加密方式</a></li><li><a href="#定义wi-fi-manager-station-模式的状态" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager station 模式的状态</a></li><li><a href="#定义wi-fi-manager-station-模式在连接过程中的事件" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager station 模式在连接过程中的事件</a></li><li><a href="#定义-wi-fi-manager-station-模式的一些信息" class="table-of-contents__link toc-highlight">定义 Wi-Fi Manager station 模式的一些信息</a></li><li><a href="#定义wi-fi-manager-station-模式保存的ap-信息" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager station 模式保存的ap 信息</a></li><li><a href="#定义wi-fi-manager-station-模式时要进行连接的ap-的配置信息" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager station 模式时要进行连接的ap 的配置信息</a></li><li><a href="#定义wi-fi-manager-station-模式时扫描到的一条-ap-结果" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager station 模式时扫描到的一条 ap 结果</a></li><li><a href="#定义wi-fi-manager-ap-模式的状态" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager ap 模  式的状态</a></li><li><a href="#定义wi-fi-manager-ap-模式时的事件" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager ap 模式时的事件</a></li><li><a href="#定义wi-fi-manager-ap-模式时开启的ap-热点的配置信息" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager ap 模式时开启的ap 热点的配置信息</a></li><li><a href="#定义wi-fi-manager-monitor-模式的状态" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager monitor 模式的状态</a></li><li><a href="#定义wi-fi-manager-monitor-模式时收到的数据帧" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager monitor 模式时收到的数据帧</a></li><li><a href="#定义wi-fi-manager-p2p-模式时开启p2p-热点的配置信息" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager p2p 模式时开启p2p 热点的配置信息</a></li><li><a href="#定义wi-fi-manager-p2p-模式时p2p-连接成功后的信息" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager p2p 模式时p2p 连接成功后的信息</a></li><li><a href="#定义wi-fi-manager-p2p-模式时的状态" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager p2p 模式时的状态</a></li><li><a href="#定义wi-fi-manager-p2p-模式时的事件" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager p2p 模式时的事件</a></li><li><a href="#定义wi-fi-manager-收到的回调事件" class="table-of-contents__link toc-highlight">定义Wi-Fi Manager 收到的回调事件</a></li></ul></li><li><a href="#wi-fi-manager-核心代码各函数说明" class="table-of-contents__link toc-highlight">Wi-Fi Manager 核心代码各函数说明</a><ul><li><a href="#初始化wi-fi-manager" class="table-of-contents__link toc-highlight">初始化Wi-Fi Manager</a></li><li><a href="#反初始化wi-fi-manager" class="table-of-contents__link toc-highlight">反初始化Wi-Fi Manager</a></li><li><a href="#打开wi-fi-manager-某种模式" class="table-of-contents__link toc-highlight">打开Wi-Fi Manager 某种模式</a></li><li><a href="#关闭wi-fi-manager" class="table-of-contents__link toc-highlight">关闭Wi-Fi Manager</a></li><li><a href="#sta-模式下连接ap" class="table-of-contents__link toc-highlight">sta 模式下连接ap</a></li><li><a href="#sta-模式下断开与ap-的连接" class="table-of-contents__link toc-highlight">sta 模式下断开与ap 的连接</a></li><li><a href="#sta-模式下自动连接上某个ap" class="table-of-contents__link toc-highlight">sta 模式下自动连接上某个ap</a></li><li><a href="#sta-模式下获取当前状态的一些信息" class="table-of-contents__link toc-highlight">sta 模式下获取当前状态的一些信息</a></li><li><a href="#sta-模式下列出已保存的ap-的信息" class="table-of-contents__link toc-highlight">sta 模式下列出已保存的ap 的信息</a></li><li><a href="#sta-模式下移除某个ap-信息" class="table-of-contents__link toc-highlight">sta 模式下移除某个ap 信息</a></li><li><a href="#ap-模式下使能ap-热点功能" class="table-of-contents__link toc-highlight">ap 模式下使能ap 热点功能</a></li><li><a href="#ap-模式下关闭ap-热点功能" class="table-of-contents__link toc-highlight">ap 模式下关闭ap 热点功能</a></li><li><a href="#ap-模式下获取当前ap-热点的配置信息" class="table-of-contents__link toc-highlight">ap 模式下获取当前ap 热点的配置信息</a></li><li><a href="#monitor-模式使能monitor-功能" class="table-of-contents__link toc-highlight">monitor 模式使能monitor 功能</a></li><li><a href="#monitor-模式下动态切换监听的信道" class="table-of-contents__link toc-highlight">monitor 模式下动态切换监听的信道</a></li><li><a href="#monitor-模式下关闭monitor-功能" class="table-of-contents__link toc-highlight">monitor 模式下关闭monitor 功能</a></li><li><a href="#p2p-模式下使能p2p-功能" class="table-of-contents__link toc-highlight">p2p 模式下使能p2p 功能</a></li><li><a href="#p2p- 模式下关闭p2p-功能" class="table-of-contents__link toc-highlight">p2p 模式下关闭p2p 功能</a></li><li><a href="#p2p-模式下发起扫描" class="table-of-contents__link toc-highlight">p2p 模式下发起扫描</a></li><li><a href="#p2p-模式下连接另外一个p2p-设备" class="table-of-contents__link toc-highlight">p2p 模式下连接另外一个p2p 设备</a></li><li><a href="#p2p-模式下断开已连接的p2p-设备" class="table-of-contents__link toc-highlight">p2p 模式下断开已连接的p2p 设备</a></li><li><a href="#p2p-模式下获取p2p-设备的某些信息" class="table-of-contents__link toc-highlight">p2p 模式下获取p2p 设备的某些信息</a></li><li><a href="#任意模式下注册回调函数" class="table-of-contents__link toc-highlight">任意模式下注册回调函数</a></li><li><a href="#sta-模式下设置扫描参数" class="table-of-contents__link toc-highlight">sta 模式下设置扫描参数</a></li><li><a href="#sta-模式下获取扫描结果" class="table-of-contents__link toc-highlight">sta 模式下获取扫描结果</a></li><li><a href="#任意模式下设置mac-地址" class="table-of-contents__link toc-highlight">任意模式下设置mac 地址</a></li><li><a href="#任意模式下获取mac-地址" class="table-of-contents__link toc-highlight">任意模式下获取mac 地址</a></li><li><a href="#配网模式" class="table-of-contents__link toc-highlight">配网模式</a></li><li><a href="#任意模式下获取wi-fi-manager-的状态信息" class="table-of-contents__link toc-highlight">任意模式下获取Wi-Fi Manager 的状态信息</a></li></ul></li><li><a href="#wi-fi-manager-核心代码函数调用流程介绍" class="table-of-contents__link toc-highlight">Wi-Fi Manager 核心代码函数调用流程介绍</a><ul><li><a href="#以某种模式打开wi-fi-manager" class="table-of-contents__link toc-highlight">以某种模式打开Wi-Fi Manager</a></li><li><a href="#station-模式关闭wi-fi-manager" class="table-of-contents__link toc-highlight">station 模式—关闭Wi-Fi Manager</a></li><li><a href="#station-模式扫描环境中存在哪些ap" class="table-of-contents__link toc-highlight">station 模式—扫描环境中存在哪些ap</a></li><li><a href="#station-模式连接某个特定的ap" class="table-of-contents__link toc-highlight">station 模式—连接某个特定的ap</a></li><li><a href="#station-模式断开与某个ap-的连接" class="table-of-contents__link toc-highlight">station 模式—断开与某个ap 的连接</a></li><li><a href="#station-模式设置自动连接功能" class="table-of-contents__link toc-highlight">station 模式—设置自动连接功能</a></li><li><a href="#station-模式列出已保存的ap-列表信息" class="table-of-contents__link toc-highlight">station 模式—列出已保存的ap 列表信息</a></li><li><a href="#station-模式列出连接的ap-信息" class="table-of-contents__link toc-highlight">station 模式—列出连接的ap 信息</a></li><li><a href="#station-模式移除某个或全部已保存的ap-信息" class="table-of-contents__link toc-highlight">station 模式—移除某个或全部已保存的ap 信息</a></li><li><a href="#ap-模式启动ap-节点" class="table-of-contents__link toc-highlight">ap 模式—启动ap 节点</a></li><li><a href="#ap-模式获取ap-配置信息" class="table-of-contents__link toc-highlight">ap 模式—获取ap 配置信息</a></li><li><a href="#ap-模式关闭ap-热点" class="table-of-contents__link toc-highlight">ap 模式—关闭ap 热点</a></li><li><a href="#monitor-模式使用monitor-功能" class="table-of-contents__link toc-highlight">monitor 模式—使用monitor 功能</a></li><li><a href="#monitor-模式切换监听的信道" class="table-of-contents__link toc-highlight">monitor 模式—切换监听的信道</a></li><li><a href="#monitor-模式关闭monitor-功能" class="table-of-contents__link toc-highlight">monitor 模式—关闭monitor 功能</a></li><li><a href="#p2p-模式启动p2p-功能" class="table-of-contents__link toc-highlight">p2p 模式—启动p2p 功能</a></li><li><a href="#p2p-模式关闭p2p-功能" class="table-of-contents__link toc-highlight">p2p 模式—关闭p2p 功能</a></li><li><a href="#p2p-模式扫描周围p2p-设备" class="table-of-contents__link toc-highlight">p2p 模式—扫描周围p2p 设备</a></li><li><a href="#p2p-模式连接某个p2p-设备" class="table-of-contents__link toc-highlight">p2p 模式—连接某个p2p 设备</a></li><li><a href="#p2p-模式断开与p2p-设备的连接" class="table-of-contents__link toc-highlight">p2p 模式—断开与p2p 设备的连接</a></li><li><a href="#p2p-模式获取p2p-设备信息" class="table-of-contents__link toc-highlight">p2p 模式—获取p2p 设备信息</a></li><li><a href="#任意模式获取mac-地址" class="table-of-contents__link toc-highlight">任意模式—获取mac 地址</a></li><li><a href="#任意模式设置mac-地址" class="table-of-contents__link toc-highlight">任意模式—设置mac 地址</a></li><li><a href="#任意模式获取打印等级" class="table-of-contents__link toc-highlight">任意模式—获取打印等级</a></li><li><a href="#任意模式设置打印等级" class="table-of-contents__link toc-highlight">任意模式—设置打印等级</a></li></ul></li><li><a href="#wi-fi-manager-配网模式" class="table-of-contents__link toc-highlight">Wi-Fi Manager 配网模式</a><ul><li><a href="#wifimager-配网模式简介" class="table-of-contents__link toc-highlight">wifimager 配网模式简介</a></li><li><a href="#wi-fi-manager-扩展模式" class="table-of-contents__link toc-highlight">Wi-Fi Manager 扩展模式</a></li></ul></li><li><a href="#wi-fi-manager-demo" class="table-of-contents__link toc-highlight">Wi-Fi Manager demo</a><ul><li><a href="#wi-fi-manager-demo-目录结构" class="table-of-contents__link toc-highlight">Wi-Fi Manager demo 目录结构</a></li><li><a href="#编译-wi-fi-manager-demo" class="table-of-contents__link toc-highlight">编译 Wi-Fi Manager demo</a></li></ul></li><li><a href="#wi-fi-manager-demo-快速测试命令简介" class="table-of-contents__link toc-highlight">Wi-Fi Manager demo 快速测试命令简介</a><ul><li><a href="#station-模式常用命令" class="table-of-contents__link toc-highlight">station 模式常用命令</a></li><li><a href="#ap-模式常用命令" class="table-of-contents__link toc-highlight">ap 模式常用命令</a></li><li><a href="#monitor-模式常用命令" class="table-of-contents__link toc-highlight">monitor 模式常用命令</a></li><li><a href="#额外功能常用命令" class="table-of-contents__link toc-highlight">额外功能常用命令</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dongshanpi.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">DongshanPI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://canaan-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Canaan-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://renesas-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Renesas-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rtos.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">RTOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tina.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TinaSDK-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://allwinner-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Allwinner-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aw-r128.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">R128-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://space.bilibili.com/275908810" target="_blank" rel="noopener noreferrer" class="footer__link-item">BiliBili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forums.100ask.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://video.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VideoCenter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dongshanpi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://weidongshan.coding.net/public/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coding<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/100askTeam" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/weidongshan" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 100askTeam, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>