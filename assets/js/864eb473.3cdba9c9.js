"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8716],{994:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>s,default:()=>o,frontMatter:()=>i,metadata:()=>d,toc:()=>p});var l=r(5893),a=r(1151);const i={},s="RTOS \u591a\u5a92\u4f53\u89e3\u7801",d={id:"developer-guide/part1/chapter1",title:"RTOS \u591a\u5a92\u4f53\u89e3\u7801",description:"\u4ecb\u7ecd FreeRTOS \u4e0b\u5982\u4f55\u4f7f\u7528 rtplayer \u7684\u63a5\u53e3\u6765\u5f00\u53d1\u64ad\u653e\u5668\u5e94\u7528\u7a0b\u5e8f\uff0c\u65b9\u4fbf\u64ad\u653e\u5668\u5f00\u53d1\u4eba\u5458\u5feb\u901f\u6b63\u786e\u5730\u5f00\u53d1\uff0c\u4ee5\u53ca\u64ad\u653e\u5668\u6d4b\u8bd5\u4eba\u5458\u5982\u4f55\u6839\u636e\u8be5\u6587\u6863\u5bf9 rtplayer \u64ad\u653e\u5668\u8fdb\u884c\u9a8c\u8bc1\u6d4b\u8bd5\u3002",source:"@site/docs/developer-guide/part1/chapter1.md",sourceDirName:"developer-guide/part1",slug:"/developer-guide/part1/chapter1",permalink:"/developer-guide/part1/chapter1",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/R128-Docs/tree/main/docs/developer-guide/part1/chapter1.md",tags:[],version:"current",frontMatter:{},sidebar:"classpartoneSidebar",previous:{title:"\u57fa\u7840\u7ec4\u4ef6\u5f00\u53d1\u6307\u5357",permalink:"/category/\u57fa\u7840\u7ec4\u4ef6\u5f00\u53d1\u6307\u5357"},next:{title:"Wi-Fi - Wi-Fi Manager",permalink:"/developer-guide/part1/chapter10"}},t={},p=[{value:"rtplayer \u72b6\u6001\u56fe",id:"rtplayer-\u72b6\u6001\u56fe",level:3},{value:"Idle \u72b6\u6001",id:"idle-\u72b6\u6001",level:4},{value:"Initialized \u72b6\u6001",id:"initialized-\u72b6\u6001",level:4},{value:"Preparing \u72b6\u6001",id:"preparing-\u72b6\u6001",level:4},{value:"Prepared \u72b6\u6001",id:"prepared-\u72b6\u6001",level:4},{value:"Started \u72b6\u6001",id:"started-\u72b6\u6001",level:4},{value:"Paused \u72b6\u6001",id:"paused-\u72b6\u6001",level:4},{value:"Stopped \u72b6\u6001",id:"stopped-\u72b6\u6001",level:4},{value:"PlaybackCompleted \u72b6\u6001",id:"playbackcompleted-\u72b6\u6001",level:4},{value:"Error \u72b6\u6001",id:"error-\u72b6\u6001",level:4},{value:"End \u72b6\u6001",id:"end-\u72b6\u6001",level:4},{value:"rtplayer \u5c42\u63a5\u53e3",id:"rtplayer-\u5c42\u63a5\u53e3",level:2},{value:"\u521b\u5efa\u4e00\u4e2a rtplayer",id:"\u521b\u5efa\u4e00\u4e2a-rtplayer",level:3},{value:"\u9500\u6bc1\u4e00\u4e2a rtplayer",id:"\u9500\u6bc1\u4e00\u4e2a-rtplayer",level:3},{value:"\u8bbe\u7f6e rtplayer \u7684\u6d88\u606f\u56de\u8c03\u51fd\u6570",id:"\u8bbe\u7f6e-rtplayer-\u7684\u6d88\u606f\u56de\u8c03\u51fd\u6570",level:3},{value:"\u8bbe\u7f6e\u64ad\u653e\u6587\u4ef6\u7684 url",id:"\u8bbe\u7f6e\u64ad\u653e\u6587\u4ef6\u7684-url",level:3},{value:"\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6\u5143\u6570\u636e",id:"\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\u83b7\u53d6\u5143\u6570\u636e",level:3},{value:"\u5f02\u6b65\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6\u5143\u6570\u636e",id:"\u5f02\u6b65\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\u83b7\u53d6\u5143\u6570\u636e",level:3},{value:"\u5f00\u59cb\u64ad\u653e",id:"\u5f00\u59cb\u64ad\u653e",level:3},{value:"\u6682\u505c\u64ad\u653e",id:"\u6682\u505c\u64ad\u653e",level:3},{value:"\u505c\u6b62\u64ad\u653e",id:"\u505c\u6b62\u64ad\u653e",level:3},{value:"\u91cd\u7f6e\u64ad\u653e\u5668",id:"\u91cd\u7f6e\u64ad\u653e\u5668",level:3},{value:"\u8df3\u64ad",id:"\u8df3\u64ad",level:3},{value:"\u83b7\u53d6\u5f53\u524d\u64ad\u653e\u7684\u4f4d\u7f6e",id:"\u83b7\u53d6\u5f53\u524d\u64ad\u653e\u7684\u4f4d\u7f6e",level:3},{value:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u603b\u65f6\u957f",id:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u603b\u65f6\u957f",level:3},{value:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u4fe1\u606f",id:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u4fe1\u606f",level:3},{value:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f",id:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f",level:3},{value:"XPlayer \u5c42\u64ad\u653e\u63a5\u53e3",id:"xplayer-\u5c42\u64ad\u653e\u63a5\u53e3",level:2},{value:"\u521b\u5efa\u4e00\u4e2a XPlayer",id:"\u521b\u5efa\u4e00\u4e2a-xplayer",level:3},{value:"\u8bbe\u7f6e XPlayer \u7684\u56de\u8c03\u901a\u77e5",id:"\u8bbe\u7f6e-xplayer-\u7684\u56de\u8c03\u901a\u77e5",level:3},{value:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\uff0c\u7528\u4e8e\u64ad\u653e\u97f3\u9891",id:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\u7528\u4e8e\u64ad\u653e\u97f3\u9891",level:3},{value:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\uff0c\u7528\u4e8e\u64ad\u653e\u97f3\u9891",id:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\u7528\u4e8e\u64ad\u653e\u97f3\u9891-1",level:3},{value:"\u5c06 XPlayer \u7f6e\u4e3a\u51c6\u5907\u72b6\u6001, \u89e3\u6790\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6\u5143\u6570\u636e",id:"\u5c06-xplayer-\u7f6e\u4e3a\u51c6\u5907\u72b6\u6001-\u89e3\u6790\u5934\u90e8\u4fe1\u606f\u83b7\u53d6\u5143\u6570\u636e",level:3},{value:"\u5c06 XPlayer \u7f6e\u4e3a\u5f02\u6b65\u51c6\u5907\u72b6\u6001",id:"\u5c06-xplayer-\u7f6e\u4e3a\u5f02\u6b65\u51c6\u5907\u72b6\u6001",level:3},{value:"\u5c06 XPlayer \u7f6e\u4e3a\u542f\u52a8\u72b6\u6001",id:"\u5c06-xplayer-\u7f6e\u4e3a\u542f\u52a8\u72b6\u6001",level:3},{value:"\u5c06 XPlayer \u7f6e\u4e3a\u6682\u505c\u72b6\u6001",id:"\u5c06-xplayer-\u7f6e\u4e3a\u6682\u505c\u72b6\u6001",level:3},{value:"\u5c06 XPlayer \u7f6e\u4e3a\u505c\u6b62\u72b6\u6001",id:"\u5c06-xplayer-\u7f6e\u4e3a\u505c\u6b62\u72b6\u6001",level:3},{value:"\u91cd\u7f6e XPlayer",id:"\u91cd\u7f6e-xplayer",level:3},{value:"\u83b7\u53d6\u8282\u76ee\u65f6\u957f",id:"\u83b7\u53d6\u8282\u76ee\u65f6\u957f",level:3},{value:"Seek \u5230\u7ed9\u5b9a\u7684\u65f6\u95f4\u70b9",id:"seek-\u5230\u7ed9\u5b9a\u7684\u65f6\u95f4\u70b9",level:3},{value:"\u83b7\u53d6\u5a92\u4f53\u6587\u4ef6\u7684\u603b\u65f6\u957f",id:"\u83b7\u53d6\u5a92\u4f53\u6587\u4ef6\u7684\u603b\u65f6\u957f",level:3},{value:"\u83b7\u53d6\u5f53\u524d\u7684\u64ad\u653e\u65f6\u95f4\u70b9\uff08\u5373\u64ad\u653e\u4f4d\u7f6e\uff09",id:"\u83b7\u53d6\u5f53\u524d\u7684\u64ad\u653e\u65f6\u95f4\u70b9\u5373\u64ad\u653e\u4f4d\u7f6e",level:3},{value:"\u83b7\u53d6\u5a92\u4f53\u4fe1\u606f",id:"\u83b7\u53d6\u5a92\u4f53\u4fe1\u606f",level:3},{value:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f",id:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f-1",level:3},{value:"\u67e5\u8be2\u662f\u5426\u6b63\u5728\u64ad\u653e",id:"\u67e5\u8be2\u662f\u5426\u6b63\u5728\u64ad\u653e",level:3},{value:"\u9500\u6bc1\u4e00\u4e2a XPlayer",id:"\u9500\u6bc1\u4e00\u4e2a-xplayer",level:3},{value:"\u64ad\u653e\u5668\u5f00\u53d1\u793a\u4f8b",id:"\u64ad\u653e\u5668\u5f00\u53d1\u793a\u4f8b",level:2},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"rtos-\u591a\u5a92\u4f53\u89e3\u7801",children:"RTOS \u591a\u5a92\u4f53\u89e3\u7801"}),"\n",(0,l.jsx)(n.p,{children:"\u4ecb\u7ecd FreeRTOS \u4e0b\u5982\u4f55\u4f7f\u7528 rtplayer \u7684\u63a5\u53e3\u6765\u5f00\u53d1\u64ad\u653e\u5668\u5e94\u7528\u7a0b\u5e8f\uff0c\u65b9\u4fbf\u64ad\u653e\u5668\u5f00\u53d1\u4eba\u5458\u5feb\u901f\u6b63\u786e\u5730\u5f00\u53d1\uff0c\u4ee5\u53ca\u64ad\u653e\u5668\u6d4b\u8bd5\u4eba\u5458\u5982\u4f55\u6839\u636e\u8be5\u6587\u6863\u5bf9 rtplayer \u64ad\u653e\u5668\u8fdb\u884c\u9a8c\u8bc1\u6d4b\u8bd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"rtplayer-\u72b6\u6001\u56fe",children:"rtplayer \u72b6\u6001\u56fe"}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u5f20\u72b6\u6001\u8f6c\u6362\u56fe\u6e05\u6670\u5730\u63cf\u8ff0\u4e86 rtlayer \u7684\u5404\u4e2a\u72b6\u6001\uff0c\u4e5f\u5217\u4e3e\u4e86\u4e3b\u8981\u7684\u65b9\u6cd5\u7684\u8c03\u7528\u65f6\u5e8f\uff0c\u6bcf\u79cd\u65b9\u6cd5\u53ea\u80fd\u5728\u4e00\u4e9b\u7279\u5b9a\u7684\u72b6\u6001\u4e0b\u4f7f\u7528\uff0c\u5426\u5219\u4f1a\u51fa\u9519\u3002\u53e6\u5916\uff0c\u53ea\u6709\u5728 Prepared\u3001Started\u3001Paused\u3001Play\u2011backCompleted \u8fd9\u56db\u79cd\u72b6\u6001\u4e0b\u53ef\u4ee5\u8fdb\u884c seekTo() \u64cd\u4f5c\uff0c\u5e76\u4e14 seekTo() \u4e4b\u540e\uff0c\u72b6\u6001\u4e0d\u53d8\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part1/chapter1/image1.png",alt:""})}),"\n",(0,l.jsx)(n.h4,{id:"idle-\u72b6\u6001",children:"Idle \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"Idle \u72b6\u6001\uff1a\u5f53\u8c03\u7528 player_init() \u521b\u5efa\u4e00\u4e2a rtplayer \u6216\u8005\u8c03\u7528\u4e86\u5176 reset() \u65b9\u6cd5\u65f6\uff0crtplayer \u5904\u4e8e idle\u72b6\u6001\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"initialized-\u72b6\u6001",children:"Initialized \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u4e2a\u72b6\u6001\u6bd4\u8f83\u7b80\u5355\uff0c\u8c03\u7528 setDateSource_url() \u65b9\u6cd5\u5c31\u8fdb\u5165 Initialized \u72b6\u6001\uff0c\u8868\u793a\u6b64\u65f6\u8981\u64ad\u653e\u7684\u6587\u4ef6\u5df2\u7ecf\u8bbe\u7f6e\u597d\u4e86"}),"\n",(0,l.jsx)(n.h4,{id:"preparing-\u72b6\u6001",children:"Preparing \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u8c03\u7528 prepare() \u51fd\u6570\u8fd8\u6ca1\u8fd4\u56de\u6216\u8005\u662f\u8c03\u7528 prepareAsync() \u5e76\u4e14\u8fd8\u6ca1\u6536\u5230 RTPLAYER_NOTIFY_PREPARED \u8fd9\u4e2a\u56de\u8c03\u6d88\u606f\u7684\u65f6\u5019\u5c31\u5904\u4e8e Preparing \u72b6\u6001"}),"\n",(0,l.jsx)(n.h4,{id:"prepared-\u72b6\u6001",children:"Prepared \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u8c03\u7528 prepare() \u51fd\u6570\u5df2\u7ecf\u8fd4\u56de\u6216\u8005\u662f\u8c03\u7528 prepareAsync() \u5e76\u4e14\u5df2\u7ecf\u6536\u5230 RTPLAYER_NOTIFY_PREPARED \u8fd9\u4e2a\u56de\u8c03\u6d88\u606f\u4e4b\u540e\u7684\u72b6\u6001\u5c31\u5904\u4e8e Prepared \u72b6\u6001\u3002\u5728\u8fd9\u4e2a\u72b6\u6001\u4e0b\u8bf4\u660e\u6240\u6709\u7684\u8d44\u6e90\u90fd\u5df2\u7ecf\u5c31\u7eea\u4e86\uff0c\u8c03\u7528 start() \u51fd\u6570\u5c31\u53ef\u4ee5\u64ad\u653e\u4e86\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"started-\u72b6\u6001",children:"Started \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"rtplayer \u4e00\u65e6 prepare \u5b8c\u6210\uff0c\u5c31\u53ef\u4ee5\u8c03\u7528 start() \u65b9\u6cd5\uff0c\u8fd9\u6837 rtplayer \u5c31\u5904\u4e8e Started \u72b6\u6001\uff0c\u8fd9\u8868\u660e rtplayer \u6b63\u5728\u64ad\u653e\u6587\u4ef6\u8fc7\u7a0b\u4e2d\u3002\u53ef\u4ee5\u4f7f\u7528 XPlayerIsPlaying() \u6d4b\u8bd5 rtplayer \u662f\u5426\u5904\u4e8e\u4e86 Started \u72b6\u6001\u3002\u5982\u679c\u64ad\u653e\u5b8c\u6bd5\uff0c\u800c\u53c8\u8bbe\u7f6e\u4e86\u5faa\u73af\u64ad\u653e\uff0c\u5219 rtplayer \u4ecd\u7136\u4f1a\u5904\u4e8e Started \u72b6\u6001\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"paused-\u72b6\u6001",children:"Paused \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"Started \u72b6\u6001\u4e0b\u53ef\u4ee5\u8c03\u7528 pause_l() \u65b9\u6cd5\u6682\u505c rtplayer\uff0c\u4ece\u800c\u8fdb\u5165 Paused \u72b6\u6001\uff0crtplayer \u6682\u505c\u540e\u518d\u6b21\u8c03\u7528 start() \u5219\u53ef\u4ee5\u7ee7\u7eed TPlayer \u7684\u64ad\u653e\uff0c\u8f6c\u5230 Started \u72b6\u6001\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"stopped-\u72b6\u6001",children:"Stopped \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"Started \u6216\u8005 Paused \u72b6\u6001\u4e0b\u5747\u53ef\u8c03\u7528 stop() \u505c\u6b62 rtplayer\uff0c\u800c\u5904\u4e8e Stop \u72b6\u6001\u7684 rtplayer \u8981\u60f3\u91cd\u65b0\u64ad\u653e\uff0c\u9700\u8981\u901a\u8fc7 prepareAsync() \u548c prepare() \u56de\u5230\u5148\u524d\u7684 Prepared \u72b6\u6001\u91cd\u65b0\u5f00\u59cb\u624d\u53ef\u4ee5\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"playbackcompleted-\u72b6\u6001",children:"PlaybackCompleted \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u6587\u4ef6\u6b63\u5e38\u64ad\u653e\u5b8c\u6bd5\uff0c\u800c\u53c8\u6ca1\u6709\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u7684\u8bdd\u5c31\u8fdb\u5165\u8be5\u72b6\u6001\uff0c\u5e76\u4e14\u4f1a\u901a\u8fc7 RTPLAYER_NOTIFY_PLAYBACK_COMPLETE \u8fd9\u4e2a\u6d88\u606f\u56de\u8c03\u7ed9\u5e94\u7528\u3002\u6b64\u65f6\u53ef\u4ee5\u8c03\u7528 start() \u65b9\u6cd5\u91cd\u65b0\u4ece\u5934\u64ad\u653e\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5 stop() \u505c\u6b62 rtplayer\uff0c\u6216\u8005\u4e5f\u53ef\u4ee5 seekTo() \u6765\u91cd\u65b0\u5b9a\u4f4d\u64ad\u653e\u4f4d\u7f6e\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"error-\u72b6\u6001",children:"Error \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u7531\u4e8e\u67d0\u79cd\u539f\u56e0 rtplayer \u51fa\u73b0\u4e86\u9519\u8bef\uff0c\u5c31\u4f1a\u8fdb\u5165\u8be5\u72b6\u6001\uff0c\u5e76\u4e14\u4f1a\u901a\u8fc7 RTPLAYER_NOTIFY_MEDIA_ERROR \u8fd9\u4e2a\u6d88\u606f\u56de\u8c03\u7ed9\u5e94\u7528\u3002\u5982\u679c rtplayer \u8fdb\u5165\u4e86 Error \u72b6\u6001\uff0c\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 reset() \u6765\u6062\u590d\uff0c\u4f7f\u5f97 rtplayer \u91cd\u65b0\u8fd4\u56de\u5230 Idle \u72b6\u6001\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"end-\u72b6\u6001",children:"End \u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u901a\u8fc7 plater_deinit() \u7684\u65b9\u6cd5\u53ef\u4ee5\u8fdb\u5165 End \u72b6\u6001\uff0c\u53ea\u8981 rtplayer \u4e0d\u518d\u88ab\u4f7f\u7528\uff0c\u5c31\u5e94\u5f53\u5c3d\u5feb\u5c06\u5176 destroy \u6389\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"rtplayer-\u5c42\u63a5\u53e3",children:"rtplayer \u5c42\u63a5\u53e3"}),"\n",(0,l.jsx)(n.h3,{id:"\u521b\u5efa\u4e00\u4e2a-rtplayer",children:"\u521b\u5efa\u4e00\u4e2a rtplayer"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"uint32_t player_init(void)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u65e0"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de rtplayer \u7684\u6307\u9488\uff0c\u5931\u8d25\u8fd4\u56de NULL"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u9500\u6bc1\u4e00\u4e2a-rtplayer",children:"\u9500\u6bc1\u4e00\u4e2a rtplayer"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"void player_deinit(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u65e0"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8bbe\u7f6e-rtplayer-\u7684\u6d88\u606f\u56de\u8c03\u51fd\u6570",children:"\u8bbe\u7f6e rtplayer \u7684\u6d88\u606f\u56de\u8c03\u51fd\u6570"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"void registerCallback(void* handle, void* userData, player_callback_t fn)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"userData: \u56de\u8c03\u6d88\u606f\u5904\u7406\u5bf9\u8c61"}),"\n",(0,l.jsx)(n.li,{children:"fn: \u56de\u8c03\u6d88\u606f\u5904\u7406\u51fd\u6570\u6307\u9488\uff0c\u9700\u8981\u7531\u5e94\u7528\u5b9e\u73b0"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u65e0"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u521b\u5efa\u5b8c rtplayer \u64ad\u653e\u5668\u4e4b\u540e\uff0c\u5c31\u8981\u8c03\u7528\u8be5\u51fd\u6570\u8bbe\u7f6e\u56de\u8c03\u6d88\u606f\u5904\u7406\u51fd\u6570\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8bbe\u7f6e\u64ad\u653e\u6587\u4ef6\u7684-url",children:"\u8bbe\u7f6e\u64ad\u653e\u6587\u4ef6\u7684 url"}),"\n",(0,l.jsx)(n.p,{children:"\u53ef\u4ee5\u662f\u672c\u5730\u6587\u4ef6\u4e5f\u53ef\u4ee5\u662f\u7f51\u7edc\u6e90"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t setDataSource_url(void* handle,void* userData, const char * url, int id)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"userData: \u56de\u8c03\u6d88\u606f\u5904\u7406\u5bf9\u8c61"}),"\n",(0,l.jsx)(n.li,{children:"url: \u9700\u8981\u64ad\u653e\u7684\u6587\u4ef6\u7684 url"}),"\n",(0,l.jsx)(n.li,{children:"id: \u56de\u8c03\u65f6\u4f7f\u7528\u7684\u64ad\u653e\u7d22\u5f15, \u4e3a 0 \u5373\u53ef"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111 \u6216\u9519\u8bef\u7801"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\u83b7\u53d6\u5143\u6570\u636e",children:"\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6\u5143\u6570\u636e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t prepare(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111 \u6216\u9519\u8bef\u7801"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5f02\u6b65\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\u83b7\u53d6\u5143\u6570\u636e",children:"\u5f02\u6b65\u89e3\u6790\u6587\u4ef6\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6\u5143\u6570\u636e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t prepareAsync(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u8be5\u51fd\u6570\u662f\u975e\u963b\u585e\u51fd\u6570\uff0c\u9700\u8981\u7b49\u5230 RTPLAYER_NOTIFY_P\u2011 REPARED \u6d88\u606f\u56de\u8c03\u4e4b\u540e\u624d\u80fd\u8c03 start() \u51fd\u6570\u8fdb\u884c\u64ad\u653e\uff0c\u800c\u4e14 start() \u51fd\u6570\u4e0d\u80fd\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u8c03\u7528"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5f00\u59cb\u64ad\u653e",children:"\u5f00\u59cb\u64ad\u653e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t start(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u6682\u505c\u64ad\u653e",children:"\u6682\u505c\u64ad\u653e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:" status_t pause_l(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u505c\u6b62\u64ad\u653e",children:"\u505c\u6b62\u64ad\u653e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:" status_t stop(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u7f6e\u64ad\u653e\u5668",children:"\u91cd\u7f6e\u64ad\u653e\u5668"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t reset(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u5728\u4efb\u4f55\u72b6\u6001\u4e0b\u90fd\u53ef\u4ee5\u8c03\u7528\u8be5\u51fd\u6570\uff0c\u6bcf\u6b21\u64ad\u653e\u4e0d\u540c\u7684\u97f3\u9891\u4e4b\u524d\uff0c\u90fd\u9700\u8981\u8c03\u7528\u8be5\u51fd\u6570\u91cd\u7f6e\u64ad\u653e\u5668\uff0c\u53e6\u5916\uff0c\u4e00\u822c\u6536\u5230 RTPLAYER_NOTIFY_MEDIA_ERROR \u8fd9\u4e2a\u6d88\u606f\u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u901a\u8fc7\u8c03\u7528\u8be5\u51fd\u6570\u6765\u91cd\u7f6e\u64ad\u653e\u5668\u3002\u4f46\u662f\u4e0d\u80fd\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u8c03\u7528\u8be5\u51fd\u6570\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u6b7b\u9501"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8df3\u64ad",children:"\u8df3\u64ad"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t seekTo(void* handle, int sec)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"sec: \u8df3\u64ad\u7684\u4f4d\u7f6e\uff0c\u5355\u4f4d\u662f\uff1as"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u83b7\u53d6\u5f53\u524d\u64ad\u653e\u7684\u4f4d\u7f6e",children:"\u83b7\u53d6\u5f53\u524d\u64ad\u653e\u7684\u4f4d\u7f6e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t getCurrentPosition(void* handle, int * sec)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n",(0,l.jsx)(n.li,{children:"sec: \u5b58\u653e\u5f53\u524d\u64ad\u653e\u7684\u4f4d\u7f6e\u503c\uff0c\u5355\u4f4d\uff1as"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u603b\u65f6\u957f",children:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u603b\u65f6\u957f"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t getDuration(void* handle, int * sec)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n",(0,l.jsx)(n.li,{children:"sec: \u5b58\u50a8\u6587\u4ef6\u603b\u65f6\u957f\uff0c\u5355\u4f4d\uff1as"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u9700\u8981\u5728 prepared \u72b6\u6001\u4e4b\u540e\u624d\u53ef\u4ee5\u8c03\u7528\u8be5\u51fd\u6570"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u4fe1\u606f",children:"\u83b7\u53d6\u64ad\u653e\u7684\u6587\u4ef6\u4fe1\u606f"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"MediaInfo* getMediaInfo(void* handle)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u9700\u8981\u5728 prepared \u72b6\u6001\u4e4b\u540e\u624d\u53ef\u4ee5\u8c03\u7528\u8be5\u51fd\u6570"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f",children:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"status_t setLooping(void* handle, int loop)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"handle: \u901a\u8fc7 player_init() \u51fd\u6570\u521b\u5efa\u7684 rtplayer \u6307\u9488;"}),"\n",(0,l.jsx)(n.li,{children:"loop:1 \u8868\u793a\u5355\u66f2\u5faa\u73af\uff0c0 \u8868\u793a\u4e0d\u4f1a\u5355\u66f2\u5faa\u73af"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"xplayer-\u5c42\u64ad\u653e\u63a5\u53e3",children:"XPlayer \u5c42\u64ad\u653e\u63a5\u53e3"}),"\n",(0,l.jsx)(n.h3,{id:"\u521b\u5efa\u4e00\u4e2a-xplayer",children:"\u521b\u5efa\u4e00\u4e2a XPlayer"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"XPlayer* XPlayerCreate()\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u65e0"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f: XPlayer \u6307\u9488; \u5931\u8d25: NULL"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8bbe\u7f6e-xplayer-\u7684\u56de\u8c03\u901a\u77e5",children:"\u8bbe\u7f6e XPlayer \u7684\u56de\u8c03\u901a\u77e5"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerSetNotifyCallback(XPlayer* p, XPlayerNotifyCallback notifier, void* pUserData)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"P\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 Xplayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"notifier\uff1a\u56de\u8c03\u901a\u77e5"}),"\n",(0,l.jsx)(n.li,{children:"pUserData\uff1a\u5e94\u7528\u7a0b\u5e8f\u4f20\u4e0b\u6765\u7684\u81ea\u5b9a\u4e49\u6570\u636e"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1aXPlayer \u6307\u9488\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Xplayer \u5c06\u63a5\u6536\u6765\u81ea\u4e0b\u5c42\u7684\u56de\u8c03\u901a\u77e5\uff0c\u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\u7528\u4e8e\u64ad\u653e\u97f3\u9891",children:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\uff0c\u7528\u4e8e\u64ad\u653e\u97f3\u9891"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"SoundCtrl* RTSoundDeviceCreate(int card)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["card:\u58f0\u5361\u5e8f\u53f70\uff1adefault;1\uff1asw",":audio1",";2:sw",":audio2",";3:sw",":audio3",";4:sw",":audio4",";5:sw",":audio5"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\u7528\u4e8e\u64ad\u653e\u97f3\u9891-1",children:"\u521b\u5efa\u6307\u5411\u97f3\u9891\u64ad\u653e\u8bbe\u5907\u7ba1\u7406\u6a21\u5757\u7684\u6307\u9488\uff0c\u7528\u4e8e\u64ad\u653e\u97f3\u9891"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerSetDataSourceUrl(XPlayer* p, const char* pUrl, void* httpService, const CdxKeyedVectorT* pHeaders)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"pUrl\uff1aurl \u5730\u5740"}),"\n",(0,l.jsx)(n.li,{children:"httpService\uff1a\u670d\u52a1\u5668\u4fe1\u606f"}),"\n",(0,l.jsx)(n.li,{children:"pHeaders\uff1a\u5934\u6587\u4ef6\u4fe1\u606f"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u8fd4\u56de\u503c: \u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u20111 \u6216\u7ebf\u7a0b\u54cd\u5e94\u8bbe\u7f6e\u6570\u636e\u6e90\u547d\u4ee4\u7684\u8fd4\u56de\u503c\u6216\u7ebf\u7a0b\u54cd\u5e94 xplayer prepare \u547d\u4ee4\u7684\u8fd4\u56de\u503c"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u8c03\u7528\u8bf4\u660e: \u53d1\u9001 SetDataSource \u547d\u4ee4\uff0c\u83b7\u53d6\u9700\u8981\u64ad\u653e\u7684\u97f3\u9891\u6570\u636e\u5185\u5bb9"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5c06-xplayer-\u7f6e\u4e3a\u51c6\u5907\u72b6\u6001-\u89e3\u6790\u5934\u90e8\u4fe1\u606f\u83b7\u53d6\u5143\u6570\u636e",children:"\u5c06 XPlayer \u7f6e\u4e3a\u51c6\u5907\u72b6\u6001, \u89e3\u6790\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6\u5143\u6570\u636e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerPrepare(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 Xplayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u7ebf\u7a0b\u54cd\u5e94\u5f02\u6b65 Prepare \u547d\u4ee4\u7684\u8fd4\u56de\u503c\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u8be5\u51fd\u6570\u662f\u963b\u585e\u51fd\u6570\uff0c\u8c03\u7528\u5b8c\u8fd4\u56de\u4e4b\u540e\u5c31\u8fdb\u5165\u4e86 Prepared \u72b6\u6001\uff0c\u6b64\u65f6\u53ef\u8c03 XPlayerStart() \u51fd\u6570\u8fdb\u884c\u64ad\u653e"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5c06-xplayer-\u7f6e\u4e3a\u5f02\u6b65\u51c6\u5907\u72b6\u6001",children:"\u5c06 XPlayer \u7f6e\u4e3a\u5f02\u6b65\u51c6\u5907\u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerPrepareAsync(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u7ebf\u7a0b\u54cd\u5e94\u5f02\u6b65 Prepare \u547d\u4ee4\u7684\u8fd4\u56de\u503c\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u7f51\u7edc\u64ad\u653e\u6e90\u4e00\u822c\u91c7\u7528 PrepareAsync\uff0c\u800c\u4e0d\u662f Prepare \u547d\u4ee4\uff0cPrepareAsync \u547d\u4ee4\u7684\u8fd4\u56de\u503c\u4e3a 0 \u65f6\u8bf4\u660e\u54cd\u5e94\u6210\u529f\uff0c\u64ad\u653e\u5668\u51c6\u5907\u5de5\u4f5c\u5df2\u7ecf\u5b8c\u6210\u53ef\u4ee5\u5f00\u59cb\u64ad\u653e\uff0c\u4e3a\u20111 \u65f6\u8bf4\u660e\u54cd\u5e94\u5931\u8d25"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5c06-xplayer-\u7f6e\u4e3a\u542f\u52a8\u72b6\u6001",children:"\u5c06 XPlayer \u7f6e\u4e3a\u542f\u52a8\u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerStart(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u7ebf\u7a0b\u54cd\u5e94 start \u547d\u4ee4\u7684\u8fd4\u56de\u503c\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Start \u547d\u4ee4\u7684\u8fd4\u56de\u503c\u4e3a 0 \u65f6\u8bf4\u660e\u54cd\u5e94\u6210\u529f\uff0c\u4e3a\u20111 \u65f6\u8bf4\u660e\u54cd\u5e94\u5931\u8d25"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5c06-xplayer-\u7f6e\u4e3a\u6682\u505c\u72b6\u6001",children:"\u5c06 XPlayer \u7f6e\u4e3a\u6682\u505c\u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerPause(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u7ebf\u7a0b\u54cd\u5e94 pause \u547d\u4ee4\u7684\u8fd4\u56de\u503c\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u5728 XPlayer \u5904\u4e8e start \u72b6\u6001\u65f6\u53ef\u8c03\u7528\u6b64\u63a5\u53e3\uff0cPause \u547d\u4ee4\u7684\u8fd4\u56de\u503c\u4e3a 0 \u65f6\u8bf4\u660e\u54cd\u5e94\u6210\u529f\uff0c\u4e3a\u20111 \u65f6\u8bf4\u660e\u54cd\u5e94\u5931\u8d25"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5c06-xplayer-\u7f6e\u4e3a\u505c\u6b62\u72b6\u6001",children:"\u5c06 XPlayer \u7f6e\u4e3a\u505c\u6b62\u72b6\u6001"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerStop(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u8fd4\u56de 0\uff1b\u5931\u8d25\uff1a\u8fd4\u56de\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u7f6e-xplayer",children:"\u91cd\u7f6e XPlayer"}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u76f8\u5173\u53d8\u91cf\u590d\u4f4d\uff0c\u5e76\u9500\u6bc1\u5404\u6a21\u5757\uff0c\u5982\u97f3\u9891\u89e3\u7801\u6a21\u5757\u3001\u97f3\u9891\u89e3\u7801\u6570\u636e\u63a5\u6536\u6a21\u5757\u7b49"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerReset(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u7ebf\u7a0b\u54cd\u5e94 Reset \u547d\u4ee4\u7684\u8fd4\u56de\u503c\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Reset \u547d\u4ee4\u7684\u8fd4\u56de\u503c\u4e3a 0 \u65f6\u8bf4\u660e\u54cd\u5e94\u6210\u529f\uff0c\u4e3a\u20111 \u65f6\u8bf4\u660e\u54cd\u5e94\u5931\u8d25"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u83b7\u53d6\u8282\u76ee\u65f6\u957f",children:"\u83b7\u53d6\u8282\u76ee\u65f6\u957f"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerGetDuration(XPlayer* p, int *msec)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 Xplayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"msec\uff1a\u4fdd\u5b58\u8282\u76ee\u65f6\u957f"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u20111"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u5728 XPlayer \u5904\u4e8e PREPARED\u3001STARTED\u3001PAUSED\u3001STOPPED \u6216 COMPLETE \u72b6\u6001\u4e0b\u624d\u53ef\u8c03\u7528\u6b64\u63a5\u53e3\uff0c\u5426\u5219\u64cd\u4f5c\u65e0\u6548"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"seek-\u5230\u7ed9\u5b9a\u7684\u65f6\u95f4\u70b9",children:"Seek \u5230\u7ed9\u5b9a\u7684\u65f6\u95f4\u70b9"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerSeekTo(XPlayer* p, int nSeekTimeMs)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 Xplayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"nSeekTimeMs\uff1a\u8df3\u8f6c\u7684\u65f6\u95f4\u70b9"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a\u7ebf\u7a0b\u54cd\u5e94 Seek \u547d\u4ee4\u7684\u8fd4\u56de\u503c\uff1b\u5931\u8d25\uff1aNULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u8df3\u8f6c\u524d\u64ad\u653e\u5904\u4e8e\u6682\u505c\u72b6\u6001\uff0c\u5219\u8df3\u8f6c\u540e\u5c06\u4fdd\u6301\u5728\u6682\u505c\u72b6\u6001"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u83b7\u53d6\u5a92\u4f53\u6587\u4ef6\u7684\u603b\u65f6\u957f",children:"\u83b7\u53d6\u5a92\u4f53\u6587\u4ef6\u7684\u603b\u65f6\u957f"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerGetDuration(XPlayer* p, int *msec)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"msec\uff1a\u4fdd\u5b58\u5a92\u4f53\u6587\u4ef6\u7684\u603b\u65f6\u957f"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u20111"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u9700\u8981\u5728 prepared \u72b6\u6001\u4e4b\u540e\u624d\u53ef\u4ee5\u8c03\u7528\u8be5\u51fd\u6570"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u83b7\u53d6\u5f53\u524d\u7684\u64ad\u653e\u65f6\u95f4\u70b9\u5373\u64ad\u653e\u4f4d\u7f6e",children:"\u83b7\u53d6\u5f53\u524d\u7684\u64ad\u653e\u65f6\u95f4\u70b9\uff08\u5373\u64ad\u653e\u4f4d\u7f6e\uff09"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 XPlayer \u5904\u4e8e PREPARED\u3001STARTED\u3001PAUSED\u3001STOPPED \u6216 COMPLETE \u72b6\u6001\u4e0b\u624d\u53ef\u8c03\u7528\u6b64\u63a5\u53e3\uff0c\u5426\u5219\u64cd\u4f5c\u65e0\u6548\uff0c\u5728 complete \u72b6\u6001\u4e0b\uff0c\u53ef\u80fd\u4f1a\u8c03\u7528 prepare \u65b9\u6cd5\u5e76\u66f4\u6539\u5a92\u4f53\u4fe1\u606f\uff0c\u83b7\u53d6\u7684\u64ad\u653e\u65f6\u95f4\u4ee5 ms \u4e3a\u5355\u4f4d"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerGetCurrentPosition(XPlayer* p, int* msec)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"msec\uff1a\u4fdd\u5b58\u5f53\u524d\u7684\u64ad\u653e\u65f6\u95f4"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\uff1a0\uff1b\u5931\u8d25\uff1a\u20111"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u83b7\u53d6\u5a92\u4f53\u4fe1\u606f",children:"\u83b7\u53d6\u5a92\u4f53\u4fe1\u606f"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"MediaInfo* XPlayerGetMediaInfo(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6210\u529f\u8fd4\u56de 0\uff0c\u5931\u8d25\u8fd4\u56de\u20111\u3002\u5982\u679c\u5931\u8d25\uff0c\u5219 mediaInfo \u6307\u9488\u4e3a NULL"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u9700\u8981\u5728 prepared \u72b6\u6001\u4e4b\u540e\u624d\u53ef\u4ee5\u8c03\u7528\u8be5\u51fd\u6570"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f-1",children:"\u8bbe\u7f6e\u5faa\u73af\u64ad\u653e\u6a21\u5f0f"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerSetLooping(XPlayer* p, int loop)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n",(0,l.jsx)(n.li,{children:"loop: 1: \u8868\u793a\u5355\u66f2\u5faa\u73af\u6a21\u5f0f\uff1b0\uff1a\u8868\u793a\u4e0d\u4f1a\u5faa\u73af"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u65e0"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u67e5\u8be2\u662f\u5426\u6b63\u5728\u64ad\u653e",children:"\u67e5\u8be2\u662f\u5426\u6b63\u5728\u64ad\u653e"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int XPlayerIsPlaying(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"1\uff1a\u6b63\u5728\u64ad\u653e\uff1b0\uff1a\u672a\u64ad\u653e"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u9500\u6bc1\u4e00\u4e2a-xplayer",children:"\u9500\u6bc1\u4e00\u4e2a XPlayer"}),"\n",(0,l.jsx)(n.p,{children:"\u51fd\u6570\u539f\u578b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"void XPlayerDestroy(XPlayer* p)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"p\uff1a\u901a\u8fc7 XPlayerCreate \u521b\u5efa\u7684 XPlayer \u6307\u9488"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u65e0"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u64ad\u653e\u5668\u5f00\u53d1\u793a\u4f8b",children:"\u64ad\u653e\u5668\u5f00\u53d1\u793a\u4f8b"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"player_init() \u521b\u5efa\u4e00\u4e2a\u64ad\u653e\u5668"}),"\n",(0,l.jsx)(n.li,{children:"registerCallback() \u8bbe\u7f6e\u6d88\u606f\u56de\u8c03\u51fd\u6570"}),"\n",(0,l.jsx)(n.li,{children:"setDataSource_url() \u8bbe\u7f6e url"}),"\n",(0,l.jsx)(n.li,{children:"prepare() \u6216 prepareAsync() \u89e3\u6790\u5934\u90e8\u4fe1\u606f\uff0c\u83b7\u53d6\u5143\u6570\u636e\uff0c\u5e76\u6839\u636e\u5143\u6570\u636e\u7684\u4fe1\u606f\u521d\u59cb\u5316\u5bf9\u5e94\u7684\u89e3\u7801\u5668"}),"\n",(0,l.jsx)(n.li,{children:"start() \u64ad\u653e (\u6ce8: \u5982\u679c\u662f\u7528 prepareAsync() \u51fd\u6570\uff0c\u5219\u9700\u8981\u7b49\u5230 RTPLAYER_NOTIFY_PREPARED \u6d88\u606f\u56de\u8c03\u4e4b\u540e\u624d\u53ef\u4ee5\u8c03\u7528 start() \u51fd\u6570\u8fdb\u884c\u64ad\u653e)"}),"\n",(0,l.jsx)(n.li,{children:"\u5982\u679c\u9700\u8981\u8df3\u64ad\uff0c\u5219\u53ef\u4ee5\u8c03\u7528 seekTo() \u51fd\u6570"}),"\n",(0,l.jsx)(n.li,{children:"\u5982\u679c\u9700\u8981\u6682\u505c\uff0c\u5219\u8c03\u7528 pause_l() \u51fd\u6570\u8fdb\u884c\u6682\u505c"}),"\n",(0,l.jsx)(n.li,{children:"\u5982\u679c\u9700\u8981\u505c\u6b62\uff0c\u5219\u53ef\u4ee5\u8c03\u7528 stop() \u6216 reset() \u51fd\u6570\u8fdb\u884c\u505c\u6b62 (\u6ce8\uff1a\u5efa\u8bae\u7528 reset() \u51fd\u6570\u8fdb\u884c\u505c\u6b62\uff0c\u56e0\u4e3a\u4efb\u4f55\u72b6\u6001\u4e0b\u90fd\u53ef\u4ee5\u8c03\u7528 reset() \u51fd\u6570)"}),"\n",(0,l.jsx)(n.li,{children:"\u5982\u679c\u9700\u8981\u64ad\u653e\u4e0b\u4e00\u4e2a\u6216\u5176\u4ed6\u7684\uff0c\u5219\u53ef\u4ee5\u5148\u8c03\u7528 reset() \u51fd\u6570\u4f7f\u64ad\u653e\u5668\u8fdb\u5165 idle \u72b6\u6001\uff0c\u7136\u540e\u518d\u91cd\u590d (3)(4)(5) \u7684\u6b65\u9aa4"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:'#include <stdio.h>\n#include <stdint.h>\n#include <FreeRTOS.h>\n#include <task.h>\n#include <portable.h>\n#include <string.h>\n#include <console.h>\n#include <semaphore.h>\n#include <pthread.h>\n#include <unistd.h>\n#include <mqueue.h>\n#include <fcntl.h>\n#include <stdlib.h>\n#include "FreeRTOS_POSIX/utils.h"\n#include "rtplayer.h"\n#include "xplayer.h"\n\n#define PAUSE_CMD           \'P\'\n#define PING_CMD            \'p\'\n#define STOP_CMD            \'S\'\n#define SEEK_TO_CMD         \'s\'\n#define SEEK_TO_CMD2        \'j\'\n#define BACKGROUND_CMD      \'b\'\n#define SHOW_BUFFER_CMD     \'B\'\n#define QUIT_CMD            \'q\'\n#define LOOP_CMD            \'l\'\n#define GET_DURATION_CMD    \'G\'\n#define GET_POSITION_CMD    \'g\'\n#define HELP_CMD            \'h\'\n#define INFO_CMD            \'i\'\n#define REPLAY_CMD          \'r\'\n#define RETRY_CMD           256\n\n#define USE_PREPARE_ASYNC 0\n\n#define LOGD(msg, arg...)      //printf("[PLAYER_DBG] <%s : %d> " msg "\\n", __func__, __LINE__, ##arg)\n#define LOGI(msg, arg...)      //printf("[PLAYER_INFO] <%s : %d> " msg "\\n", __func__, __LINE__, ##arg)\n#define LOGW(msg, arg...)      printf("[PLAYER_WRN] <%s : %d> " msg "\\n", __func__, __LINE__, ##arg)\n#define LOGE(msg, arg...)      printf("[PLAYER_ERR] <%s : %d> " msg "\\n", __func__, __LINE__, ##arg)\ntypedef struct DemoPlayerContext\n{\n    RTPlayer* mRTplayer;\n    sem_t mPreparedSem;\n    mqd_t mRTplayerMq;\n    pthread_t mThreadId;\n    char *pUrl;\n    int mSeekable;\n    char isPlayingFlag;\n    char mError;\n    int inputMode;\n    int isSetLoop;\n    char quitFlag;//no_shell_input mode quitFlag\n    int testMode;\n    MediaInfo* mMediaInfo;\n    int SoundCard;\n}DemoPlayerContext;\n\ntypedef struct DemoPlayerMsg\n{\n    int msg;\n    int data;\n}DemoPlayerMsg;\n\n#define INVALID_MQD     ( ( mqd_t ) -1 )\n#define DEFAULT_MODE    0600\nstatic const char *pcRTplayerMqName = "/rtplayerMq";\nstatic volatile mqd_t mRTplayerMq = INVALID_MQD;\nstatic int mRTplayerUserInput = 0;\nstatic struct mq_attr xRTplayerMqAttr =\n    {\n        .mq_flags   =   0,\n        .mq_maxmsg  =   3,\n        .mq_msgsize =   sizeof(DemoPlayerMsg),\n        .mq_curmsgs =   0\n    };\n\nstatic void showHelp(){\n    printf("\\n");\n    printf("**************************\\n");\n    printf("* This is a simple audio player, when it is started, you can input commands to tell\\n");\n    printf("* what you want it to do.\\n");\n    printf("* Usage: \\n");\n    printf("*   tplayer_demo /data/test.mp3  : this means play test.mp3\\n");\n    printf("*   P  :this will Pause if in playing status,or Play in paused status \\n");\n    printf("*   S  :this means Stop \\n");\n    printf("*   s  :this means seek to 10s \\n");\n    printf("*   B  :show buffer \\n");\n    printf("*   b  :this means player will run in the background \\n");\n    printf("*   q  :this means quit the player \\n");\n    printf("*   l  :this means loop play \\n");\n    printf("*   G :this means Get  duration \\n");\n    printf("*   g :this means get  position \\n");\n    printf("*   i :this means show media info \\n");\n    printf("*   h :this means show the help information \\n");\n    printf("*   r : replay the current audio\\n");\n    printf("**************************\\n");\n}\nstatic int rtplayer_clear_cmd(mqd_t mq){\n    struct timespec cur, delay, abstime;\n    clock_gettime( CLOCK_REALTIME, &cur );\n    delay.tv_sec = 0;\n    delay.tv_nsec = 5*1000*1000;\n    UTILS_TimespecAdd(&cur, &delay, &abstime);\n    DemoPlayerMsg msg;\n    while(mq_timedreceive(mq, (char *)&msg, sizeof(msg), NULL, &abstime)!=-1);\n    return 0;\n}\nstatic int rtplayer_send_cmd(mqd_t mq, int msg, int data){\n    DemoPlayerMsg pmsg = {msg, data};\n    struct timespec tsn, ts;\n    clock_gettime(CLOCK_REALTIME, &tsn);\n    UTILS_TimespecAddNanoseconds(&tsn, 20*1000*1000, &ts);\n    int status = mq_timedsend(mq, (char *)&pmsg, sizeof(pmsg), 0, &ts);\n    if(status)\n        LOGE("send cmd %c,%d failed!", pmsg.msg, pmsg.data);\n    return status;\n}\n\nstatic int rtplayer_send_cmd_force(mqd_t mq, int msg, int data){\n    int try_times = 0;\n    DemoPlayerMsg pmsg = {msg, data};\n    struct timespec tsn, ts;\n    int status;\ntry_send:\n    clock_gettime(CLOCK_REALTIME, &tsn);\n    UTILS_TimespecAddNanoseconds(&tsn, 20*1000*1000, &ts);\n    status = mq_timedsend(mq, (char *)&pmsg, sizeof(pmsg), 0, &ts);\n    if(status){\n        try_times++;\n        if(try_times<5){\n            LOGE("send cmd %c,%d failed, retry...", pmsg.msg, pmsg.data);\n            goto try_send;\n        }\n        else if(try_times<10){\n            DemoPlayerMsg tmp;\n            LOGE("send cmd %c,%d failed, retry...", pmsg.msg, pmsg.data);\n            clock_gettime(CLOCK_REALTIME, &tsn);\n            UTILS_TimespecAddNanoseconds(&tsn, 20*1000*1000, &ts);\n            status = mq_timedreceive(mq, (char *)&tmp, sizeof(tmp), NULL, &ts);\n            if(status<0){\n                LOGE("mq_receive fail %d", status);\n                goto fail_exit;\n            }\n            LOGW("drop: %c, %d", tmp.msg, tmp.data);\n            goto try_send;\n        }\n        goto fail_exit;\n    }\n    return status;\nfail_exit:\n    LOGE("send cmd %c,%d failed!\\n", pmsg.msg, pmsg.data);\n    return status;\n}\n\nstatic void callbackFromRTplayer(void* userData,int msg, int id, int ext1, int ext2);\nstatic void* RTplayerThread(void* arg){\n    DemoPlayerContext* demoPlayer = (DemoPlayerContext*)arg;\n    char quitFlag = 0;\n\n    if(demoPlayer->inputMode)\n    {\n    while(1)\n    {\n         if(demoPlayer->quitFlag)\n         {\n        if(demoPlayer->mRTplayer != NULL)\n        {\n            printf("player finsh, quit the rtplayer\\n");\n            mRTplayerMq = INVALID_MQD;\n#if USE_PREPARE_ASYNC\n            sem_destroy(&demoPlayer->mPreparedSem);\n#endif\n            player_deinit(demoPlayer->mRTplayer);\n            free(demoPlayer->pUrl);\n            free(demoPlayer);\n        }\n        break;\n         }\n        usleep(50*1000);\n    }\n    return NULL;\n\n    }\n    while(!quitFlag){\n        int cRxed = 0;\n        int data = 0;\n        DemoPlayerMsg msg;\n        ssize_t status;\n        if(demoPlayer->mRTplayerMq!=INVALID_MQD){\n            usleep(50*1000);\n            ssize_t status = mq_receive(demoPlayer->mRTplayerMq, (char *)&msg, sizeof(msg), NULL);\n            if(status<=-1){\n                LOGE("mq_receive fail %d", status);\n                usleep(1*1000*1000);\n                continue;\n            }\n            printf("receive %c,%d\\n", msg.msg, msg.data);\n            cRxed = msg.msg;\n            data = msg.data;\n        }\n        else{\n            cRxed = QUIT_CMD;\n        }\n        switch(cRxed){\n            case PAUSE_CMD:\n            {\n                if(demoPlayer->isPlayingFlag){\n                    printf("pause the rtplayer\\n");\n                    pause_l(demoPlayer->mRTplayer);\n                    demoPlayer->isPlayingFlag = 0;\n                }else{\n                    printf("play the rtplayer\\n");\n                    start(demoPlayer->mRTplayer);\n                    demoPlayer->isPlayingFlag = 1;\n                }\n                break;\n            }\n            case STOP_CMD:\n            {\n                printf("stop the rtplayer\\n");\n                stop(demoPlayer->mRTplayer);\n                demoPlayer->isPlayingFlag = 0;\n                break;\n            }\n            case SEEK_TO_CMD:\n            {\n                printf("rtplayer seek to 10 second\\n");\n                seekTo(demoPlayer->mRTplayer,10);\n                break;\n            }\n            case SEEK_TO_CMD2:\n            {\n                printf("rtplayer seek to %d second\\n", data);\n                seekTo(demoPlayer->mRTplayer,data);\n                break;\n            }\n            case QUIT_CMD:\n            {\n                printf("quit the rtplayer\\n");\n                mRTplayerMq = INVALID_MQD;\n                //mq_close(demoPlayer->mRTplayerMq);\n#if USE_PREPARE_ASYNC\n                sem_destroy(&demoPlayer->mPreparedSem);\n#endif\n                player_deinit(demoPlayer->mRTplayer);\n                free(demoPlayer->pUrl);\n                free(demoPlayer);\n                quitFlag = 1;\n                break;\n            }\n            case LOOP_CMD:\n            {\n                printf("let the rtplayer loop play\\n");\n                demoPlayer->isSetLoop = 1;\n                setLooping(demoPlayer->mRTplayer,1);\n                break;\n            }\n            case GET_DURATION_CMD:\n            {\n                printf("get the audio duration\\n");\n                int duration;\n                getDuration(demoPlayer->mRTplayer,&duration);\n                printf("duration:%d s\\n",duration);\n                break;\n            }\n            case GET_POSITION_CMD:\n            {\n                printf("get the current position\\n");\n                int position;\n                getCurrentPosition(demoPlayer->mRTplayer,&position);\n                printf("current position:%d s\\n",position);\n                break;\n            }\n            case HELP_CMD:\n            {\n                printf("show the help information\\n");\n                showHelp();\n                break;\n            }\n        case INFO_CMD:\n        {\n        printf("**************************\\n");\n        printf("* show media information:\\n");\n        MediaInfo* mi = NULL;\n        demoPlayer->mMediaInfo = getMediaInfo(demoPlayer->mRTplayer);\n        if(demoPlayer->mMediaInfo != NULL){\n                        mi = demoPlayer->mMediaInfo;\n                        printf("* file size = %lld KB\\n",mi->nFileSize/1024);\n                        printf("* duration = %lld ms\\n",mi->nDurationMs);\n                        printf("* bitrate = %d Kbps\\n",mi->nBitrate/1024);\n                        printf("* container type = %d\\n",mi->eContainerType);\n                        printf("* audio stream num = %d\\n",mi->nAudioStreamNum);\n                        if(mi->pAudioStreamInfo != NULL){\n                            printf("* audio codec tpye = %d\\n",mi->pAudioStreamInfo->eCodecFormat);\n                            printf("* audio channel num = %d\\n",mi->pAudioStreamInfo->nChannelNum);\n                            printf("* audio BitsPerSample = %d\\n",mi->pAudioStreamInfo->nBitsPerSample);\n                            printf("* audio sample rate  = %d\\n",mi->pAudioStreamInfo->nSampleRate);\n                        }\n        printf("**************************\\n");\n                    }\n                    break;\n\n        }\n        case SHOW_BUFFER_CMD:\n        {\n        printf("**************************\\n");\n        printf("* show buffer information:\\n");\n        player_show_buffer();\n        printf("**************************\\n");\n        break;\n\n        }\n            case REPLAY_CMD:\n            {\n                printf("replay %s\\n", demoPlayer->pUrl);\n                int ret;\n                if(demoPlayer->testMode){\n                    printf("test mode: destroy & create instead of reset\\n");\n                    player_deinit(demoPlayer->mRTplayer);\n                    usleep(50*1000);\n                    demoPlayer->mRTplayer = (RTPlayer*)(uintptr_t)player_init();\n                    printf("demoPlayer.mRTplayer = %p\\n",demoPlayer->mRTplayer);\n                    if(!demoPlayer->mRTplayer){\n                        printf("init rtplayer fail\\n");\n                        free(demoPlayer->pUrl);\n                        free(demoPlayer);\n                        quitFlag = 1;\n                        continue;\n                    }\n                    registerCallback(demoPlayer->mRTplayer, demoPlayer, callbackFromRTplayer);\n                }\n                else\n                    reset(demoPlayer->mRTplayer);\n                ret = setDataSource_url(demoPlayer->mRTplayer, demoPlayer, demoPlayer->pUrl, 0);\n                if(ret){\n                    printf("setDataSource_url failed\\n");\n                    break;\n                }\n                ret = prepare(demoPlayer->mRTplayer);\n                if(ret){\n                    printf("prepare failed\\n");\n                    break;\n                }\n                start(demoPlayer->mRTplayer);\n                demoPlayer->isPlayingFlag = 1;\n        if(demoPlayer->isSetLoop)\n        {\n                    setLooping(demoPlayer->mRTplayer,1);\n        }\n                break;\n            }\n            case RETRY_CMD:\n            {\n                int position = data;\n                if(data==-1)\n                    getCurrentPosition(demoPlayer->mRTplayer,&position);\n                printf("retry %s\\n", demoPlayer->pUrl);\n                int ret;\n                if(demoPlayer->testMode){\n                    printf("test mode: destroy & create instead of reset\\n");\n                    player_deinit(demoPlayer->mRTplayer);\n                    usleep(50*1000);\n                    demoPlayer->mRTplayer = (RTPlayer*)(uintptr_t)player_init();\n                    printf("demoPlayer.mRTplayer = %p\\n",demoPlayer->mRTplayer);\n                    if(!demoPlayer->mRTplayer){\n                        LOGE("init rtplayer fail");\n                        free(demoPlayer->pUrl);\n                        free(demoPlayer);\n                        quitFlag = 1;\n                        continue;\n                    }\n                    registerCallback(demoPlayer->mRTplayer, demoPlayer, callbackFromRTplayer);\n                }\n                else\n                    reset(demoPlayer->mRTplayer);\n                ret = setDataSource_url(demoPlayer->mRTplayer, demoPlayer, demoPlayer->pUrl, 0);\n                if(ret){\n                    LOGE("setDataSource_url failed");\n                    rtplayer_send_cmd_force(demoPlayer->mRTplayerMq, RETRY_CMD, position);\n                    usleep(500*1000);\n                    break;\n                }\n                ret = prepare(demoPlayer->mRTplayer);\n                if(ret){\n                    LOGE("prepare failed");\n                    rtplayer_send_cmd_force(demoPlayer->mRTplayerMq, RETRY_CMD, position);\n                    usleep(500*1000);\n                    break;\n                }\n                start(demoPlayer->mRTplayer);\n                demoPlayer->isPlayingFlag = 1;\n                //seekTo(demoPlayer->mRTplayer, position);\n                if(demoPlayer->isSetLoop)\n                    setLooping(demoPlayer->mRTplayer,1);\n                break;\n            }\n            default:\n            {\n                LOGW("warning: unknown command,cmd = %d",cRxed);\n                break;\n            }\n        }\n        if(quitFlag){\n            return NULL;\n        }\n    }\n    return NULL;\n}\nstatic void callbackFromRTplayer(void* userData,int msg, int id, int ext1, int ext2){\n\n    LOGI("call back from RTplayer,msg = %d,id = %d,ext1 = %d,ext2 = %d\\n",msg,id,ext1,ext2);\n\n    DemoPlayerContext* pDemoPlayer = (DemoPlayerContext*)userData;\n    switch(msg)\n    {\n        case RTPLAYER_NOTIFY_PREPARED:\n        {\n            printf("RTPLAYER_NOTIFY_PREPARED:has prepared.\\n");\n #if USE_PREPARE_ASYNC           \n            sem_post(&pDemoPlayer->mPreparedSem);\n            pDemoPlayer->mPreparedFlag = 1;\n #endif\n            break;\n        }\n        case RTPLAYER_NOTIFY_PLAYBACK_COMPLETE:\n        {\n            printf("RTPLAYER_NOTIFY_PLAYBACK_COMPLETE:play complete\\n");\n            pDemoPlayer->isPlayingFlag = 0;\n        if(pDemoPlayer->inputMode)\n        {\n        pDemoPlayer->quitFlag = 1;\n        }\n            break;\n        }\n        case RTPLAYER_NOTIFY_SEEK_COMPLETE:\n        {\n            printf("RTPLAYER_NOTIFY_SEEK_COMPLETE:seek ok\\n");\n            break;\n        }\n        case RTPLAYER_NOTIFY_MEDIA_ERROR:\n        {\n            switch (ext1)\n            {\n                case RTPLAYER_MEDIA_ERROR_UNKNOWN:\n                {\n                    printf("erro type:TPLAYER_MEDIA_ERROR_UNKNOWN\\n");\n                    break;\n                }\n                case RTPLAYER_MEDIA_ERROR_UNSUPPORTED:\n                {\n                    printf("erro type:TPLAYER_MEDIA_ERROR_UNSUPPORTED\\n");\n                    break;\n                }\n                case RTPLAYER_MEDIA_ERROR_IO:\n                {\n                    printf("erro type:TPLAYER_MEDIA_ERROR_IO\\n");\n                    break;\n                }\n            }\n            printf("RTPLAYER_NOTIFY_MEDIA_ERROR\\n");\n            pDemoPlayer->mError = 1;\n#if USE_PREPARE_ASYNC            \n            if(pDemoPlayer->mPreparedFlag == 0){\n                printf("recive err when preparing\\n");\n                sem_post(&pDemoPlayer->mPreparedSem);\n            }\n#endif \n            if( pDemoPlayer->mRTplayerMq!=INVALID_MQD ){\n                rtplayer_send_cmd_force(pDemoPlayer->mRTplayerMq, RETRY_CMD, -1);\n            }\n            else{\n                printf("io error, mqueue not exist\\n");\n            }\n            break;\n        }\n        case RTPLAYER_NOTIFY_NOT_SEEKABLE:\n        {\n            pDemoPlayer->mSeekable = 0;\n            printf("info: media source is unseekable.\\n");\n            break;\n        }\n        case RTPLAYER_NOTIFY_DETAIL_INFO:\n        {\n            int flag = *(int *)(uintptr_t)ext2;\n            //printf("detail info: %d\\n", flag);\n            break;\n        }\n        default:\n        {\n            printf("warning: unknown callback from RTplayer.\\n");\n            break;\n        }\n    }\n}\nint cmd_rtplayer_test(int argc, char ** argv)\n{\n    int inputMode = 0;\n    int testMode = 0;\n    /*\n    printf("argc = %d\\n",argc);\n    for(int i=0; i < argc;i++){\n        printf("argv[%d]=%s\\n",i,argv[i]);\n    }\n    */\n    printf("rtplayer source:%s\\n", argv[1]);\n\n    if(argc == 3){\n        if( !strncmp("no_shell_input", argv[2], sizeof("no_shell_input")-1) ){\n            argc--;\n            inputMode = 1;\n        }\n        else if( !strncmp("test_mode", argv[2], sizeof("test_mode")-1) ){\n            argc--;\n            testMode = 1;\n        }\n    }\n    if(argc != 2){\n        LOGW("the parameter is error,usage is as following:");\n        showHelp();\n        goto rtp_failed;\n    }\n#if USE_PREPARE_ASYNC\n    int waitErr = 0;\n#endif\n    DemoPlayerContext* demoPlayer = (DemoPlayerContext*)malloc(sizeof(DemoPlayerContext));\n    if(demoPlayer == NULL){\n        LOGE("malloc DemoPlayerContext fail");\n        goto rtp_failed;\n    }\n    memset(demoPlayer, 0, sizeof(DemoPlayerContext));\n    demoPlayer->mSeekable = 1;\n    demoPlayer->mRTplayerMq = INVALID_MQD;\n    demoPlayer->inputMode = inputMode;\n    demoPlayer->testMode = testMode;\n    demoPlayer->quitFlag = 0;\n    demoPlayer->mMediaInfo = NULL;\n    if(strlen(argv[1])<=0){\n        LOGE("url error");\n        goto rtp_url_failed;\n    }\n    demoPlayer->pUrl = malloc(strlen(argv[1])+1);\n    if(!demoPlayer->pUrl){\n        LOGE("pUrl malloc fail");\n        goto rtp_url_failed;\n    }\n    memset(demoPlayer->pUrl, 0, strlen(argv[1]));\n    strcpy(demoPlayer->pUrl, argv[1]);\n#if USE_PREPARE_ASYNC    \n     sem_init(&demoPlayer->mPreparedSem, 0, 0);\n#endif\n    demoPlayer->mRTplayer = (RTPlayer*)(uintptr_t)player_init();\n    LOGI("demoPlayer.mRTplayer = %p",demoPlayer->mRTplayer);\n    if(!demoPlayer->mRTplayer){\n        LOGE("init rtplayer fail");\n        goto rtp_init_failed;\n    }\n\n    registerCallback(demoPlayer->mRTplayer, demoPlayer, callbackFromRTplayer);\n    status_t ret = setDataSource_url(demoPlayer->mRTplayer,demoPlayer,demoPlayer->pUrl, 0);\n    if(ret){\n        LOGE("set DataSource url fail");\n        goto rtp_prepare_failed;\n    }\n#if USE_PREPARE_ASYNC\n    demoPlayer->mPreparedFlag = 0;\n    if(prepareAsync(demoPlayer->mRTplayer) != 0)\n    {\n        printf("TPlayerPrepareAsync() return fail.\\n");\n    }else{\n        printf("preparing...\\n");\n    }\n    struct timespec t;\n    t.tv_nsec = 0;\n    t.tv_sec = 30;\n    waitErr = sem_timedwait(&demoPlayer->mPreparedSem, &t);\n    if(waitErr == -1){\n        printf("prepare timeout,has wait %d s\\n",t.tv_sec);\n        sem_destroy(&demoPlayer->mPreparedSem);\n        goto rtp_prepare_failed;\n    }else if(demoPlayer.mError == 1){\n        printf("prepare fail\\n");\n        sem_destroy(&demoPlayer->mPreparedSem);\n        goto rtp_prepare_failed;\n    }\n    printf("prepared ok\\n");\n#else\n    ret = prepare(demoPlayer->mRTplayer);\n    if(ret){\n        LOGE("prepare fail");\n        goto rtp_prepare_failed;\n    }\n#endif\n    start(demoPlayer->mRTplayer);\n    demoPlayer->isPlayingFlag = 1;\n\n    if( mRTplayerMq==INVALID_MQD ){\n        mRTplayerMq = mq_open( pcRTplayerMqName, O_CREAT | O_RDWR, DEFAULT_MODE, &xRTplayerMqAttr );\n        if(mRTplayerMq==INVALID_MQD){\n            LOGE("mq_open fail");\n        }\n    }\n    demoPlayer->mRTplayerMq = mRTplayerMq;\n    rtplayer_clear_cmd(demoPlayer->mRTplayerMq);\n\n    pthread_attr_t attr;\n    pthread_attr_init(&attr);\n    struct sched_param sched;\n    sched.sched_priority = 4;\n    pthread_attr_setschedparam(&attr, &sched);\n    pthread_attr_setstacksize(&attr, 32768);\n    pthread_attr_setdetachstate(&attr, PTHREAD_CREATE_DETACHED);\n\n    if( pthread_create(&demoPlayer->mThreadId, &attr, RTplayerThread, demoPlayer) ){\n        LOGE("pthread_create failed, quit the rtplayer");\n        mRTplayerMq = INVALID_MQD;\n        //mq_close(demoPlayer->mRTplayerMq);\n#if USE_PREPARE_ASYNC\n        sem_destroy(&demoPlayer->mPreparedSem);\n#endif\n        goto rtp_prepare_failed;\n    }\n    pthread_setname_np(demoPlayer->mThreadId, "RTplayerThread");\n\n    if(demoPlayer->inputMode)\n        goto rtp_succeed;\n    while(1){\n        char cRxed = getchar();\n        if(cRxed==BACKGROUND_CMD){\n            printf("shell input exit, rtplayer will run in the background\\n");\n            break;\n        }\n        rtplayer_send_cmd(demoPlayer->mRTplayerMq, cRxed, 0);\n        if(cRxed==QUIT_CMD)\n            break;\n        usleep(50*1000);\n    }\nrtp_succeed:\n    return 0;\nrtp_prepare_failed:\n    player_deinit(demoPlayer->mRTplayer);\nrtp_init_failed:\n    free(demoPlayer->pUrl);\nrtp_url_failed:\n    free(demoPlayer);\nrtp_failed:\n    return -1;\n}\nFINSH_FUNCTION_EXPORT_CMD(cmd_rtplayer_test, rtplayer_test, test the rtplayer);\n\nstatic int cmd_rtplayer_controller(int argc, char ** argv){\n    if(mRTplayerMq==INVALID_MQD){\n        printf("mRTplayerMq = INVALID_MQD!\\n");\n        return -1;\n    }\n    if( (argc!=2) && (argc!=3) ){\n        printf("usage:rtpc <cmd> [data]\\n");\n        return -1;\n    }\n    int data = 0;\n\n    if(argc==3)\n        data = atoi(argv[2]);\n    rtplayer_send_cmd(mRTplayerMq, argv[1][0], data);\n\n    return 0;\n}\nFINSH_FUNCTION_EXPORT_CMD(cmd_rtplayer_controller, rtpc, control the rtplayer);\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u76ee\u524d rtplayer/xplayer \u4ec5\u652f\u6301\u97f3\u9891\u89e3\u7801\uff0c\u4e14\u4e0d\u652f\u6301\u5bf9\u89c6\u9891\u6587\u4ef6\u8fdb\u884c\u89e3\u5c01\u88c5\uff0c\u56e0\u6b64 rtplayer \u64ad\u653e\u5668\u5e94\u7528\u53ea\u652f\u6301\u97f3\u9891\u6587\u4ef6\u7684\u64ad\u653e\u3002"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"void registerCallback(void* handle, void* userData, player_callback_t fn)"})," \u51fd\u6570\u5fc5\u987b\u8981\u8c03\u7528\uff0c\u800c\u4e14 fn \u4e0d\u80fd\u4e3a NULL\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u56de\u8c03\u51fd\u6570\u4e2d\u4e0d\u80fd\u8c03\u7528 rtplayer \u7684\u4efb\u4f55\u4e00\u4e2a\u63a5\u53e3\uff0c\u5982\uff1areset\u3001stop\u3001start \u7b49\u8fd9\u4e9b\u63a5\u53e3\u4e0d\u80fd\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u8c03\u7528\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u64ad\u653e\u672c\u5730\u6587\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0cset url \u65f6\uff0cXPlayer \u4f1a\u8fdb\u884c\u4e00\u6b21\u540c\u6b65 prepare\uff0c\u7528\u4e8e\u63d0\u524d\u83b7\u53d6\u4fe1\u606f\u7ed9 parser\uff0c\u56e0\u6b64\u5f02\u6b65 prepare \u524d\uff0c\u5e94\u5bf9 XPlayerSetDataSourceUrl \u7684\u8fd4\u56de\u503c\u8fdb\u884c\u5224\u65ad\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u6539\u53d8\u64ad\u653e\u5668\u7684\u72b6\u6001\uff0c\u5e94\u6ee1\u8db3\u72b6\u6001\u56fe\u4e2d\u7684\u5bf9\u5e94\u7684\u51fd\u6570\u8c03\u7528\u6d41\u7a0b\uff0c\u5982\u64ad\u653e\u7ed3\u675f\u540e\u9700\u8981\u64ad\u653e\u4e0b\u4e00\u9996\u6b4c\uff0c\u5e94\u8c03\u7528 reset \u6e05\u7a7a\u4fe1\u606f\uff0c\u8fdb\u5165 idle \u72b6\u6001\uff0c\u518d\u8c03\u7528 setDataSource_Url \u8fdb\u884c\u586b\u5145\u4e0b\u4e00\u9996\u6b4c\u5230\u64ad\u653e\u5668\u4e2d"}),"\n",(0,l.jsx)(n.li,{children:"\u91c7\u53d6\u5f02\u6b65 prepare \u65f6\uff08prepareAsync\uff09\uff0c\u5e94\u6ce8\u610f\u6dfb\u52a0\u4fe1\u53f7\u91cf\u8fdb\u884c\u540c\u6b65\u3002"}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>s});var l=r(7294);const a={},i=l.createContext(a);function s(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);