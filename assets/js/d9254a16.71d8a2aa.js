"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7587],{8365:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var t=n(5893),i=n(1151);const s={},d="\u4f7f\u7528 VSCode \u8c03\u8bd5",l={id:"developer-guide/part4/chapter2",title:"\u4f7f\u7528 VSCode \u8c03\u8bd5",description:"\u8c03\u8bd5 XuanTie C906 \u6838\u5fc3",source:"@site/docs/developer-guide/part4/chapter2.md",sourceDirName:"developer-guide/part4",slug:"/developer-guide/part4/chapter2",permalink:"/developer-guide/part4/chapter2",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/R128-Docs/tree/main/docs/developer-guide/part4/chapter2.md",tags:[],version:"current",frontMatter:{},sidebar:"classpartoneSidebar",previous:{title:"\u5185\u5b58\u6cc4\u9732\u8c03\u8bd5\u6848\u4f8b",permalink:"/developer-guide/part4/chapter1"},next:{title:"RTOS \u8c03\u8bd5\u6307\u5357",permalink:"/developer-guide/part4/chapter3"}},c={},o=[{value:"\u8c03\u8bd5 XuanTie C906 \u6838\u5fc3",id:"\u8c03\u8bd5-xuantie-c906-\u6838\u5fc3",level:2},{value:"\u51c6\u5907\u5de5\u5177",id:"\u51c6\u5907\u5de5\u5177",level:3},{value:"\u914d\u7f6e SDK \u542f\u7528\u8c03\u8bd5\u529f\u80fd",id:"\u914d\u7f6e-sdk-\u542f\u7528\u8c03\u8bd5\u529f\u80fd",level:3},{value:"\u5b89\u88c5\u9a71\u52a8",id:"\u5b89\u88c5\u9a71\u52a8",level:3},{value:"\u8fd0\u884c\u914d\u7f6eCSkyDebugServer",id:"\u8fd0\u884c\u914d\u7f6ecskydebugserver",level:3},{value:"\u542f\u52a8CSkyDebugServer",id:"\u542f\u52a8cskydebugserver",level:3},{value:"\u914d\u7f6e VSCode",id:"\u914d\u7f6e-vscode",level:3},{value:"\u5f00\u59cb\u8c03\u8bd5",id:"\u5f00\u59cb\u8c03\u8bd5",level:3}];function a(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h1,{id:"\u4f7f\u7528-vscode-\u8c03\u8bd5",children:"\u4f7f\u7528 VSCode \u8c03\u8bd5"}),"\n",(0,t.jsx)(r.h2,{id:"\u8c03\u8bd5-xuantie-c906-\u6838\u5fc3",children:"\u8c03\u8bd5 XuanTie C906 \u6838\u5fc3"}),"\n",(0,t.jsx)(r.h3,{id:"\u51c6\u5907\u5de5\u5177",children:"\u51c6\u5907\u5de5\u5177"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"T-Head DebugServer\uff08CSkyDebugServer\uff09 - \u642d\u5efa\u8c03\u8bd5\u670d\u52a1\u5668"}),"\n",(0,t.jsxs)(r.li,{children:["\u4e0b\u8f7d\u5730\u5740\uff1a",(0,t.jsx)(r.a,{href:"https://xuantie.t-head.cn/community/download?id=4202772147627692032",children:"T-Head DebugServer"})]}),"\n",(0,t.jsxs)(r.li,{children:["\u624b\u518c\uff1a",(0,t.jsx)(r.a,{href:"https://xuantie.t-head.cn/community/download?id=4170589434888130560",children:"T-Head Debugger Server User Guide"})]}),"\n",(0,t.jsxs)(r.li,{children:["\u9a71\u52a8\uff1a",(0,t.jsx)(r.a,{href:"https://xuantie.t-head.cn/community/download?id=689487495854817280",children:"cklink_dirvers"})]}),"\n",(0,t.jsx)(r.li,{children:"VSCode - \u5f00\u53d1&\u8c03\u8bd5"}),"\n",(0,t.jsxs)(r.li,{children:["\u4e0b\u8f7d\u5730\u5740\uff1a",(0,t.jsx)(r.a,{href:"https://code.visualstudio.com/",children:"VSCode"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"\u914d\u7f6e-sdk-\u542f\u7528\u8c03\u8bd5\u529f\u80fd",children:"\u914d\u7f6e SDK \u542f\u7528\u8c03\u8bd5\u529f\u80fd"}),"\n",(0,t.jsxs)(r.p,{children:["\u5728\u5bf9\u5e94\u7684C906\u7684 ",(0,t.jsx)(r.code,{children:"main.c"})," \u51fd\u6570\u6700\u540e\u9762\u52a0\u4e0a\u4e0b\u5217\u4ee3\u7801\uff0c\u914d\u7f6e GPIO MUX \u4e3a JTAG"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-c",children:"writel(0x00f66660, 0x4004a40c);\n"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part4/chapter2/image1.jpg",alt:"image1"})}),"\n",(0,t.jsx)(r.p,{children:"\u53c2\u8003\u624b\u518c\uff1a"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part4/chapter2/image2.jpg",alt:"image2"})}),"\n",(0,t.jsx)(r.p,{children:"\u7136\u540e\u7f16\u8bd1\u4e0b\u8f7d\u3002"}),"\n",(0,t.jsx)(r.h3,{id:"\u5b89\u88c5\u9a71\u52a8",children:"\u5b89\u88c5\u9a71\u52a8"}),"\n",(0,t.jsx)(r.p,{children:"\u8fde\u63a5\u4e0aCKLink\uff0c\u5728\u8bbe\u5907\u7ba1\u7406\u5668\u65b0\u589e\u7684USB\u8bbe\u5907\u4e0a->\u53f3\u952e->\u66f4\u65b0\u9a71\u52a8\u7a0b\u5e8f->\u6d4f\u89c8\u6211\u7684\u7535\u8111\u4ee5\u67e5\u627e\u9a71\u52a8\u7a0b\u5e8f->\u6d4f\u89c8\u5bf9\u5e94\u7684\u9a71\u52a8\u7136\u540e\u5305\u62ec\u5b50\u6587\u4ef6\u5939->\u7136\u540e\u4e0b\u4e00\u6b65\u5373\u53ef\u3002"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part4/chapter2/image3.jpg",alt:"image3"})}),"\n",(0,t.jsx)(r.h3,{id:"\u8fd0\u884c\u914d\u7f6ecskydebugserver",children:"\u8fd0\u884c\u914d\u7f6eCSkyDebugServer"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"CSkyDebugServer->setting->Target Setting\n"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part4/chapter2/image4.jpg",alt:"image4"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"SkyDebugServer->setting->Target Setting\n"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part4/chapter2/image5.jpg",alt:"image5"})}),"\n",(0,t.jsx)(r.h3,{id:"\u542f\u52a8cskydebugserver",children:"\u542f\u52a8CSkyDebugServer"}),"\n",(0,t.jsx)(r.p,{children:"\u786e\u4fddR128\u6b63\u5e38\u8fd0\u884c\uff0cCKLink \u6b63\u5e38\u8fde\u63a5\uff0c\u70b9\u51fb\u7ea2\u8272\u6309\u94ae\u542f\u52a8\u8c03\u8bd5"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part4/chapter2/image6.jpg",alt:"image6"})}),"\n",(0,t.jsxs)(r.p,{children:["\u6b64\u65f6\u5982\u679c\u7535\u8111\u672c\u5730\u4e0a\u6709\u7f16\u8bd1\u73af\u5883\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"riscv64-unknown-elf-gdb"})," \u8fdb\u884c\u8c03\u8bd5\uff0c\u5047\u8bbe\u7f16\u8bd1\u83b7\u5f97\u7684\u6587\u4ef6\u8def\u5f84\u4e3a ",(0,t.jsx)(r.code,{children:"/lichee/rtos/build/r128_module_c906/img/rt_system.elf"}),"\uff0c\u8fd0\u884c\u547d\u4ee4\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"riscv64-unknown-elf-gdb -ex 'set arch riscv:rv64' -ex 'file ./lichee/rtos/build/r128_module_c906/img/rt_system.elf' -ex 'set remotetimeout 20' -ex 'target remote 127.0.0.1:3333'\n"})}),"\n",(0,t.jsx)(r.p,{children:"\u4e5f\u53ef\u4ee5\u5982\u4e0b\u64cd\u4f5c"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"riscv64-unknown-elf-gdb ./lichee/rtos/build/r128_module_c906/img/rt_system.elf\n\n\u63a7\u5236\u53f0\u754c\u9762\u8f93\u5165\nset remotetimeout 20\ntarget remote :3333\n\u624d\u53ef\u4ee5\u5efa\u7acb\u8fde\u63a5\n"})}),"\n",(0,t.jsx)(r.h3,{id:"\u914d\u7f6e-vscode",children:"\u914d\u7f6e VSCode"}),"\n",(0,t.jsxs)(r.p,{children:["\u914d\u7f6e\u5982\u4e0b ",(0,t.jsx)(r.code,{children:".vscode/launch.json"})," \u6587\u4ef6"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",children:'{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    "version": "0.2.0",\n    "configurations": [\n        {\n            "name": "(gdb) Launch",\n            "type": "cppdbg",\n            "request": "launch",\n            "program": "${workspaceFolder}/lichee/rtos/build/r128_module_c906/img/rt_system.elf", // \u5bf9\u5e94\u677f\u5b50\u65b9\u6848\u7684elf\u6587\u4ef6\n            "args": [],\n            "stopAtEntry": false,\n            "cwd": "${fileDirname}",\n            "environment": [],\n            "externalConsole": false,\n            "MIMode": "gdb",\n            "miDebuggerPath": "${workspaceFolder}/lichee/rtos/tools/riscv64-elf-x86_64-20201104/bin/riscv64-unknown-elf-gdb",\n            "miDebuggerServerAddress": "localhost:3333", // \u7aef\u53e3\u53f7\uff0c\u672c\u6587\u7535\u8111\u7684CSkyDebugServer\u7aef\u53e33333\n            "setupCommands": [ // \u4e0d\u80fd\u7701\u7565\u5426\u5219\u4f1a\u62a5\u9519\uff0c\u62a5\u9519\u5982\u4e0b\n                {\n                    "description": "Enable pretty-printing for gdb",\n                    "text": "set remotetimeout 20",\n                    "ignoreFailures": true\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(r.p,{children:"\u7701\u7565\u540e\u7684\u62a5\u9519\uff1a"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"Remote replied unexpectedly to 'vMustReplyEmpty': PacketSize=1000;QStartNoAckMode+;qThreadExtraInfo+;qXfer:features:read+\n"})}),"\n",(0,t.jsx)(r.h3,{id:"\u5f00\u59cb\u8c03\u8bd5",children:"\u5f00\u59cb\u8c03\u8bd5"}),"\n",(0,t.jsx)(r.p,{children:"\u70b9\u51fb VSCode \u8c03\u8bd5\u6309\u952e\uff0c\u5f00\u59cb\u8c03\u8bd5\u3002"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part4/chapter2/image7.jpg",alt:"image7"})})]})}function p(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},1151:(e,r,n)=>{n.d(r,{Z:()=>l,a:()=>d});var t=n(7294);const i={},s=t.createContext(i);function d(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);