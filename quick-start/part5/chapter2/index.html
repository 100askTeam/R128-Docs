<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-quick-start/part5/chapter2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">USB 外设功能配置 | aw-r128</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aw-r128.100ask.net/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aw-r128.100ask.net/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aw-r128.100ask.net/quick-start/part5/chapter2"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="USB 外设功能配置 | aw-r128"><meta data-rh="true" name="description" content="USB 功能简介"><meta data-rh="true" property="og:description" content="USB 功能简介"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aw-r128.100ask.net/quick-start/part5/chapter2"><link data-rh="true" rel="alternate" href="https://aw-r128.100ask.net/quick-start/part5/chapter2" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://aw-r128.100ask.net/en/quick-start/part5/chapter2" hreflang="en"><link data-rh="true" rel="alternate" href="https://aw-r128.100ask.net/quick-start/part5/chapter2" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e3ab61ce.css">
<script src="/assets/js/runtime~main.b73eb0c1.js" defer="defer"></script>
<script src="/assets/js/main.a948c6ba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="aw-r128" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="aw-r128" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">全志R128</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/category/视频教程">基础入门</a><a class="navbar__item navbar__link" href="/category/基础组件开发指南">开发指南</a><a class="navbar__item navbar__link" href="/category/应用开发案例">开发案例</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/quick-start/part5/chapter2" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li><li><a href="/en/quick-start/part5/chapter2" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li></ul></div><a href="https://github.com/100askTeam/R128-Docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/视频教程">视频教程</a><button aria-label="展开侧边栏分类 &#x27;视频教程&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/芯片概述">芯片概述</a><button aria-label="展开侧边栏分类 &#x27;芯片概述&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/硬件上手">硬件上手</a><button aria-label="展开侧边栏分类 &#x27;硬件上手&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/sdk入门">SDK入门</a><button aria-label="展开侧边栏分类 &#x27;SDK入门&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/软件配置">软件配置</a><button aria-label="展开侧边栏分类 &#x27;软件配置&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/外设模块配置">外设模块配置</a><button aria-label="折叠侧边栏分类 &#x27;外设模块配置&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quick-start/part5/chapter1">PMU 电源管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/quick-start/part5/chapter2">USB 外设功能配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quick-start/part5/chapter3">ADC 按键配置方法</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/硬件设计">硬件设计</a><button aria-label="展开侧边栏分类 &#x27;硬件设计&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/其他">其他</a><button aria-label="展开侧边栏分类 &#x27;其他&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/外设模块配置"><span itemprop="name">外设模块配置</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">USB 外设功能配置</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>USB 外设功能配置</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usb-功能简介">USB 功能简介<a href="#usb-功能简介" class="hash-link" aria-label="USB 功能简介的直接链接" title="USB 功能简介的直接链接">​</a></h2>
<p>USB 功能模块包括了USB Host，USB Device 和OTG 功能。</p>
<p>USB Host 目前已经支持上的功能有：Mass Storage，UVC。</p>
<p>USB Device 目前已经支持上的功能有：ADB，UAC。</p>
<p>OTG 主要用作Host 与Device 的切换，如当板子通过 USB 线连接到 USB 主机 (PC) 上时，
此时 OTG 是加载成 USB Device；若当前板子是通过 OTG 线连接一个USB 设备，此时 OTG 则加载
成 USB Host。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usb-外设特性">USB 外设特性<a href="#usb-外设特性" class="hash-link" aria-label="USB 外设特性的直接链接" title="USB 外设特性的直接链接">​</a></h2>
<ul>
<li>Complies with USB 2.0 Specification</li>
<li>Supports High-Speed (HS, 480-Mbps), Full-Speed (FS, 12-Mbps), and Low-Speed (LS, 1.5-Mbps) in Host mode</li>
<li>Supports High-Speed (HS, 480 Mbps), Full-Speed (FS, 12 Mbps) in Device mode</li>
<li>Supports the UTMI+ Level 3 interface. The 8-bit bidirectional data buses are used</li>
<li>Supports bi-directional endpoint0 for Control transfer</li>
<li>Supports up to 8 User-Configurable Endpoints for Bulk, Isochronous and Interrupt bi-directional transfers (Endpoint1, Endpoint2, Endpoint3, Endpoint4)</li>
<li>Supports up to (4KB+64Bytes) FIFO for EPs (Including EP0)</li>
<li>Supports High-Bandwidth Isochronous &amp; Interrupt transfers</li>
<li>Automated splitting/combining of packets for Bulk transfers</li>
<li>Supports point-to-point and point-to-multipoint transfer in both Host and Peripheral mode</li>
<li>Includes automatic ping capabilities</li>
<li>Soft connect/disconnect function</li>
<li>Performs all transaction scheduling in hardware</li>
<li>Power Optimization and Power Management capabilities</li>
<li>Includes interface to an external Normal DMA controller for every Eps</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usb-配置介绍">USB 配置介绍<a href="#usb-配置介绍" class="hash-link" aria-label="USB 配置介绍的直接链接" title="USB 配置介绍的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sys_configfex-配置说明"><code>sys_config.fex</code> 配置说明<a href="#sys_configfex-配置说明" class="hash-link" aria-label="sys_configfex-配置说明的直接链接" title="sys_configfex-配置说明的直接链接">​</a></h3>
<p>sys_config.fex 中主要是对 OTG 功能进行配置，各个配置的含义可如下所示：</p>
<table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>[usbc0]</td><td>控制器0的配置。</td></tr><tr><td>usb_used:</td><td>USB使能标志。置1，表示系统中USB模块可用,置0,则表示系统USB禁用。</td></tr><tr><td>usb_port_type</td><td>USB端口的使用情况。 0: device only;1: host only;2: OTG;usb_detect_type: USB</td></tr><tr><td>usb_detect_mode</td><td>USB端口的检查方式。0: 线程轮询;1: id中断触发</td></tr><tr><td>usb_id_gpio</td><td>USB ID pin脚配置。具体请参考gpio配置说明。</td></tr><tr><td>usb_det_vbus_gpio</td><td>USB DET_VBUS pin脚配置。具体请参考gpio配置说明。</td></tr><tr><td>usb_drv_vbus_gpio</td><td>USB DRY_VBUS pin脚配置。具体请参考gpio配置说明。</td></tr><tr><td>usb_drv_vbus_type</td><td>vbus设置方式。0: 无; 1: gpio; 2: axp。</td></tr><tr><td>usb_det_vbus_gpio</td><td>&quot;axp_ctrl&quot;,表示axp 提供。</td></tr><tr><td>usbh_driver_level</td><td>usb驱动能力等级</td></tr><tr><td>usbh_irq_flag</td><td>usb中断标志</td></tr></tbody></table>
<p>示例：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">;--------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">;---       USB0控制标志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">;--------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbc0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_used                = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_port_type           = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_detect_type         = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_detect_mode         = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_id_gpio             = port:PB04&lt;0&gt;&lt;0&gt;&lt;default&gt;&lt;default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_det_vbus_gpio       = port:PA24&lt;0&gt;&lt;0&gt;&lt;default&gt;&lt;default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_drv_vbus_gpio       = port:PA29&lt;1&gt;&lt;0&gt;&lt;default&gt;&lt;default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_drv_vbus_type       = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usbh_driver_level       = 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usbh_irq_flag           = 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rtos-menuconfig-配置说明">rtos menuconfig 配置说明<a href="#rtos-menuconfig-配置说明" class="hash-link" aria-label="rtos menuconfig 配置说明的直接链接" title="rtos menuconfig 配置说明的直接链接">​</a></h3>
<ul>
<li>使能USB 驱动</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [*] USB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>使能OTG</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [*] USB_MANAGER</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>使能USB Host</li>
</ul>
<p>使能完USB Host 之后，还需要选择：OHCI 与EHCI（一共有0 和1 两组，对于R128 来说，只需要使能USB0）。另外，还要选择功能驱动（Mass Storage，UVC），不然只是使能USB Host 则无法正常运行USB Host 的功能。</p>
<p>USB Host 控制器驱动配置如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">USB Host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [*] USB_HOST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OHCI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB HOST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] USB_OHCI_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EHCI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB HOST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] USB_EHCI_0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>使能USB Device</li>
</ul>
<p>USB Device 除了UDC 的使能之外，也需要选择对应的功能驱动Gadget 以及功能驱动对应的上层应用。</p>
<p>USB Device 控制器驱动配置如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">USB Device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [*] USB_DEVICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USB Device使能dma通信</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB DEVICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] UDC_USE_DMA</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usb-源码结构">USB 源码结构<a href="#usb-源码结构" class="hash-link" aria-label="USB 源码结构的直接链接" title="USB 源码结构的直接链接">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lichee/rtos‑hal/hal/source/usb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── common/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── core/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── gadget/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── function/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── hid/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── Class/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── Client/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ │ ├── KeyBoard/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ │ └── Mouse/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── Include/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── host/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── include/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── manager/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── platform/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── storage/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── Class/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── Disk/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── include/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ └── Misc/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── udc/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── uvc/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Class/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── drv_webcam/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ├── dev_cfg/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ └── webcam_core/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Include/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Misc/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Webcam/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>common: USB 驱动初始化公用文件。</li>
<li>core: USB Host 驱动框架层文件。</li>
<li>gadget: USB Deivce 功能驱动gadget 驱动总入口文件，function 则是各个功能驱动的驱动文件。</li>
<li>hid: USB Host HID 协议及驱动文件。</li>
<li>host: USB Host 硬件控制器驱动。</li>
<li>include: USB 公用头文件。</li>
<li>manager: USB OTG 驱动。</li>
<li>platform: 不同平台的配置文件。</li>
<li>storage: USB Host Mass Storage 协议及驱动文件。</li>
<li>udc: USB Deivce 硬件控制器驱动。</li>
<li>uvc: USB Host UVC 协议及驱动文件。</li>
</ul>
<p>详细说明请见：<a href="/sdk_module/usb">HAL USB</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usb-常用功能说明">USB 常用功能说明<a href="#usb-常用功能说明" class="hash-link" aria-label="USB 常用功能说明的直接链接" title="USB 常用功能说明的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置otg-功能">配置OTG 功能<a href="#配置otg-功能" class="hash-link" aria-label="配置OTG 功能的直接链接" title="配置OTG 功能的直接链接">​</a></h3>
<p>OTG 功能下，需要根据USB ID 脚去进行Device/Host 模式的切换；如果需要支持NULL 模式（既不加载Device 也不加载Host 驱动）, 那么还需要VBUS 状态检测引脚。</p>
<p>涉及到的主要改动点：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">在sys_config.fex，修改如下配置：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_port_type配置为2,即OTG模式。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_id_gpio配置对应的USB ID引脚。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb_det_vbus_gpio, 需要根据实际情况进行配置:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1.如果需要检测VBUS状态，则按下面情况进行配置：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">配置成对应的gpio即可。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.如果不需要检测VBUS状态(缺少NULL模式)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">那么直接填写USB ID的gpio配置(也就是VBUS与ID状态一致)。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>USB OTG 驱动，会根据ID 和VBUS 的状态，自动切换成对应的模式。ID 和VBUS 的对应关系如下表：</p>
<table><thead><tr><th>ID</th><th>VBUS</th><th>模式</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>Host</td></tr><tr><td>1</td><td>0</td><td>Null</td></tr><tr><td>0</td><td>1</td><td>Host</td></tr><tr><td>1</td><td>1</td><td>Device</td></tr></tbody></table>
<ul>
<li>ID 脚一般情况下为高电平，只有接入OTG 线时会拉低;</li>
<li>VBUS 为1 表示micro USB 口有接入外部电源;</li>
<li>一般不会出现ID 为0，VBUS 为1 的情况。这表示接入OTG 线，但是还检测到VBUS;</li>
<li>如果没有VBUS 检测，ID 只有0 和1 的两种情况, 也就是说要么加载device 驱动，要么加载host 驱动; 这会带来一些影响：usb 相关时钟一直被打开，导致有一定功耗，以及硬件射频。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usb-gadget-功能配置">USB Gadget 功能配置<a href="#usb-gadget-功能配置" class="hash-link" aria-label="USB Gadget 功能配置的直接链接" title="USB Gadget 功能配置的直接链接">​</a></h3>
<p>USB Gadget 支持众多功能，它们的配置方法比较类似，只需要在mrtos_menuconfig 中选上对应的Gadget 功能驱动即可在系统初始化时自动加载。与Linux 不一样的是，RTOS 的gadget 功能配置全部hardcode 在功能驱动里，无需像Linux 一样需要在应用层手动进行gadget 配置。</p>
<p>另外，目前RTOS 的USB 驱动还不支持composite gadget，因此只能支持加载单一的gadget 功能驱动，无法同时多个功能。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adb-功能">ADB 功能<a href="#adb-功能" class="hash-link" aria-label="ADB 功能的直接链接" title="ADB 功能的直接链接">​</a></h4>
<p>adb 的全称为Android Debug Bridge，就是起到调试桥的作用。通过ADB，可以直接在PC 上通过命令行控制小机端的控制台；也可以通过ADB 进行文件传输。</p>
<p>menuconfig 驱动相关配置：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB DEVICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] DRIVERS_USB_GADGET_ADB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>menuconfig ADBD 应用相关配置：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; System components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; aw components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Components Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB Gadget Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] adbd service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在RTOS 的USB 框架中，一旦加载了adb gadget，就会自动启用adbd 服务，直接连上PC 就可以使用了。</p>
<p>adb 正常启动的相关log：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[usb0] insmod device driver!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adbd version:AW‑V1.1.6, compiled on: Apr 11 2023 10:33:24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adbd service init successful</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>PC 运行效果图如下图所示：</p>
<p><img loading="lazy" alt="image1" src="data:image/png;base64,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" width="504" height="255" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="uac-功能">UAC 功能<a href="#uac-功能" class="hash-link" aria-label="UAC 功能的直接链接" title="UAC 功能的直接链接">​</a></h4>
<p>UAC 全称为USB Audio Class，USB 音频类。</p>
<p>通过UAC，可以实现实时获取音频设备的音频数据，并且通过UAC 实现操控设备音量，采样率，等参数。UAC 实现对外接音频操作，从用户功能来说，主要包括USB 麦克风、USB 声卡和其它音频设备的功能控制和接口标准。</p>
<p>menuconfig 驱动相关配置：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB DEVICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] DRIVERS_USB_GADGET_UAC</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>menuconfig UACD 应用相关配置：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; System components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; aw components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Components Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB Gadget Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] uacd service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; System components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; aw components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Components Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB Gadget Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ‑&gt; uacd audio function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [*] AudioSystem local audio</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>uacd 正常启动的相关log：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[usb0] insmod device driver!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uacd version:AW‑V0.5, compiled on: Apr 27 2023 10:44:02</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[UACD‑INFO][u_audio_init] line:167 stream=1, rate=48000, ch=2, bits=16, audio_buf_size=192</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[UACD‑INFO][u_audio_init] line:167 stream=0, rate=16000, ch=2, bits=16, audio_buf_size=64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[UACD‑INFO][u_audio_stop_capture] line:320</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[UACD‑INFO][u_audio_stop_playback] line:457</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[UACD‑INFO][u_audio_stop_capture] line:320</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[UACD‑INFO][u_audio_stop_playback] line:457</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>启动成功之后，能够在PC 端看到新增了一个音频输入和输出的设备，如下图：</p>
<p><img loading="lazy" alt="image2" src="data:image/png;base64,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" width="432" height="137" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usb-host-功能配置">USB Host 功能配置<a href="#usb-host-功能配置" class="hash-link" aria-label="USB Host 功能配置的直接链接" title="USB Host 功能配置的直接链接">​</a></h3>
<p>接入OTG 线后，成功切换成 USB Host 的log 可参考如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ehci‑usb0] insmod host driver!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">calibration finish, val:0x19, usbc_no:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ehci insmod status = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: add gen_dev SW USB2.0 &#x27;Enhanced&#x27; Host Controller (EHCI) Driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[D(rv.)] devops: register dev(sunxi_timer) ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USB 0.0 started, EHCI 1.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: adding sub dev (config #1, interface 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb match id suceessfull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[hub]: usb hub probe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[hub]: 1 port detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh hub]: local power source is good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[E(rv.)] pm device sunxi_ehci0(00000000082AE1D0) has already registered</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ohci‑usb0] insmod host driver!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">calibration finish, val:0x19, usbc_no:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: add gen_dev SW USB2.0 &#x27;Open&#x27; Host Controller (OHCI) Driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: adding sub dev (config #1, interface 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb match id suceessfull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[hub]: usb hub probe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[hub]: 1 port detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh hub]: local power source is good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[D(rv.)] devops: register dev(sunxi_ohci0) ok</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="u-盘功能">U 盘功能<a href="#u-盘功能" class="hash-link" aria-label="U 盘功能的直接链接" title="U 盘功能的直接链接">​</a></h4>
<p>选上以下配置：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Mass Storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB HOST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] Mass Storage support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] USB CD support	</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>等待U 盘挂载成功，可以发现根目录下多了一个usb_msc 的文件夹 ，这个即是U 盘挂载的文件夹。可以通过该文件夹与U 盘进行读取/传输文件。</p>
<ul>
<li>目前R128 只支持fat32 文件系统的U 盘，其他文件系统U 盘会挂载失败。</li>
<li>只支持挂载单分区的U 盘，如果U 盘被分解成了多个分区的话，只能挂载上第一个分区。</li>
</ul>
<p>接入U 盘后，系统开始识别U 盘。成功识别到U 盘的log 信息如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ehci_irq: highspeed device connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 0...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 0...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 25...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 50...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 75...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hub_port_init: udev address = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[hub_port_init]: new high speed USB device address 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb hub set new address(2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: adding sub dev (config #1, interface 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb match id suceessfull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mscDevProbe begin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[msc]: GetMaxLUN successful, max lun is 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">begin mscLunAdd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">disk, send last lun msg.........</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mscLun‑&gt;LunNo=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mscLun‑&gt;mscDev‑&gt;MaxLun=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BlkDev‑&gt;last_lun=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Wrn: short transfer, urb_state(0), want_len(192), real_len(70)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Wrn: short transfer, urb_state(0), want_len(192), real_len(24)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑Disk Information‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WriteProtect = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MediaPresent = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WCE = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RCD = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">capacity = 29532M, sector number = 60481536</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sector_size = 512</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DevNo = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClassName =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DevName = SCSI_DISK_000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑‑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hub_port = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cnt = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Classname = DISK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DevName = SCSI_DISK_000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DeviceName = SCSI_DISK_000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vender = TOSHIBA USB FLASH DRIVE PMAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Product = USB FLASH DRIVE PMAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Serial = PMAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HubPortNo = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DeviceType = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DiskRead: block(0, 1) is adjacence max capacity(39ae000), can&#x27;t use special write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mount usb mass storage successull!!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">..............................................................................</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[USB Disk]: Register new device, class = [DISK], dev = [SCSI_DISK_000]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">..............................................................................</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end mscLunAdd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mscDevScanThread end...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>然后通过ls 查看usb_msc，可以看到U 盘里的文件：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c906&gt;ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dev data usb_msc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c906&gt;ls usb_msc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System Volume Information 3.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usb-摄像头">USB 摄像头<a href="#usb-摄像头" class="hash-link" aria-label="USB 摄像头的直接链接" title="USB 摄像头的直接链接">​</a></h3>
<p>选上以下配置：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">UVC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; Drivers Options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; soc related device drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB HOST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] USB_CAMERA</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接上USB 摄像头后，成功识别出摄像头后会出现以下log:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ehci_irq: highspeed device connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 0...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 0...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 25...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 50...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port debounce 75...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hub_port_init: udev address = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[hub_port_init]: new high speed USB device address 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb hub set new address(3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[hub] :skipped 1 descriptor after configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">skipped 6 descriptors after interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">skipped 1 descriptor after endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">skipped 26 descriptors after interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">num_ep:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">skipped 1 descriptor after endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">skipped 4 descriptors after interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">num_ep:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">num_ep:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">skipped 2 descriptors after interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">skipped 1 descriptor after endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: adding sub dev (config #1, interface 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb match id suceessfull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UVCDevProbe begin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Probing generic UVC device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device quirks 0x0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found format MJPEG.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 1920x1080 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 1280x720 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 640x480 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 640x360 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 352x288 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 320x240 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 320x180 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 176x144 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 160x120 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 1920x1080(30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found format YUV 4:2:2 (YUYV).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 1920x1080 (5.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 1280x720 (10.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 640x480 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 640x360 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 352x288 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 320x240 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 320x180 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 176x144 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 160x120 (30.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑ 1920x1080 (5.0 fps)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found UVC 1.00 device USB 2.0 Camera (0c45:6366)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">num_altsetting=7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UVC device initialized.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DRV_WEBCAM_MInit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">webcam plug in message...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: adding sub dev (config #1, interface 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: adding sub dev (config #1, interface 2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[usbh core]: adding sub dev (config #1, interface 3)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>通过log 信息能够看到，在识别出USB 摄像头后，会打印出该摄像头支持的格式以  及分辨率。</p>
<p>接着通过uvc 测试命令，对UVC 功能进行测试：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">usb uvc_test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>测试命令调用完成之后，会在/data 目录下生成5 张名为/data/source_frame_x.jpg 的图片。通过adb pull 将图片拉到PC 端，然后在PC 端打开图片即可看到USB 摄像头拍下的照片。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usb-调试方法">USB 调试方法<a href="#usb-调试方法" class="hash-link" aria-label="USB 调试方法的直接链接" title="USB 调试方法的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usb-otg-功能调试">USB OTG 功能调试<a href="#usb-otg-功能调试" class="hash-link" aria-label="USB OTG 功能调试的直接链接" title="USB OTG 功能调试的直接链接">​</a></h3>
<p>除了OTG 的自动切换功能，还可以进行手动的切换，需要使用到USB 命令。</p>
<p>USB Device/Host 的手动切换方法：</p>
<p>输入usb ‑h 能够看见usb 的全部命令。</p>
<ul>
<li>USB Device 的相关命令</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">usb udc {‑i|‑r} [&lt;port&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑i：指的是指定需要进行切换的USB口。目前R128芯片只有USB0是支持Device模式的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑r：指的是remove，注销当前的Device模式。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">比如说将USB0切换成Device模式，则运行：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb udc ‑i 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>USB Host 的相关命令</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">usb hci {‑i|‑r} [&lt;port&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑i：指的是指定需要进行切换的USB口。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‑r：指的是remove，注销当前的Host模式。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">比如说将USB0切换成Host模式，则运行：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usb hci ‑i 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usb-相关工具">USB 相关工具<a href="#usb-相关工具" class="hash-link" aria-label="USB 相关工具的直接链接" title="USB 相关工具的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adb">ADB<a href="#adb" class="hash-link" aria-label="ADB的直接链接" title="ADB的直接链接">​</a></h3>
<p>ADB 功能是从Android 移植过来的，设备端会运行adbd 服务，而Host 端(一般为PC) 通过adb工具进行调试，如adb shell, adb push/pull 等。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adb-功能说明">ADB 功能说明<a href="#adb-功能说明" class="hash-link" aria-label="ADB 功能说明的直接链接" title="ADB 功能说明的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adb-shell-功能">adb shell 功能<a href="#adb-shell-功能" class="hash-link" aria-label="adb shell 功能的直接链接" title="adb shell 功能的直接链接">​</a></h4>
<p>PC端执行adb shell,可进入控制台。</p>
<p>PC端执行adb shell + command, 例如adb shell ls /可以直接将结果输出到终端。</p>
<p><img loading="lazy" alt="image3" src="data:image/png;base64,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" width="479" height="154" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adb-pushpull-功能">adb push/pull 功能<a href="#adb-pushpull-功能" class="hash-link" aria-label="adb push/pull 功能的直接链接" title="adb push/pull 功能的直接链接">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推送文件到小机端：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adb push test.bin /data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">从小机端拉取文件：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adb pull /data/test.bin .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" alt="image4" src="/assets/images/image4-acb9e025b18f2043eca387dc74dbe27e.png" width="674" height="158" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adb-网络连接">adb 网络连接<a href="#adb-网络连接" class="hash-link" aria-label="adb 网络连接的直接链接" title="adb 网络连接的直接链接">​</a></h4>
<p>如果需要用此功能，需要额外进行menuconfig 的配置，配置方法如下：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‑&gt; System components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‑&gt; aw components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ‑&gt; USB Components Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ‑&gt; USB Gadget Support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [*] adb local transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (5555) adb local transport port</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>adb local transport port 是用于配置端口号的，用于在adb 网络连接时匹配端口的，默认为5555。</p>
<blockquote>
<p>在进行网络adb 连接之前，需要保证PC 和小机端在同一个局域网中，并且可以ping 通。</p>
</blockquote>
<p>小机端运行ifconfig，查看当前小机端的IP，假设IP为192.168.1.101。</p>
<p>则PC端执行adb connect 192.168.1.101建立连接，然后就可以开始执行adb shell等命令了。</p>
<p><img loading="lazy" alt="image5" src="/assets/images/image5-c98b13451bee00b6686473d658636cea.png" width="656" height="160" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/100askTeam/R128-Docs/tree/main/docs/quick-start/part5/chapter2.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/quick-start/part5/chapter1"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">PMU 电源管理</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/quick-start/part5/chapter3"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">ADC 按键配置方法</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usb-功能简介" class="table-of-contents__link toc-highlight">USB 功能简介</a></li><li><a href="#usb-外设特性" class="table-of-contents__link toc-highlight">USB 外设特性</a></li><li><a href="#usb-配置介绍" class="table-of-contents__link toc-highlight">USB 配置介绍</a><ul><li><a href="#sys_configfex-配置说明" class="table-of-contents__link toc-highlight"><code>sys_config.fex</code> 配置说明</a></li><li><a href="#rtos-menuconfig-配置说明" class="table-of-contents__link toc-highlight">rtos menuconfig 配置说明</a></li></ul></li><li><a href="#usb-源码结构" class="table-of-contents__link toc-highlight">USB 源码结构</a></li><li><a href="#usb-常用功能说明" class="table-of-contents__link toc-highlight">USB 常用功能说明</a><ul><li><a href="#配置otg-功能" class="table-of-contents__link toc-highlight">配置OTG 功能</a></li><li><a href="#usb-gadget-功能配置" class="table-of-contents__link toc-highlight">USB Gadget 功能配置</a></li><li><a href="#usb-host-功能配置" class="table-of-contents__link toc-highlight">USB Host 功能配置</a></li><li><a href="#usb-摄像头" class="table-of-contents__link toc-highlight">USB 摄像头</a></li></ul></li><li><a href="#usb-调试方法" class="table-of-contents__link toc-highlight">USB 调试方法</a><ul><li><a href="#usb-otg-功能调试" class="table-of-contents__link toc-highlight">USB OTG 功能调试</a></li></ul></li><li><a href="#usb-相关工具" class="table-of-contents__link toc-highlight">USB 相关工具</a><ul><li><a href="#adb" class="table-of-contents__link toc-highlight">ADB</a></li><li><a href="#adb-功能说明" class="table-of-contents__link toc-highlight">ADB 功能说明</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dongshanpi.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">DongshanPI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://canaan-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Canaan-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://renesas-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Renesas-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rtos.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">RTOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tina.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TinaSDK-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://allwinner-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Allwinner-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aw-r128.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">R128-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://space.bilibili.com/275908810" target="_blank" rel="noopener noreferrer" class="footer__link-item">BiliBili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forums.100ask.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://video.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VideoCenter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dongshanpi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://weidongshan.coding.net/public/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coding<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/100askTeam" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/weidongshan" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 100askTeam, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>